/*! For license information please see main.4f1983c9.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var g=o[y];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=h(n,g);try{c(t,g,m)}catch(A){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function b(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||w(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===A||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case b:return"Portal";case C:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ae(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,_e=null,Ee=null;function Ce(e){if(e=Ai(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Te(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ee)&&(Te(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,Be=null,je={onError:function(e){Me=!0,Ue=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var At=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,_t,Et,Ct,St=!1,It=[],xt=null,Tt=null,Nt=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ai(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=mi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ai(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function jt(){St=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Bt),Pt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Vt(xt,e),null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var zt=k.ReactCurrentBatchConfig,Qt=!0;function Ht(e,t,n,r){var i=At,a=zt.transition;zt.transition=null;try{At=1,Kt(e,t,n,r)}finally{At=i,zt.transition=a}}function Wt(e,t,n,r){var i=At,a=zt.transition;zt.transition=null;try{At=4,Kt(e,t,n,r)}finally{At=i,zt.transition=a}}function Kt(e,t,n,r){if(Qt){var i=Yt(e,t,n,r);if(null===i)Qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=Ai(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=mi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),yn=an(U({},fn,{relatedTarget:0})),gn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=an(mn),kn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return En}var Sn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Sn),xn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Bn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Yn(e){if(K(ki(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,Ar=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Cr(e){if(_r[e])return _r[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=Cr("animationend"),Ir=Cr("animationiteration"),xr=Cr("animationstart"),Tr=Cr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Sr:case Ir:case xr:u=gn;break;case Tr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,mi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Gr(o,s,u,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Jn;else if(Qn(s))if(Xn)y=or;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Qn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var m;if(On)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qn?jn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==A?"onCompositionEnd"===A&&qn&&(m=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(g=Wr(r,A)).length&&(A=new kn(A,e,null,n,i),o.push({event:A,listeners:g}),m?A.data=m:null!==(m=Vn(n))&&(A.data=m))),(m=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function mi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function Ai(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],_i=-1;function Ei(e){return{current:e}}function Ci(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function Si(e,t){_i++,bi[_i]=e.current,e.current=t}var Ii={},xi=Ei(Ii),Ti=Ei(!1),Ni=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ti),Ci(xi)}function Oi(e,t,n){if(xi.current!==Ii)throw Error(a(168));Si(xi,t),Si(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=xi.current,Si(xi,e),Si(Ti,Ti.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(xi),Si(xi,e)):Ci(Ti),Si(Ti,n)}var Fi=null,Bi=!1,ji=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=At;try{var n=Fi;for(At=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,qi),i}finally{At=t,ji=!1}}return null}var zi=[],Qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){zi[Qi++]=Wi,zi[Qi++]=Hi,Hi=e,Wi=t}function $i(e,t,n){Ki[Gi++]=Ji,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Qi],zi[Qi]=null,Wi=zi[--Qi],zi[Qi]=null;for(;e===Yi;)Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ma=null,Aa=null,ka=null;function wa(){ka=Aa=ma=null}function ba(e){var t=ga.current;Ci(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ma=e,ka=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===ma)throw Error(a(308));Aa=e,ma.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Sa=null;function Ia(e){null===Sa?Sa=[e]:Sa.push(e)}function xa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Pi(t)?Ni:xi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Pi(t)?Ni:xi.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case b:return(t=Bc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=y}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function y(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var A=d(i,v,m.value,c);if(null===A){null===v&&(v=g);break}e&&v&&null===A.alternate&&t(i,v),s=o(A,s,y),null===f?l=A:f.sibling=A,f=A,v=g}if(m.done)return n(i,v),ia&&Zi(i,y),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return ia&&Zi(i,y),l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci($a),Si($a,t)}function io(){Ci($a),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ci($a),Ci(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,go=null,mo=!1,Ao=!1,ko=0,wo=0;function bo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),Ao){o=0;do{if(Ao=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(Ao)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,go=yo=vo=null,mo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==ko;return ko=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function xo(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Uu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Io().memoizedState}function Vo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Qo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Wo(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Uu|=n,e.baseState=!0),t)}function $o(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{At=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=xa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xa(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){Ao=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var os={readContext:Ca,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Jo,useContext:Ca,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:To,useRef:jo,useState:function(){return To(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),yo.memoizedState,e)},useTransition:function(){return[To(xo)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:Jo,useContext:Ca,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[No(xo)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var As=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Co(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Pi(n)?Ni:xi.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Co(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Qs(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Ri(t,c=Pi(n)?Ni:xi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Na?("function"===typeof l&&(ja(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Ri(t,u=Pi(n)?Ni:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Qa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hs(e,t,a);r=t.stateNode,As.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Uc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ms,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rc(r,e,i,-1))}return yc(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Ji,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ci(Ti),Ci(xi),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=Ae(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&A(e,o,l,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ds(e,t),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return ba(t.type._context),Ks(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ti),Ci(xi),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return ba(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){Cc(e,e.return,y)}try{ru(5,e,e.return)}catch(y){Cc(e,e.return,y)}}break;case 1:yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Cc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),Ae(u,s);var l=Ae(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):A(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Cc(e,e.return,y)}}break;case 6:if(yu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Cc(e,e.return,y)}}break;case 3:if(yu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Cc(e,e.return,y)}break;case 4:default:yu(t,e),mu(e);break;case 13:yu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,yu(t,e),Xs=l):yu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Cc(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){bu(h);continue}}null!==p?(p.return=d,$s=p):bu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Cc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Cc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(t,e),mu(e),4&r&&vu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Au(e,t,n){$s=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,ku(a,t,n),a=a.sibling;$s=i,Js=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Cc(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cc(t,o,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Eu,Cu=Math.ceil,Su=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,xu=k.ReactCurrentBatchConfig,Tu=0,Nu=null,Ru=null,Pu=0,Du=0,Ou=Ei(0),Lu=0,Mu=null,Uu=0,Fu=0,Bu=0,ju=null,Vu=null,qu=0,zu=1/0,Qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Yu=null,Ju=0,Xu=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Tu)?Xe():-1!==$u?$u:$u=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=At)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Zu=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Nu||(e===Nu&&(0===(2&Tu)&&(Fu|=n),4===Lu&&uc(e,Pu)),ic(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(zu=Xe()+500,Bi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Tu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=vc();for(Nu===e&&Pu===t||(Qu=null,zu=Xe()+500,dc(e,t));;)try{Ac();break}catch(u){pc(e,u)}wa(),Su.current=o,Tu=i,null!==Ru?t=0:(Nu=null,Pu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Vu,Qu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Vu,Qu),t);break}bc(e,Vu,Qu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Vu,Qu),r);break}bc(e,Vu,Qu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Bu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Vu,Qu),ic(e,Xe()),null}function lc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Xe()+500,Bi&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&_c();var t=Tu;Tu|=1;var n=xu.transition,r=At;try{if(xu.transition=null,At=1,e)return e()}finally{At=r,xu.transition=n,0===(6&(Tu=t))&&qi()}}function hc(){Du=Ou.current,Ci(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ti),Ci(xi),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:ba(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Ru=e=Oc(e.current,null),Pu=Du=t,Lu=0,Mu=null,Bu=Fu=Uu=0,Vu=ju=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ru;try{if(wa(),fo.current=os,mo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(po=0,go=yo=vo=null,Ao=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var m=o.type,A=o.stateNode;if(0===(128&o.flags)&&("function"===typeof m.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Ku||!Ku.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function yc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Uu)&&0===(268435455&Fu)||uc(Nu,Pu)}function gc(e,t){var n=Tu;Tu|=2;var r=vc();for(Nu===e&&Pu===t||(Qu=null,dc(e,t));;)try{mc();break}catch(i){pc(e,i)}if(wa(),Tu=n,Su.current=r,null!==Ru)throw Error(a(261));return Nu=null,Pu=0,Lu}function mc(){for(;null!==Ru;)kc(Ru)}function Ac(){for(;null!==Ru&&!Ye();)kc(Ru)}function kc(e){var t=Eu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Ru=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Ru=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Lu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Lu&&(Lu=5)}function bc(e,t,n){var r=At,i=xu.transition;try{xu.transition=null,At=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var s=At;At=1;var u=Tu;Tu|=4,Iu.current=null,function(e,t){if(ei=Qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Qt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,m=t.stateNode,A=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),g);m.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Qt=!!ei,ti=ei=null,e.current=n,Au(n,e,i),Je(),Tu=u,At=s,xu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Yu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,qi()}(e,t,n,r)}finally{xu.transition=i,At=r}return null}function _c(){if(null!==Yu){var e=kt(Ju),t=xu.transition,n=At;try{if(xu.transition=null,At=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ju=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,$s=m;break e}$s=o.return}}var A=e.current;for($s=A;null!==$s;){var k=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,$s=k;else e:for(s=A;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(b){Cc(u,u.return,b)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Tu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{At=n,xu.transition=t}}return!1}function Ec(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Lu||3===Lu&&(130023424&Pu)===Pu&&500>Xe()-qu?dc(e,0):Bu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ta(e,t))&&(gt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case T:return(e=Pc(13,n,t,i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Uc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case x:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ca(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_s(e,t,r,i=ya(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Qs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ha(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Qc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),ic(t,Xe()),0===(6&Tu)&&(zu=Xe()+500,qi()))}break;case 13:fc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},bt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return At},Ct=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=lc,Te=fc;var tl={usingClientEntryPoint:!1,Events:[Ai,ki,wi,Se,Ie,lc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===c}},900:function(e,t,n){e.exports=n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function m(){}function A(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var k=A.prototype=new m;k.constructor=A,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+x(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+x(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+x(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=A,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,D(b);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function b(e,n){v=!1,y&&(y=!1,m(S),S=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,C=null,S=-1,I=5,x=-1;function T(){return!(t.unstable_now()-x<I)}function N(){if(null!==C){var e=t.unstable_now();x=e;var n=!0;try{n=C(!0,e)}finally{n?_():(E=!1,C=null)}}else E=!1}if("function"===typeof A)_=function(){A(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){g(N,0)};function D(e){C=e,E||(E=!0,_())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(m(S),S=-1):y=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)},413:function(e,t,n){e.exports=n.p+"static/media/MessageTone.71875f38f16101cf915c.mp3"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".731f0dd6.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="it-kamasutra:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/React/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkit_kamasutra=self.webpackChunkit_kamasutra||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e=n(791),t=n.t(e,2),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||o(e,t)||s()}var c,l={App:"App_App__B2Ebb"};function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return a(e)}(e)||f(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function E(e,t,n){return E=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},E.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},C(e)}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(c||(c={}));var x,T="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,f=c.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=c.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function y(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:O(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(I({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(o,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(T,v),h=e,function(){o.removeEventListener(T,v),h=null}},createHref:function(e){return t(o,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=c.Push;var r=D(g.location,e,t);n&&n(r,e);var i=P(r,d=p()+1),a=g.createHref(r);try{l.pushState(i,"",a)}catch(Gd){o.location.assign(a)}u&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=c.Replace;var r=D(g.location,e,t);n&&n(r,e);var i=P(r,d=p()),a=g.createHref(r);l.replaceState(i,"",a),u&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}function U(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],J(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||f(n)||o(n)||s(),a=r[0],u=r.slice(1),c=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===u.length)return c?[l,""]:[l];var d=B(u.join("/")),p=[];return p.push.apply(p,h(d.map((function(e){return""===e?l:[l,e].join("/")})))),c&&p.push.apply(p,h(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));var j=/^:\w+$/,V=3,q=2,z=1,Q=10,H=-2,W=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=q),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(j.test(t)?V:""===t?z:Q)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Gd){return Z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Gd+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function J(e){try{return decodeURI(e)}catch(Gd){return Z(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Gd+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(N(!(i=I({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(C(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},he=e.useState,de=e.useEffect,pe=e.useLayoutEffect,ve=e.useDebugValue;function ye(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!fe(n,r)}catch(Gd){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(t);var ge=e.createContext(null);var me=e.createContext(null);var Ae=e.createContext(null);var ke=e.createContext(null);var we=e.createContext(null);var be=e.createContext({outlet:null,matches:[]});var _e=e.createContext(null);function Ee(){return null!=e.useContext(we)}function Ce(){return Ee()||N(!1),e.useContext(we).location}function Se(){Ee()||N(!1);var t=e.useContext(ke),n=t.basename,r=t.navigator,i=e.useContext(be).matches,a=Ce().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=te(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ne([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function Ie(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(be).matches,a=Ce().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return te(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function xe(){var t=function(){var t,n=e.useContext(_e),r=Oe(Ne.UseRouteError),i=Le(Ne.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=se(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Te,Ne,Re=function(t){A(r,t);var n=_(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(be.Provider,{value:this.props.routeContext},e.createElement(_e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Pe(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(ge);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(be.Provider,{value:n},i)}function De(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||e.createElement(xe,null):null,l=n.concat(i.slice(0,s+1)),f=function(){return e.createElement(Pe,{match:o,routeContext:{outlet:t,matches:l}},u?c:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===s)?e.createElement(Re,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Oe(t){var n=e.useContext(me);return n||N(!1),n}function Le(t){var n=function(t){var n=e.useContext(be);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Te||(Te={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Me;function Ue(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;Ee()||N(!1);var o=e.useContext(me),s=Se();return e.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function Fe(e){N(!1)}function Be(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?c.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;Ee()&&N(!1);var d=r.replace(/^\/*/,"/"),p=e.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=L(o));var v=o,y=v.pathname,g=void 0===y?"/":y,m=v.search,A=void 0===m?"":m,k=v.hash,w=void 0===k?"":k,b=v.state,_=void 0===b?null:b,E=v.key,C=void 0===E?"default":E,S=e.useMemo((function(){var e=X(g,d);return null==e?null:{pathname:e,search:A,hash:w,state:_,key:C}}),[d,g,A,w,_,C]);return null==S?null:e.createElement(ke.Provider,{value:p},e.createElement(we.Provider,{children:a,value:{location:S,navigationType:u}}))}function je(t){var n=t.children,r=t.location,i=e.useContext(ge);return function(t,n){Ee()||N(!1);var r,i=e.useContext(ke).navigator,a=e.useContext(me),o=e.useContext(be).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ce());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),r=d}else r=f;var p=r.pathname||"/",v=U(t,{pathname:"/"===l?p:p.slice(l.length)||"/"}),y=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ne([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&y?e.createElement(we.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:c.Pop}},y):y}(i&&!n?i.router.routes:qe(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ve=new Promise((function(){}));e.Component;function qe(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==Fe&&N(!1),t.props.index&&t.props.children&&N(!1);var a=[].concat(h(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=qe(t.props.children,a)),r.push(o)}else r.push.apply(r,qe(t.props.children,n))})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],We=["aria-current","caseSensitive","className","end","style","to","children"];function Ke(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),M((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return D("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:O(t))}),(function(e,t){R("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,c=u(e.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1];return e.useLayoutEffect((function(){return s.listen(f)}),[s]),e.createElement(Be,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,c=t.target,l=t.to,f=t.preventScrollReset,h=Qe(t,He),d=!1;if(Ge&&"string"===typeof l&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){r=l;var p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l);v.origin===p.origin?l=v.pathname+v.search+v.hash:d=!0}var y=function(t,n){var r=(void 0===n?{}:n).relative;Ee()||N(!1);var i=e.useContext(ke),a=i.basename,o=i.navigator,s=Ie(t,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),g=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Se(),l=Ce(),f=Ie(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:O(l)===O(f);c(t,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,t,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return e.createElement("a",ze({},h,{href:r||y,onClick:d||o?i:function(e){i&&i(e),e.defaultPrevented||g(e)},ref:n,target:c}))}));var Je=e.forwardRef((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,s=t.className,u=void 0===s?"":s,c=t.end,l=void 0!==c&&c,f=t.style,h=t.to,d=t.children,p=Qe(t,We),v=Ie(h,{relative:p.relative}),y=Ce(),g=e.useContext(me),m=e.useContext(ke).navigator,A=m.encodeLocation?m.encodeLocation(v).pathname:v.pathname,k=y.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(k=k.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase());var b,_=k===A||!l&&k.startsWith(A)&&"/"===k.charAt(A.length),E=null!=w&&(w===A||!l&&w.startsWith(A)&&"/"===w.charAt(A.length)),C=_?i:void 0;b="function"===typeof u?u({isActive:_,isPending:E}):[u,_?"active":null,E?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:_,isPending:E}):f;return e.createElement(Ye,ze({},p,{"aria-current":C,className:b,ref:n,style:S,to:h}),"function"===typeof d?d({isActive:_,isPending:E}):d)}));var Xe,Ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Xe||(Xe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ze||(Ze={}));var $e=n(77),et=n.n($e),tt=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===nt}(e)}(e)};var nt="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function rt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?at((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function it(e,t,n){return e.concat(t).map((function(e){return rt(e,n)}))}function at(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||it,n.isMergeableObject=n.isMergeableObject||tt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=rt(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=at(e[i],t[i],n):r[i]=rt(t[i],n)})),r}(e,t,n):rt(t,n)}at.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return at(e,n,t)}),{})};var ot=at,st="object"==typeof global&&global&&global.Object===Object&&global,ut="object"==typeof self&&self&&self.Object===Object&&self,ct=st||ut||Function("return this")(),lt=ct.Symbol,ft=Object.prototype,ht=ft.hasOwnProperty,dt=ft.toString,pt=lt?lt.toStringTag:void 0;var vt=function(e){var t=ht.call(e,pt),n=e[pt];try{e[pt]=void 0;var r=!0}catch(a){}var i=dt.call(e);return r&&(t?e[pt]=n:delete e[pt]),i},yt=Object.prototype.toString;var gt=function(e){return yt.call(e)},mt="[object Null]",At="[object Undefined]",kt=lt?lt.toStringTag:void 0;var wt=function(e){return null==e?void 0===e?At:mt:kt&&kt in Object(e)?vt(e):gt(e)};var bt=function(e,t){return function(n){return e(t(n))}},_t=bt(Object.getPrototypeOf,Object);var Et=function(e){return null!=e&&"object"==typeof e},Ct="[object Object]",St=Function.prototype,It=Object.prototype,xt=St.toString,Tt=It.hasOwnProperty,Nt=xt.call(Object);var Rt=function(e){if(!Et(e)||wt(e)!=Ct)return!1;var t=_t(e);if(null===t)return!0;var n=Tt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==Nt};var Pt=function(){this.__data__=[],this.size=0};var Dt=function(e,t){return e===t||e!==e&&t!==t};var Ot=function(e,t){for(var n=e.length;n--;)if(Dt(e[n][0],t))return n;return-1},Lt=Array.prototype.splice;var Mt=function(e){var t=this.__data__,n=Ot(t,e);return!(n<0)&&(n==t.length-1?t.pop():Lt.call(t,n,1),--this.size,!0)};var Ut=function(e){var t=this.__data__,n=Ot(t,e);return n<0?void 0:t[n][1]};var Ft=function(e){return Ot(this.__data__,e)>-1};var Bt=function(e,t){var n=this.__data__,r=Ot(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jt.prototype.clear=Pt,jt.prototype.delete=Mt,jt.prototype.get=Ut,jt.prototype.has=Ft,jt.prototype.set=Bt;var Vt=jt;var qt=function(){this.__data__=new Vt,this.size=0};var zt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Qt=function(e){return this.__data__.get(e)};var Ht=function(e){return this.__data__.has(e)};var Wt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Kt="[object AsyncFunction]",Gt="[object Function]",Yt="[object GeneratorFunction]",Jt="[object Proxy]";var Xt=function(e){if(!Wt(e))return!1;var t=wt(e);return t==Gt||t==Yt||t==Kt||t==Jt},Zt=ct["__core-js_shared__"],$t=function(){var e=/[^.]+$/.exec(Zt&&Zt.keys&&Zt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var en=function(e){return!!$t&&$t in e},tn=Function.prototype.toString;var nn=function(e){if(null!=e){try{return tn.call(e)}catch(t){}try{return e+""}catch(t){}}return""},rn=/^\[object .+?Constructor\]$/,an=Function.prototype,on=Object.prototype,sn=an.toString,un=on.hasOwnProperty,cn=RegExp("^"+sn.call(un).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ln=function(e){return!(!Wt(e)||en(e))&&(Xt(e)?cn:rn).test(nn(e))};var fn=function(e,t){return null==e?void 0:e[t]};var hn=function(e,t){var n=fn(e,t);return ln(n)?n:void 0},dn=hn(ct,"Map"),pn=hn(Object,"create");var vn=function(){this.__data__=pn?pn(null):{},this.size=0};var yn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gn="__lodash_hash_undefined__",mn=Object.prototype.hasOwnProperty;var An=function(e){var t=this.__data__;if(pn){var n=t[e];return n===gn?void 0:n}return mn.call(t,e)?t[e]:void 0},kn=Object.prototype.hasOwnProperty;var wn=function(e){var t=this.__data__;return pn?void 0!==t[e]:kn.call(t,e)},bn="__lodash_hash_undefined__";var _n=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pn&&void 0===t?bn:t,this};function En(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}En.prototype.clear=vn,En.prototype.delete=yn,En.prototype.get=An,En.prototype.has=wn,En.prototype.set=_n;var Cn=En;var Sn=function(){this.size=0,this.__data__={hash:new Cn,map:new(dn||Vt),string:new Cn}};var In=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var xn=function(e,t){var n=e.__data__;return In(t)?n["string"==typeof t?"string":"hash"]:n.map};var Tn=function(e){var t=xn(this,e).delete(e);return this.size-=t?1:0,t};var Nn=function(e){return xn(this,e).get(e)};var Rn=function(e){return xn(this,e).has(e)};var Pn=function(e,t){var n=xn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dn.prototype.clear=Sn,Dn.prototype.delete=Tn,Dn.prototype.get=Nn,Dn.prototype.has=Rn,Dn.prototype.set=Pn;var On=Dn,Ln=200;var Mn=function(e,t){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!dn||r.length<Ln-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new On(r)}return n.set(e,t),this.size=n.size,this};function Un(e){var t=this.__data__=new Vt(e);this.size=t.size}Un.prototype.clear=qt,Un.prototype.delete=zt,Un.prototype.get=Qt,Un.prototype.has=Ht,Un.prototype.set=Mn;var Fn=Un;var Bn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},jn=function(){try{var e=hn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Vn=function(e,t,n){"__proto__"==t&&jn?jn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},qn=Object.prototype.hasOwnProperty;var zn=function(e,t,n){var r=e[t];qn.call(e,t)&&Dt(r,n)&&(void 0!==n||t in e)||Vn(e,t,n)};var Qn=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Vn(n,s,u):zn(n,s,u)}return n};var Hn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Wn="[object Arguments]";var Kn=function(e){return Et(e)&&wt(e)==Wn},Gn=Object.prototype,Yn=Gn.hasOwnProperty,Jn=Gn.propertyIsEnumerable,Xn=Kn(function(){return arguments}())?Kn:function(e){return Et(e)&&Yn.call(e,"callee")&&!Jn.call(e,"callee")},Zn=Xn,$n=Array.isArray;var er=function(){return!1},tr="object"==typeof exports&&exports&&!exports.nodeType&&exports,nr=tr&&"object"==typeof module&&module&&!module.nodeType&&module,rr=nr&&nr.exports===tr?ct.Buffer:void 0,ir=(rr?rr.isBuffer:void 0)||er,ar=9007199254740991,or=/^(?:0|[1-9]\d*)$/;var sr=function(e,t){var n=typeof e;return!!(t=null==t?ar:t)&&("number"==n||"symbol"!=n&&or.test(e))&&e>-1&&e%1==0&&e<t},ur=9007199254740991;var cr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ur},lr={};lr["[object Float32Array]"]=lr["[object Float64Array]"]=lr["[object Int8Array]"]=lr["[object Int16Array]"]=lr["[object Int32Array]"]=lr["[object Uint8Array]"]=lr["[object Uint8ClampedArray]"]=lr["[object Uint16Array]"]=lr["[object Uint32Array]"]=!0,lr["[object Arguments]"]=lr["[object Array]"]=lr["[object ArrayBuffer]"]=lr["[object Boolean]"]=lr["[object DataView]"]=lr["[object Date]"]=lr["[object Error]"]=lr["[object Function]"]=lr["[object Map]"]=lr["[object Number]"]=lr["[object Object]"]=lr["[object RegExp]"]=lr["[object Set]"]=lr["[object String]"]=lr["[object WeakMap]"]=!1;var fr=function(e){return Et(e)&&cr(e.length)&&!!lr[wt(e)]};var hr=function(e){return function(t){return e(t)}},dr="object"==typeof exports&&exports&&!exports.nodeType&&exports,pr=dr&&"object"==typeof module&&module&&!module.nodeType&&module,vr=pr&&pr.exports===dr&&st.process,yr=function(){try{var e=pr&&pr.require&&pr.require("util").types;return e||vr&&vr.binding&&vr.binding("util")}catch(t){}}(),gr=yr&&yr.isTypedArray,mr=gr?hr(gr):fr,Ar=Object.prototype.hasOwnProperty;var kr=function(e,t){var n=$n(e),r=!n&&Zn(e),i=!n&&!r&&ir(e),a=!n&&!r&&!i&&mr(e),o=n||r||i||a,s=o?Hn(e.length,String):[],u=s.length;for(var c in e)!t&&!Ar.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sr(c,u))||s.push(c);return s},wr=Object.prototype;var br=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wr)},_r=bt(Object.keys,Object),Er=Object.prototype.hasOwnProperty;var Cr=function(e){if(!br(e))return _r(e);var t=[];for(var n in Object(e))Er.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Sr=function(e){return null!=e&&cr(e.length)&&!Xt(e)};var Ir=function(e){return Sr(e)?kr(e):Cr(e)};var xr=function(e,t){return e&&Qn(t,Ir(t),e)};var Tr=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Nr=Object.prototype.hasOwnProperty;var Rr=function(e){if(!Wt(e))return Tr(e);var t=br(e),n=[];for(var r in e)("constructor"!=r||!t&&Nr.call(e,r))&&n.push(r);return n};var Pr=function(e){return Sr(e)?kr(e,!0):Rr(e)};var Dr=function(e,t){return e&&Qn(t,Pr(t),e)},Or="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lr=Or&&"object"==typeof module&&module&&!module.nodeType&&module,Mr=Lr&&Lr.exports===Or?ct.Buffer:void 0,Ur=Mr?Mr.allocUnsafe:void 0;var Fr=function(e,t){if(t)return e.slice();var n=e.length,r=Ur?Ur(n):new e.constructor(n);return e.copy(r),r};var Br=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var jr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Vr=function(){return[]},qr=Object.prototype.propertyIsEnumerable,zr=Object.getOwnPropertySymbols,Qr=zr?function(e){return null==e?[]:(e=Object(e),jr(zr(e),(function(t){return qr.call(e,t)})))}:Vr;var Hr=function(e,t){return Qn(e,Qr(e),t)};var Wr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Kr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Wr(t,Qr(e)),e=_t(e);return t}:Vr;var Gr=function(e,t){return Qn(e,Kr(e),t)};var Yr=function(e,t,n){var r=t(e);return $n(e)?r:Wr(r,n(e))};var Jr=function(e){return Yr(e,Ir,Qr)};var Xr=function(e){return Yr(e,Pr,Kr)},Zr=hn(ct,"DataView"),$r=hn(ct,"Promise"),ei=hn(ct,"Set"),ti=hn(ct,"WeakMap"),ni="[object Map]",ri="[object Promise]",ii="[object Set]",ai="[object WeakMap]",oi="[object DataView]",si=nn(Zr),ui=nn(dn),ci=nn($r),li=nn(ei),fi=nn(ti),hi=wt;(Zr&&hi(new Zr(new ArrayBuffer(1)))!=oi||dn&&hi(new dn)!=ni||$r&&hi($r.resolve())!=ri||ei&&hi(new ei)!=ii||ti&&hi(new ti)!=ai)&&(hi=function(e){var t=wt(e),n="[object Object]"==t?e.constructor:void 0,r=n?nn(n):"";if(r)switch(r){case si:return oi;case ui:return ni;case ci:return ri;case li:return ii;case fi:return ai}return t});var di=hi,pi=Object.prototype.hasOwnProperty;var vi=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&pi.call(e,"index")&&(n.index=e.index,n.input=e.input),n},yi=ct.Uint8Array;var gi=function(e){var t=new e.constructor(e.byteLength);return new yi(t).set(new yi(e)),t};var mi=function(e,t){var n=t?gi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Ai=/\w*$/;var ki=function(e){var t=new e.constructor(e.source,Ai.exec(e));return t.lastIndex=e.lastIndex,t},wi=lt?lt.prototype:void 0,bi=wi?wi.valueOf:void 0;var _i=function(e){return bi?Object(bi.call(e)):{}};var Ei=function(e,t){var n=t?gi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Ci="[object Boolean]",Si="[object Date]",Ii="[object Map]",xi="[object Number]",Ti="[object RegExp]",Ni="[object Set]",Ri="[object String]",Pi="[object Symbol]",Di="[object ArrayBuffer]",Oi="[object DataView]",Li="[object Float32Array]",Mi="[object Float64Array]",Ui="[object Int8Array]",Fi="[object Int16Array]",Bi="[object Int32Array]",ji="[object Uint8Array]",Vi="[object Uint8ClampedArray]",qi="[object Uint16Array]",zi="[object Uint32Array]";var Qi=function(e,t,n){var r=e.constructor;switch(t){case Di:return gi(e);case Ci:case Si:return new r(+e);case Oi:return mi(e,n);case Li:case Mi:case Ui:case Fi:case Bi:case ji:case Vi:case qi:case zi:return Ei(e,n);case Ii:return new r;case xi:case Ri:return new r(e);case Ti:return ki(e);case Ni:return new r;case Pi:return _i(e)}},Hi=Object.create,Wi=function(){function e(){}return function(t){if(!Wt(t))return{};if(Hi)return Hi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ki=function(e){return"function"!=typeof e.constructor||br(e)?{}:Wi(_t(e))},Gi="[object Map]";var Yi=function(e){return Et(e)&&di(e)==Gi},Ji=yr&&yr.isMap,Xi=Ji?hr(Ji):Yi,Zi="[object Set]";var $i=function(e){return Et(e)&&di(e)==Zi},ea=yr&&yr.isSet,ta=ea?hr(ea):$i,na=1,ra=2,ia=4,aa="[object Arguments]",oa="[object Function]",sa="[object GeneratorFunction]",ua="[object Object]",ca={};ca[aa]=ca["[object Array]"]=ca["[object ArrayBuffer]"]=ca["[object DataView]"]=ca["[object Boolean]"]=ca["[object Date]"]=ca["[object Float32Array]"]=ca["[object Float64Array]"]=ca["[object Int8Array]"]=ca["[object Int16Array]"]=ca["[object Int32Array]"]=ca["[object Map]"]=ca["[object Number]"]=ca[ua]=ca["[object RegExp]"]=ca["[object Set]"]=ca["[object String]"]=ca["[object Symbol]"]=ca["[object Uint8Array]"]=ca["[object Uint8ClampedArray]"]=ca["[object Uint16Array]"]=ca["[object Uint32Array]"]=!0,ca["[object Error]"]=ca[oa]=ca["[object WeakMap]"]=!1;var la=function e(t,n,r,i,a,o){var s,u=n&na,c=n&ra,l=n&ia;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!Wt(t))return t;var f=$n(t);if(f){if(s=vi(t),!u)return Br(t,s)}else{var h=di(t),d=h==oa||h==sa;if(ir(t))return Fr(t,u);if(h==ua||h==aa||d&&!a){if(s=c||d?{}:Ki(t),!u)return c?Gr(t,Dr(s,t)):Hr(t,xr(s,t))}else{if(!ca[h])return a?t:{};s=Qi(t,h,u)}}o||(o=new Fn);var p=o.get(t);if(p)return p;o.set(t,s),ta(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):Xi(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?Xr:Jr:c?Pr:Ir)(t);return Bn(v||t,(function(i,a){v&&(i=t[a=i]),zn(s,a,e(i,n,r,a,t,o))})),s},fa=4;var ha=function(e){return la(e,fa)};var da=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},pa="[object Symbol]";var va=function(e){return"symbol"==typeof e||Et(e)&&wt(e)==pa},ya="Expected a function";function ga(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ya);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ga.Cache||On),n}ga.Cache=On;var ma=ga,Aa=500;var ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/\\(\\)?/g,ba=function(e){var t=ma(e,(function(e){return n.size===Aa&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ka,(function(e,n,r,i){t.push(r?i.replace(wa,"$1"):n||e)})),t})),_a=1/0;var Ea=function(e){if("string"==typeof e||va(e))return e;var t=e+"";return"0"==t&&1/e==-_a?"-0":t},Ca=1/0,Sa=lt?lt.prototype:void 0,Ia=Sa?Sa.toString:void 0;var xa=function e(t){if("string"==typeof t)return t;if($n(t))return da(t,e)+"";if(va(t))return Ia?Ia.call(t):"";var n=t+"";return"0"==n&&1/t==-Ca?"-0":n};var Ta=function(e){return null==e?"":xa(e)};var Na=function(e){return $n(e)?da(e,Ea):va(e)?[e]:Br(ba(Ta(e)))},Ra=!0;var Pa=function(e,t){if(!Ra){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(fk){}}},Da=n(110),Oa=n.n(Da),La=1,Ma=4;var Ua=function(e){return la(e,La|Ma)};function Fa(){return Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}function Ba(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ja(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qa=function(e){return Array.isArray(e)&&0===e.length},za=function(e){return"function"===typeof e},Qa=function(e){return null!==e&&"object"===typeof e},Ha=function(e){return String(Math.floor(Number(e)))===e},Wa=function(e){return"[object String]"===Object.prototype.toString.call(e)},Ka=function(t){return 0===e.Children.count(t)},Ga=function(e){return Qa(e)&&za(e.then)};function Ya(e,t,n,r){void 0===r&&(r=0);for(var i=Na(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function Ja(e,t,n){for(var r=ha(e),i=r,a=0,o=Na(t);a<o.length-1;a++){var s=o[a],u=Ya(e,o.slice(0,a+1));if(u&&(Qa(u)||Array.isArray(u)))i=i[s]=ha(u);else{var c=o[a+1];i=i[s]=Ha(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function Xa(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Qa(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Xa(s,t,n,r[o])):r[o]=t}return r}var Za=(0,e.createContext)(void 0);Za.displayName="FormikContext";var $a=Za.Provider;Za.Consumer;function eo(){var t=(0,e.useContext)(Za);return t||Pa(!1),t}function to(e,t){switch(t.type){case"SET_VALUES":return Fa({},e,{values:t.payload});case"SET_TOUCHED":return Fa({},e,{touched:t.payload});case"SET_ERRORS":return et()(e.errors,t.payload)?e:Fa({},e,{errors:t.payload});case"SET_STATUS":return Fa({},e,{status:t.payload});case"SET_ISSUBMITTING":return Fa({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Fa({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Fa({},e,{values:Ja(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Fa({},e,{touched:Ja(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Fa({},e,{errors:Ja(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Fa({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Fa({},e,{touched:Xa(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Fa({},e,{isSubmitting:!1});default:return e}}var no={},ro={};function io(t){var n=t.validateOnChange,r=void 0===n||n,i=t.validateOnBlur,a=void 0===i||i,o=t.validateOnMount,s=void 0!==o&&o,u=t.isInitialValid,c=t.enableReinitialize,l=void 0!==c&&c,f=t.onSubmit,h=ja(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Fa({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,e.useRef)(d.initialValues),v=(0,e.useRef)(d.initialErrors||no),y=(0,e.useRef)(d.initialTouched||ro),g=(0,e.useRef)(d.initialStatus),m=(0,e.useRef)(!1),A=(0,e.useRef)({});(0,e.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var k=(0,e.useReducer)(to,{values:d.initialValues,errors:d.initialErrors||no,touched:d.initialTouched||ro,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=k[0],b=k[1],_=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(no):Ga(i)?i.then((function(e){n(e||no)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,e.useCallback)((function(e,t){var n=d.validationSchema,r=za(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=oo(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(no)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Ja(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;Ya(t,o.path)||(t=Ja(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),C=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(A.current[e].validate(t))}))}),[]),S=(0,e.useCallback)((function(e){var t=Object.keys(A.current).filter((function(e){return za(A.current[e].validate)})),n=t.length>0?t.map((function(t){return C(t,Ya(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Ja(e,t[r],n)),e}),{})}))}),[C]),I=(0,e.useCallback)((function(e){return Promise.all([S(e),d.validationSchema?E(e):{},d.validate?_(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return ot.all([t,n,r],{arrayMerge:so})}))}),[d.validate,d.validationSchema,S,_,E]),x=co((function(e){return void 0===e&&(e=w.values),b({type:"SET_ISVALIDATING",payload:!0}),I(e).then((function(e){return m.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===m.current&&et()(p.current,d.initialValues)&&x(p.current)}),[s,x]);var T=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:g.current?g.current:d.initialStatus;p.current=t,v.current=n,y.current=r,g.current=i;var a=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,G);Ga(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,e.useEffect)((function(){!0!==m.current||et()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,T()),s&&x(p.current))}),[l,d.initialValues,T,s,x]),(0,e.useEffect)((function(){l&&!0===m.current&&!et()(v.current,d.initialErrors)&&(v.current=d.initialErrors||no,b({type:"SET_ERRORS",payload:d.initialErrors||no}))}),[l,d.initialErrors]),(0,e.useEffect)((function(){l&&!0===m.current&&!et()(y.current,d.initialTouched)&&(y.current=d.initialTouched||ro,b({type:"SET_TOUCHED",payload:d.initialTouched||ro}))}),[l,d.initialTouched]),(0,e.useEffect)((function(){l&&!0===m.current&&!et()(g.current,d.initialStatus)&&(g.current=d.initialStatus,b({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var N=co((function(e){if(A.current[e]&&za(A.current[e].validate)){var t=Ya(w.values,e),n=A.current[e].validate(t);return Ga(n)?(b({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),b({type:"SET_ISVALIDATING",payload:!1})}))):(b({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(b({type:"SET_ISVALIDATING",payload:!0}),E(w.values,e).then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),b({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,e.useCallback)((function(e,t){var n=t.validate;A.current[e]={validate:n}}),[]),P=(0,e.useCallback)((function(e){delete A.current[e]}),[]),D=co((function(e,t){return b({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?x(w.values):Promise.resolve()})),O=(0,e.useCallback)((function(e){b({type:"SET_ERRORS",payload:e})}),[]),L=co((function(e,t){var n=za(e)?e(w.values):e;return b({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?x(n):Promise.resolve()})),M=(0,e.useCallback)((function(e,t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),U=co((function(e,t,n){return b({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?x(Ja(w.values,e,t)):Promise.resolve()})),F=(0,e.useCallback)((function(e,t){var n,r=t,i=e;if(!Wa(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(Ya(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&U(r,i)}),[U,w.values]),B=co((function(e){if(Wa(e))return function(t){return F(t,e)};F(e)})),j=co((function(e,t,n){return void 0===t&&(t=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?x(w.values):Promise.resolve()})),V=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));j(a,!0)}),[j]),q=co((function(e){if(Wa(e))return function(t){return V(t,e)};V(e)})),z=(0,e.useCallback)((function(e){za(e)?b({type:"SET_FORMIK_STATE",payload:e}):b({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),Q=(0,e.useCallback)((function(e){b({type:"SET_STATUS",payload:e})}),[]),H=(0,e.useCallback)((function(e){b({type:"SET_ISSUBMITTING",payload:e})}),[]),W=co((function(){return b({type:"SUBMIT_ATTEMPT"}),x().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Y()))return}catch(Gd){throw Gd}return Promise.resolve(n).then((function(e){return m.current&&b({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(m.current)throw b({type:"SUBMIT_FAILURE"}),e}))}if(m.current&&(b({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=co((function(e){e&&e.preventDefault&&za(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&za(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),G={resetForm:T,validateForm:x,validateField:N,setErrors:O,setFieldError:M,setFieldTouched:j,setFieldValue:U,setStatus:Q,setSubmitting:H,setTouched:D,setValues:L,setFormikState:z,submitForm:W},Y=co((function(){return f(w.values,G)})),J=co((function(e){e&&e.preventDefault&&za(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&za(e.stopPropagation)&&e.stopPropagation(),T()})),X=(0,e.useCallback)((function(e){return{value:Ya(w.values,e),error:Ya(w.errors,e),touched:!!Ya(w.touched,e),initialValue:Ya(p.current,e),initialTouched:!!Ya(y.current,e),initialError:Ya(v.current,e)}}),[w.errors,w.touched,w.values]),Z=(0,e.useCallback)((function(e){return{setValue:function(t,n){return U(e,t,n)},setTouched:function(t,n){return j(e,t,n)},setError:function(t){return M(e,t)}}}),[U,j,M]),$=(0,e.useCallback)((function(e){var t=Qa(e),n=t?e.name:e,r=Ya(w.values,n),i={name:n,value:r,onChange:B,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,B,w.values]),ee=(0,e.useMemo)((function(){return!et()(p.current,w.values)}),[p.current,w.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof u?ee?w.errors&&0===Object.keys(w.errors).length:!1!==u&&za(u)?u(d):u:w.errors&&0===Object.keys(w.errors).length}),[u,ee,w.errors,d]);return Fa({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:g.current,handleBlur:q,handleChange:B,handleReset:J,handleSubmit:K,resetForm:T,setErrors:O,setFormikState:z,setFieldTouched:j,setFieldValue:U,setFieldError:M,setStatus:Q,setSubmitting:H,setTouched:D,setValues:L,submitForm:W,validateForm:x,validateField:N,isValid:te,dirty:ee,unregisterField:P,registerField:R,getFieldProps:$,getFieldMeta:X,getFieldHelpers:Z,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function ao(t){var n=io(t),r=t.component,i=t.children,a=t.render,o=t.innerRef;return(0,e.useImperativeHandle)(o,(function(){return n})),(0,e.createElement)($a,{value:n},r?(0,e.createElement)(r,n):a?a(n):i?za(i)?i(n):Ka(i)?null:e.Children.only(i):null)}function oo(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||Rt(e)?oo(e):""!==e?e:void 0})):Rt(e[r])?t[r]=oo(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function so(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?ot(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=ot(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var uo="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function co(t){var n=(0,e.useRef)(t);return uo((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function lo(t){var n=t.validate,r=t.name,i=t.render,a=t.children,o=t.as,s=t.component,u=ja(t,["validate","name","render","children","as","component"]),c=ja(eo(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,e.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(Fa({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(Fa({},p,{meta:d}));if(za(a))return a(Fa({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,y=ja(u,["innerRef"]);return(0,e.createElement)(s,Fa({ref:v},h,y),a)}return(0,e.createElement)(s,Fa({field:h,form:c},u),a)}var g=o||"input";if("string"===typeof g){var m=u.innerRef,A=ja(u,["innerRef"]);return(0,e.createElement)(g,Fa({ref:m},h,A),a)}return(0,e.createElement)(g,Fa({},h,u),a)}var fo=(0,e.forwardRef)((function(t,n){var r=t.action,i=ja(t,["action"]),a=null!=r?r:"#",o=eo(),s=o.handleReset,u=o.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));fo.displayName="Form";var ho=function(e,t,n){var r=go(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r},po=function(e,t,n){var r=go(e),i=r[t];return r[t]=r[n],r[n]=i,r},vo=function(e,t,n){var r=go(e);return r.splice(t,0,n),r},yo=function(e,t,n){var r=go(e);return r[t]=n,r},go=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Fa({},e,{length:t+1}))}return[]},mo=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=Ja(n.values,a,e(Ya(n.values,a))),u=r?i(Ya(n.errors,a)):void 0,c=t?o(Ya(n.touched,a)):void 0;return qa(u)&&(u=void 0),qa(c)&&(c=void 0),Fa({},n,{values:s,errors:r?Ja(n.errors,a,u):n.errors,touched:t?Ja(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(go(t),[Ua(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return po(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return ho(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return vo(n,e,t)}),(function(t){return vo(t,e,null)}),(function(t){return vo(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return yo(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Va(n)),n.pop=n.pop.bind(Va(n)),n}Ba(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!et()(Ya(e.formik.values,e.name),Ya(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?go(n):[];return t||(t=r[e]),za(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=Fa({},t,{form:ja(n.formik,["validate","validationSchema"]),name:o});return r?(0,e.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):Ka(a)?null:e.Children.only(a):null},n}(e.Component);mo.defaultProps={validateOnChange:!0};e.Component,e.Component;var Ao=n(248),ko=n(327),wo=n(164);var bo=function(e){e()},_o=function(){return bo},Eo=(0,e.createContext)(null);function Co(){return(0,e.useContext)(Eo)}var So=function(){throw new Error("uSES not initialized!")},Io=So,xo=function(e,t){return e===t};function To(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,n=t===Eo?Co:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xo;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=Io(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var No=To();function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}function Po(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Do=n(900),Oo=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Lo(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a,d,o);return a=i,o=d,p&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):v?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),d=!0,c)}}function Mo(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Uo(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Fo(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Uo(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Uo(i),i=r(t,n)),i},r}}function Bo(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function jo(e,t,n){return Ro({},n,e,t)}var Vo={notify:function(){},get:function(){return[]}};function qo(e,t){var n,r=Vo;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=_o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Vo)},getListeners:function(){return r}};return o}var zo=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;function Qo(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Ho(e,t){if(Qo(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Qo(e[n[i]],t[n[i]]))return!1;return!0}var Wo=["reactReduxForwardedRef"],Ko=So,Go=[null,null];function Yo(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Jo(e,t){return e===t}var Xo=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?Jo:a,s=i.areOwnPropsEqual,c=void 0===s?Ho:s,l=i.areStatePropsEqual,f=void 0===l?Ho:l,d=i.areMergedPropsEqual,p=void 0===d?Ho:d,v=i.forwardRef,y=void 0!==v&&v,g=i.context,m=void 0===g?Eo:g,A=function(e){return e?"function"===typeof e?Fo(e):Bo(e,"mapStateToProps"):Mo((function(){return{}}))}(t),k=function(e){return e&&"object"===typeof e?Mo((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"===typeof e?Fo(e):Bo(e,"mapDispatchToProps"):Mo((function(e){return{dispatch:e}}))}(n),w=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):Bo(e,"mergeProps"):function(){return jo}}(r),b=Boolean(t);return function(t){var n=t.displayName||t.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:b,displayName:r,wrappedComponentName:n,WrappedComponent:t,initMapStateToProps:A,initMapDispatchToProps:k,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:f,areOwnPropsEqual:c,areMergedPropsEqual:p};function a(n){var r=(0,e.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Po(n,Wo);return[n.context,e,t]}),[n]),a=u(r,3),o=a[0],s=a[1],c=a[2],l=(0,e.useMemo)((function(){return o&&o.Consumer&&(0,Do.isContextConsumer)(e.createElement(o.Consumer,null))?o:m}),[o,m]),f=(0,e.useContext)(l),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),p=Boolean(f)&&Boolean(f.store);var v=d?n.store:f.store,y=p?f.getServerState:v.getState,g=(0,e.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Po(t,Oo);return Lo(n(e,a),r(e,a),i(e,a),e,a)}(v.dispatch,i)}),[v]),A=(0,e.useMemo)((function(){if(!b)return Go;var e=qo(v,d?void 0:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,d,f]),k=u(A,2),w=k[0],_=k[1],E=(0,e.useMemo)((function(){return d?f:Ro({},f,{subscription:w})}),[d,f,w]),C=(0,e.useRef)(),S=(0,e.useRef)(c),I=(0,e.useRef)(),x=(0,e.useRef)(!1),T=((0,e.useRef)(!1),(0,e.useRef)(!1)),N=(0,e.useRef)();zo((function(){return T.current=!0,function(){T.current=!1}}),[]);var R,P,D,O,L=(0,e.useMemo)((function(){return function(){return I.current&&c===S.current?I.current:g(v.getState(),c)}}),[v,c]),M=(0,e.useMemo)((function(){return function(e){return w?function(e,t,n,r,i,a,o,s,u,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,u.current=e,o.current=!0,l())}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(b,v,w,g,S,C,x,T,I,_,e):function(){}}}),[w]);R=Yo,P=[S,C,x,c,I,_],zo((function(){return R.apply(void 0,h(P))}),D);try{O=Ko(M,L,y?function(){return g(y(),c)}:L)}catch(F){throw N.current&&(F.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),F}zo((function(){N.current=void 0,I.current=void 0,C.current=O}));var U=(0,e.useMemo)((function(){return e.createElement(t,Ro({},O,{ref:s}))}),[s,t,O]);return(0,e.useMemo)((function(){return b?e.createElement(l.Provider,{value:E},U):U}),[l,U,E])}var s=e.memo(a);if(s.WrappedComponent=t,s.displayName=a.displayName=r,y){var l=e.forwardRef((function(t,n){return e.createElement(s,Ro({},t,{reactReduxForwardedRef:n}))})),d=l;return d.displayName=r,d.WrappedComponent=t,Oa()(d,t)}return Oa()(s,t)}};var Zo=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=qo(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);zo((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||Eo;return e.createElement(u.Provider,{value:o},i)};function $o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,n=t===Eo?Co:function(){return(0,e.useContext)(t)};return function(){return n().store}}var es=$o();function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,t=e===Eo?es:$o(e);return function(){return t().dispatch}}var ns,rs=ts();!function(e){Io=e}(ko.useSyncExternalStoreWithSelector),function(e){Ko=e}(Ao.useSyncExternalStore),ns=wo.unstable_batchedUpdates,bo=ns;var is=n.p+"static/media/google_button.ba94402307dab3d9e2f0.png";function as(){as=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:b(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(I([])));m&&m!==t&&n.call(m,a)&&(y=m);var A=v.prototype=h.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=v,r(A,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(A),u(A,s,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function os(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Gd){return void n(Gd)}s.done?t(u):Promise.resolve(u).then(r,i)}function ss(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){os(a,r,i,o,s,"next",e)}function s(e){os(a,r,i,o,s,"throw",e)}o(void 0)}))}}function us(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(){return fs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fs.apply(this,arguments)}var hs={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ds=function(e,t){if(!e)throw ps(t)},ps=function(e){return new Error("Firebase Database ("+hs.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},vs=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ys={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vs(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gs=function(e){var t=vs(e);return ys.encodeByteArray(t,!0)},ms=function(e){return gs(e).replace(/\./g,"")},As=function(e){try{return ys.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ks(e){return ws(void 0,e)}function ws(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ws(e[n],t[n]));return e}var bs=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},_s=function(){try{return bs()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&As(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Es=function(e){var t,n;return null===(n=null===(t=_s())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Cs=function(e){var t=Es(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Ss=function(){var e;return null===(e=_s())||void 0===e?void 0:e.config},Is=function(e){var t;return null===(t=_s())||void 0===t?void 0:t["_".concat(e)]},xs=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ts(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ms(JSON.stringify({alg:"none",type:"JWT"})),ms(JSON.stringify(a)),""].join(".")}function Ns(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rs(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ns())}function Ps(){var e,t=null===(e=_s())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ds(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Os(){return!0===hs.NODE_CLIENT||!0===hs.NODE_ADMIN}function Ls(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ms="FirebaseError",Us=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=Ms,Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),Fs.prototype.create),a}return g(n)}(C(Error)),Fs=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Bs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Us(n,a,t)}}]),e}();var Bs=/\{\$([^}]+)}/g;function js(e){return JSON.parse(e)}function Vs(e){return JSON.stringify(e)}var qs=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=js(As(a[0])||""),n=js(As(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function zs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Hs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ws(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ks(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Gs(s)&&Gs(u)){if(!Ks(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Gs(e){return null!==e&&"object"===typeof e}function Ys(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Js(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xs(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Zs=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var $s=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=eu),void 0===r.error&&(r.error=eu),void 0===r.complete&&(r.complete=eu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function eu(){}function tu(e,t){return"".concat(e," failed: ").concat(t," argument ")}var nu=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ru(e){return e&&e._delegate?e._delegate:e}var iu=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),au="[DEFAULT]",ou=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xs;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch(c){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(GN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===au?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(GN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au;return this.component?this.component.multipleInstances?e:au:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var su,uu,cu=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ou(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),lu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(uu||(uu={}));var fu={debug:uu.DEBUG,verbose:uu.VERBOSE,info:uu.INFO,warn:uu.WARN,error:uu.ERROR,silent:uu.SILENT},hu=uu.INFO,du=(us(su={},uu.DEBUG,"log"),us(su,uu.VERBOSE,"log"),us(su,uu.INFO,"info"),us(su,uu.WARN,"warn"),us(su,uu.ERROR,"error"),su),pu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=du[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vu=function(){function e(t){d(this,e),this.name=t,this._logLevel=hu,this._logHandler=pu,this._userLogHandler=null,lu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in uu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,uu.DEBUG].concat(t)),this._logHandler.apply(this,[this,uu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,uu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,uu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,uu.INFO].concat(t)),this._logHandler.apply(this,[this,uu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,uu.WARN].concat(t)),this._logHandler.apply(this,[this,uu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,uu.ERROR].concat(t)),this._logHandler.apply(this,[this,uu.ERROR].concat(t))}}]),e}();var yu,gu,mu=function(e,t){return t.some((function(t){return e instanceof t}))};var Au=new WeakMap,ku=new WeakMap,wu=new WeakMap,bu=new WeakMap,_u=new WeakMap;var Eu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ku.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Iu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Cu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gu||(gu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xu(this),n),Iu(Au.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Iu(e.apply(xu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xu(this),t].concat(r));return wu.set(a,t.sort?t.sort():[t]),Iu(a)}}function Su(e){return"function"===typeof e?Cu(e):(e instanceof IDBTransaction&&function(e){if(!ku.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ku.set(e,t)}}(e),mu(e,yu||(yu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Eu):e)}function Iu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Iu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Au.set(t,e)})).catch((function(){})),_u.set(t,e),t}(e);if(bu.has(e))return bu.get(e);var t=Su(e);return t!==e&&(bu.set(e,t),_u.set(t,e)),t}var xu=function(e){return _u.get(e)};var Tu,Nu,Ru=["get","getKey","getAll","getAllKeys","count"],Pu=["put","add","delete","clear"],Du=new Map;function Ou(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Du.get(t))return Du.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ru.includes(n))){var a=function(){var e=ss(as().mark((function e(t){var a,o,s,u,c,l,f=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Du.set(t,a),a}}}Eu=function(e){return ls(ls({},e),{},{get:function(t,n,r){return Ou(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ou(t,n)||e.has(t,n)}})}(Eu);var Lu=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mu="@firebase/app",Uu="0.9.3",Fu=new vu("@firebase/app"),Bu="[DEFAULT]",ju=(us(Tu={},Mu,"fire-core"),us(Tu,"@firebase/app-compat","fire-core-compat"),us(Tu,"@firebase/analytics","fire-analytics"),us(Tu,"@firebase/analytics-compat","fire-analytics-compat"),us(Tu,"@firebase/app-check","fire-app-check"),us(Tu,"@firebase/app-check-compat","fire-app-check-compat"),us(Tu,"@firebase/auth","fire-auth"),us(Tu,"@firebase/auth-compat","fire-auth-compat"),us(Tu,"@firebase/database","fire-rtdb"),us(Tu,"@firebase/database-compat","fire-rtdb-compat"),us(Tu,"@firebase/functions","fire-fn"),us(Tu,"@firebase/functions-compat","fire-fn-compat"),us(Tu,"@firebase/installations","fire-iid"),us(Tu,"@firebase/installations-compat","fire-iid-compat"),us(Tu,"@firebase/messaging","fire-fcm"),us(Tu,"@firebase/messaging-compat","fire-fcm-compat"),us(Tu,"@firebase/performance","fire-perf"),us(Tu,"@firebase/performance-compat","fire-perf-compat"),us(Tu,"@firebase/remote-config","fire-rc"),us(Tu,"@firebase/remote-config-compat","fire-rc-compat"),us(Tu,"@firebase/storage","fire-gcs"),us(Tu,"@firebase/storage-compat","fire-gcs-compat"),us(Tu,"@firebase/firestore","fire-fst"),us(Tu,"@firebase/firestore-compat","fire-fst-compat"),us(Tu,"fire-js","fire-js"),us(Tu,"firebase","fire-js-all"),Tu),Vu=new Map,qu=new Map;function zu(e,t){try{e.container.addComponent(t)}catch(n){Fu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Qu(e){var t=e.name;if(qu.has(t))return Fu.debug("There were multiple attempts to register component ".concat(t,".")),!1;qu.set(t,e);var n,r=S(Vu.values());try{for(r.s();!(n=r.n()).done;){zu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Hu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Wu=(us(Nu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),us(Nu,"bad-app-name","Illegal App name: '{$appName}"),us(Nu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),us(Nu,"app-deleted","Firebase App named '{$appName}' already deleted"),us(Nu,"no-options","Need to provide options, when not being deployed to hosting via source."),us(Nu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),us(Nu,"invalid-log-argument","First argument to `onLog` must be null or a function."),us(Nu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),us(Nu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),us(Nu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),us(Nu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nu),Ku=new Fs("app","Firebase",Wu),Gu=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new iu("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}]),e}(),Yu="9.17.1";function Ju(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Bu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ku.create("bad-app-name",{appName:String(i)});if(n||(n=Ss()),!n)throw Ku.create("no-options");var a=Vu.get(i);if(a){if(Ks(n,a.options)&&Ks(r,a.config))return a;throw Ku.create("duplicate-app",{appName:i})}var o,s=new cu(i),u=S(qu.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Gu(n,r,s);return Vu.set(i,l),l}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu,t=Vu.get(e);if(!t&&e===Bu)return Ju();if(!t)throw Ku.create("no-app",{appName:e});return t}function Zu(e,t,n){var r,i=null!==(r=ju[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fu.warn(s.join(" "))}Qu(new iu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var $u="firebase-heartbeat-database",ec=1,tc="firebase-heartbeat-store",nc=null;function rc(){return nc||(nc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Iu(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Iu(s.result),e.oldVersion,e.newVersion,Iu(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}($u,ec,{upgrade:function(e,t){if(0===t)e.createObjectStore(tc)}}).catch((function(e){throw Ku.create("idb-open",{originalErrorMessage:e.message})}))),nc}function ic(e){return ac.apply(this,arguments)}function ac(){return ac=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rc();case 3:return n=e.sent,e.abrupt("return",n.transaction(tc).objectStore(tc).get(uc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Us?Fu.warn(e.t0.message):(r=Ku.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fu.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ac.apply(this,arguments)}function oc(e,t){return sc.apply(this,arguments)}function sc(){return sc=ss(as().mark((function e(t,n){var r,i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rc();case 3:return r=e.sent,i=r.transaction(tc,"readwrite"),a=i.objectStore(tc),e.next=8,a.put(n,uc(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Us?Fu.warn(e.t0.message):(o=Ku.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fu.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),sc.apply(this,arguments)}function uc(e){return"".concat(e.name,"!").concat(e.options.appId)}var cc=1024,lc=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new pc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=ss(as().mark((function e(){var t,n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ss(as().mark((function e(){var t,n,r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fc(),n=hc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ms(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fc(){return(new Date).toISOString().substring(0,10)}function hc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),vc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),vc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dc,pc=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ls()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Gd){t(Gd)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ic(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vc(e){return ms(JSON.stringify({version:2,heartbeats:e})).length}dc="",Qu(new iu("platform-logger",(function(e){return new Lu(e)}),"PRIVATE")),Qu(new iu("heartbeat",(function(e){return new lc(e)}),"PRIVATE")),Zu(Mu,Uu,dc),Zu(Mu,Uu,"esm2017"),Zu("fire-js","");function yc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gc;Object.create;function mc(){return us({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ac=mc,kc=new Fs("auth","Firebase",mc()),wc=new vu("@firebase/auth");function bc(e){if(wc.logLevel<=uu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wc.error.apply(wc,["Auth (".concat(Yu,"): ").concat(e)].concat(n))}}function _c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ic.apply(void 0,[e].concat(n))}function Ec(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ic.apply(void 0,[e].concat(n))}function Cc(e,t,n){var r=Object.assign(Object.assign({},Ac()),us({},t,n));return new Fs("auth","Firebase",r).create(t,{appName:e.name})}function Sc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_c(e,"argument-error"),Cc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return kc.create.apply(kc,[e].concat(n))}function xc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ic.apply(void 0,[t].concat(r))}}function Tc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bc(t),new Error(t)}function Nc(e,t){e||Tc(t)}var Rc=new Map;function Pc(e){Nc(e instanceof Function,"Expected a class definition");var t=Rc.get(e);return t?(Nc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rc.set(e,t),t)}function Dc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Oc(){return"http:"===Lc()||"https:"===Lc()}function Lc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mc(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Oc()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Uc=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Nc(n>t,"Short delay should be less than long delay!"),this.isMobile=Rs()||Ds()}return g(e,[{key:"get",value:function(){return Mc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Fc(e,t){Nc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bc=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jc=(us(gc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),us(gc,"MISSING_CUSTOM_TOKEN","internal-error"),us(gc,"INVALID_IDENTIFIER","invalid-email"),us(gc,"MISSING_CONTINUE_URI","internal-error"),us(gc,"INVALID_PASSWORD","wrong-password"),us(gc,"MISSING_PASSWORD","internal-error"),us(gc,"EMAIL_EXISTS","email-already-in-use"),us(gc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),us(gc,"INVALID_IDP_RESPONSE","invalid-credential"),us(gc,"INVALID_PENDING_TOKEN","invalid-credential"),us(gc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),us(gc,"MISSING_REQ_TYPE","internal-error"),us(gc,"EMAIL_NOT_FOUND","user-not-found"),us(gc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),us(gc,"EXPIRED_OOB_CODE","expired-action-code"),us(gc,"INVALID_OOB_CODE","invalid-action-code"),us(gc,"MISSING_OOB_CODE","internal-error"),us(gc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),us(gc,"INVALID_ID_TOKEN","invalid-user-token"),us(gc,"TOKEN_EXPIRED","user-token-expired"),us(gc,"USER_NOT_FOUND","user-token-expired"),us(gc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),us(gc,"INVALID_CODE","invalid-verification-code"),us(gc,"INVALID_SESSION_INFO","invalid-verification-id"),us(gc,"INVALID_TEMPORARY_PROOF","invalid-credential"),us(gc,"MISSING_SESSION_INFO","missing-verification-id"),us(gc,"SESSION_EXPIRED","code-expired"),us(gc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),us(gc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),us(gc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),us(gc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),us(gc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),us(gc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),us(gc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),us(gc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),us(gc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),us(gc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),us(gc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gc),Vc=new Uc(3e4,6e4);function qc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function zc(e,t,n,r){return Qc.apply(this,arguments)}function Qc(){return Qc=ss(as().mark((function e(t,n,r,i){var a,o=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Hc(t,a,ss(as().mark((function e(){var a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ys(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bc.fetch()(Yc(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function Hc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return Wc=ss(as().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},jc),n),e.prev=2,a=new Jc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Xc(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Xc(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Xc(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Xc(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Cc(t,p,d);case 34:_c(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Us)){e.next=41;break}throw e.t0;case 41:_c(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Wc.apply(this,arguments)}function Kc(e,t,n,r){return Gc.apply(this,arguments)}function Gc(){return Gc=ss(as().mark((function e(t,n,r,i){var a,o,s=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,zc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&_c(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Yc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Fc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Jc=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ec(n.auth,"network-request-failed"))}),Vc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ec(e,t,r);return i.customData._tokenResponse=n,i}function Zc(e,t){return $c.apply(this,arguments)}function $c(){return($c=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return(tl=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function rl(){return rl=ss(as().mark((function e(t){var n,r,i,a,o,s,u=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ru(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xc((a=al(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:nl(il(a.auth_time)),issuedAtTime:nl(il(a.iat)),expirationTime:nl(il(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e){return 1e3*Number(e)}function al(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return bc("JWT malformed, contained fewer than 3 sections"),null;try{var a=As(r);return a?JSON.parse(a):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ol(e,t){return sl.apply(this,arguments)}function sl(){return sl=ss(as().mark((function e(t,n){var r=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Us&&ul(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),sl.apply(this,arguments)}function ul(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var cl=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ss(as().mark((function t(){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ll=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fl(e){return hl.apply(this,arguments)}function hl(){return hl=ss(as().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ol(t,el(r,{idToken:i}));case 6:xc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=yc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=pl(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ll(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(){return(dl=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ru(t),e.next=3,fl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function vl(e,t){return yl.apply(this,arguments)}function yl(){return(yl=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(t,{},ss(as().mark((function e(){var r,i,a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ys({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Yc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bc.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gl=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xc(e.idToken,"internal-error"),xc("undefined"!==typeof e.idToken,"internal-error"),xc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=al(e);return xc(t,"internal-error"),xc("undefined"!==typeof t.exp,"internal-error"),xc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ss(as().mark((function e(t){var n,r=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ss(as().mark((function e(t,n){var r,i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ml(e,t){xc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Al=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=yc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new ll(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return rl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return dl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ss(as().mark((function e(t){var n,r,i=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ol(this,Zc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,_=n.stsTokenManager;xc(A&&_,t,"internal-error");var E=gl.fromJSON(this.name,_);xc("string"===typeof A,t,"internal-error"),ml(f,t.name),ml(h,t.name),xc("boolean"===typeof k,t,"internal-error"),xc("boolean"===typeof w,t,"internal-error"),ml(d,t.name),ml(p,t.name),ml(v,t.name),ml(y,t.name),ml(g,t.name),ml(m,t.name);var C=new e({uid:A,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:m});return b&&Array.isArray(b)&&(C.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(C._redirectEventId=y),C}},{key:"_fromIdTokenResponse",value:function(){var t=ss(as().mark((function t(n,r){var i,a,o,s=arguments;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new gl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),kl=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();kl.type="NONE";var wl=kl;function bl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _l=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bl(this.userKey,a.apiKey,o),this.fullPersistenceKey=bl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Al._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ss(as().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Pc(wl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Pc(wl),s=bl(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Al._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function El(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nl(t))return"Blackberry";if(Rl(t))return"Webos";if(Sl(t))return"Safari";if((t.includes("chrome/")||Il(t))&&!t.includes("edge/"))return"Chrome";if(Tl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/firefox\//i.test(e)}function Sl(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/crios\//i.test(e)}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/iemobile/i.test(e)}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/android/i.test(e)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/blackberry/i.test(e)}function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/webos/i.test(e)}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dl(){return function(){var e=Ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns();return Pl(e)||Tl(e)||Rl(e)||Nl(e)||/windows phone/i.test(e)||xl(e)}function Ll(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=El(Ns());break;case"Worker":t="".concat(El(Ns()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yu,"/").concat(r)}var Ml=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ss(as().mark((function e(t){var n,r,i,a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ul=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new Ml(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Pc(t)),this._initializationPromise=this.queue(ss(as().mark((function r(){var i,a;return as().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_l.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ss(as().mark((function e(t){var n,r,i,a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return xc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ru(t):null)&&xc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ss(as().mark((function e(t){var n,r=this,i=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&xc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ss(as().mark((function n(){return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Pc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Fs("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xc(n=t&&Pc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_l.create(this,[Pc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ss(as().mark((function e(t){var n=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ll(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ss(as().mark((function e(){var t,n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=us({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fl(e){return ru(e)}var Bl=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new $s(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return xc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jl(e,t,n){var r=Fl(e);xc(r._canInitEmulator,r,"emulator-config-failed"),xc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Vl(t),o=function(e){var t=Vl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ql(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:ql(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ql(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zl=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Tc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tc("not implemented")}}]),e}();function Ql(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithPassword",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithEmailLink",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t){return Xl.apply(this,arguments)}function Xl(){return(Xl=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithEmailLink",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zl=function(e){A(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gl(t,{email:this._email,oobCode:this._password}));case 5:_c(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ql(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Jl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:_c(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zl);function $l(e,t){return ef.apply(this,arguments)}function ef(){return(ef=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithIdp",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tf=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $l(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$l(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$l(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ys(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_c("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=yc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zl);function nf(e,t){return rf.apply(this,arguments)}function rf(){return(rf=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zc(t,"POST","/v1/accounts:sendVerificationCode",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(){return(af=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithPhoneNumber",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function of(){return(of=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kc(t,"POST","/v1/accounts:signInWithPhoneNumber",qc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sf=us({},"USER_NOT_FOUND","user-not-found");function uf(){return(uf=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Kc(t,"POST","/v1/accounts:signInWithPhoneNumber",qc(t,r),sf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cf=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return af.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return of.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return uf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zl);var lf=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Js(Xs(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);xc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Js(Xs(e)).link,n=t?Js(Xs(t)).deep_link_id:null,r=Js(Xs(e)).deep_link_id;return(r?Js(Xs(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(GN){return null}}}]),e}();var ff=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Zl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=lf.parseLink(t);return xc(n,"argument-error"),Zl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ff.PROVIDER_ID="password",ff.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ff.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var hf=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),df=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(hf),pf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return tf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(GN){return null}}}]),n}(df);pf.FACEBOOK_SIGN_IN_METHOD="facebook.com",pf.PROVIDER_ID="facebook.com";var vf=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return tf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(GN){return null}}}]),n}(df);vf.GOOGLE_SIGN_IN_METHOD="google.com",vf.PROVIDER_ID="google.com";var yf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return tf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(GN){return null}}}]),n}(df);yf.GITHUB_SIGN_IN_METHOD="github.com",yf.PROVIDER_ID="github.com";var gf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return tf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(GN){return null}}}]),n}(df);function mf(e,t){return Af.apply(this,arguments)}function Af(){return(Af=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t,"POST","/v1/accounts:signUp",qc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}gf.TWITTER_SIGN_IN_METHOD="twitter.com",gf.PROVIDER_ID="twitter.com";var kf=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ss(as().mark((function t(n,r,i){var a,o,s,u,c=arguments;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Al._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=wf(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ss(as().mark((function t(n,r,i){var a;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=wf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function wf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var bf=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(b(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Us);function _f(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bf._fromErrorAndOperation(e,n,t,r);throw n}))}function Ef(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=ss(as().mark((function e(t,n){var r,i,a=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ol,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",kf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Sf(e,t){return If.apply(this,arguments)}function If(){return If=ss(as().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ol(t,_f(i,a,n,t),r);case 6:return xc((o=e.sent).idToken,i,"internal-error"),xc(s=al(o.idToken),i,"internal-error"),u=s.sub,xc(t.uid===u,i,"user-mismatch"),e.abrupt("return",kf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_c(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),If.apply(this,arguments)}function xf(e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=ss(as().mark((function e(t,n){var r,i,a,o,s=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,_f(t,i,n);case 4:return a=e.sent,e.next=7,kf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return(Rf=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(Fl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e,t,n){return Df.apply(this,arguments)}function Df(){return(Df=ss(as().mark((function e(t,n,r){var i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),e.next=3,mf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,kf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e,t,n){return Nf(ru(e),ff.credential(t,n))}function Lf(e,t,n,r){return ru(e).onAuthStateChanged(t,n,r)}function Mf(e,t){return zc(e,"POST","/v2/accounts/mfaEnrollment:start",qc(e,t))}new WeakMap;var Uf="__sak",Ff=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch(GN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Bf=10,jf=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ns();return Sl(e)||Pl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ol(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Dl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Bf):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ss(as().mark((function e(t,r){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ss(as().mark((function e(t){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ff);jf.type="LOCAL";var Vf=jf,qf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ff);qf.type="SESSION";var zf=qf;function Qf(e){return Promise.all(e.map(function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hf=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ss(as().mark((function e(t){var n,r,i,a,o,s,u,c;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Qf(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hf.receivers=[];var Kf=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ss(as().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Wf("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gf(){return window}function Yf(){return"undefined"!==typeof Gf().WorkerGlobalScope&&"function"===typeof Gf().importScripts}function Jf(){return Xf.apply(this,arguments)}function Xf(){return(Xf=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Zf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $f="firebaseLocalStorageDb",eh=1,th="firebaseLocalStorage",nh="fbase_key",rh=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ih(e,t){return e.transaction([th],t?"readwrite":"readonly").objectStore(th)}function ah(){var e=indexedDB.deleteDatabase($f);return new rh(e).toPromise()}function oh(){var e=indexedDB.open($f,eh);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(th,{keyPath:nh})}catch(r){n(r)}})),e.addEventListener("success",ss(as().mark((function n(){var r;return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(th)){n.next=12;break}return r.close(),n.next=5,ah();case 5:return n.t0=t,n.next=8,oh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function sh(e,t,n){return uh.apply(this,arguments)}function uh(){return uh=ss(as().mark((function e(t,n,r){var i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ih(t,!0).put((us(i={},nh,n),us(i,"value",r),i)),e.abrupt("return",new rh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ih(t,!1).get(n),e.next=3,new rh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){var n=ih(e,!0).delete(t);return new rh(n).toPromise()}var hh=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,oh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ss(as().mark((function e(){var t=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hf._getInstance(Yf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ss(as().mark((function e(n,r){var i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ss(as().mark((function e(){var t,n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Kf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Zf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,oh();case 5:return t=e.sent,e.next=8,sh(t,Uf,"1");case 8:return e.next=10,fh(t,Uf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ss(as().mark((function e(t,n){var r=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return sh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ch(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ss(as().mark((function e(t){var n=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return fh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ss(as().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ih(e,!1).getAll();return new rh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ss(as().mark((function t(){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hh.type="LOCAL";var dh=hh;function ph(e,t){return zc(e,"POST","/v2/accounts/mfaSignIn:start",qc(e,t))}function vh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ec("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}yh("rcb"),new Uc(3e4,6e4);var gh="recaptcha";function mh(e,t,n){return Ah.apply(this,arguments)}function Ah(){return Ah=ss(as().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xc("string"===typeof a,t,"argument-error"),xc(r.type===gh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return xc("enroll"===s.type,t,"internal-error"),e.next=13,Mf(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return xc("signin"===s.type,t,"internal-error"),xc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ph(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ah.apply(this,arguments)}var kh=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fl(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return mh(this.auth,e,ru(t))}}],[{key:"credential",value:function(e,t){return cf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?cf._fromTokenResponse(n,r):null}}]),e}();function wh(e,t){return t?Pc(t):(xc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kh.PROVIDER_ID="phone",kh.PHONE_SIGN_IN_METHOD="phone";var bh=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return $l(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $l(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $l(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zl);function _h(e){return xf(e.auth,new bh(e),e.bypassAuthState)}function Eh(e){var t=e.auth,n=e.user;return xc(n,t,"internal-error"),Sf(n,new bh(e),e.bypassAuthState)}function Ch(e){return Sh.apply(this,arguments)}function Sh(){return(Sh=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xc(r=t.user,n,"internal-error"),e.abrupt("return",Ef(r,new bh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ih=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ss(as().mark((function t(n,r){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ss(as().mark((function e(t){var n,r,i,a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _h;case"linkViaPopup":case"linkViaRedirect":return Ch;case"reauthViaPopup":case"reauthViaRedirect":return Eh;default:_c(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),xh=new Uc(2e3,1e4);function Th(e,t,n){return Nh.apply(this,arguments)}function Nh(){return(Nh=ss(as().mark((function e(t,n,r){var i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fl(t),Sc(t,n,hf),a=wh(i,r),o=new Rh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rh=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ss(as().mark((function e(){var t,n=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nc(1===this.filter.length,"Popup operations only handle one event"),t=Wf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ec(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ec(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ec(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,xh.get())}()}}]),n}(Ih);Rh.currentPopupAction=null;var Ph="pendingRedirect",Dh=new Map,Oh=function(e){A(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=ss(as().mark((function e(){var t,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Dh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,fs(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Dh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Dh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ss(as().mark((function e(t){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",fs(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",fs(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ih);function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return(Mh=ss(as().mark((function e(t,n){var r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bh(n),i=Fh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(e,t){Dh.set(e._key(),t)}function Fh(e){return Pc(e._redirectPersistence)}function Bh(e){return bl(Ph,e.config.apiKey,e.name)}function jh(e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=ss(as().mark((function e(t,n){var r,i,a,o,s,u=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Fl(t),a=wh(i,n),o=new Oh(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}var qh=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ec(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Hh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=ss(as().mark((function e(t){var n,r=arguments;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}var Kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gh=/^https?/;function Yh(){return(Yh=ss(as().mark((function e(t){var n,r,i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hh(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Jh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:_c(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Jh(e){var t=Dc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Gh.test(r))return!1;if(Kh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Xh=new Uc(3e4,6e4);function Zh(){var e=Gf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var $h=null;function ed(e){return $h=$h||function(e){return new Promise((function(t,n){var r,i,a;function o(){Zh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Zh(),n(Ec(e,"network-request-failed"))},timeout:Xh.get()})}if(null===(i=null===(r=Gf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gf().gapi)||void 0===a?void 0:a.load)){var s=yh("iframefcb");return Gf()[s]=function(){gapi.load?o():n(Ec(e,"network-request-failed"))},vh("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw $h=null,e}))}(e),$h}var td=new Uc(5e3,15e3),nd="__/auth/iframe",rd="emulator/auth/iframe",id={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function od(e){var t=e.config;xc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Fc(t,rd):"https://".concat(e.config.authDomain,"/").concat(nd),r={apiKey:t.apiKey,appName:e.name,v:Yu},i=ad.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ys(r).slice(1))}function sd(e){return ud.apply(this,arguments)}function ud(){return ud=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ed(t);case 2:return n=e.sent,xc(r=Gf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:od(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:id,dontclear:!0},(function(e){return new Promise(function(){var n=ss(as().mark((function n(r,i){var a,o,s;return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Gf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ec(t,"network-request-failed"),o=Gf().setTimeout((function(){i(a)}),td.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}var cd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ld=500,fd=600,hd="_blank",dd="http://localhost",pd=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ld,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fd,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},cd),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ns().toLowerCase();n&&(s=Il(l)?hd:n),Cl(l)&&(t=t||dd,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Pl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new pd(null);var h=window.open(t||"",s,f);xc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new pd(h)}var yd="__/auth/handler",gd="emulator/auth/handler";function md(e,t,n,r,i,a){xc(e.config.authDomain,e,"auth-domain-config-required"),xc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yu,eventId:i};if(t instanceof hf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Hs(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof df){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var g=y[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yd);return Fc(t,gd)}(e),"?").concat(Ys(p).slice(1))}var Ad="webStorageSupport",kd=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zf,this._completeRedirectFn=jh,this._overrideRedirectResult=Uh}return g(e,[{key:"_openPopup",value:function(){var e=ss(as().mark((function e(t,n,r,i){var a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=md(t,n,r,Dc(),i),e.abrupt("return",vd(t,o,Wf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ss(as().mark((function e(t,n,r,i){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=md(t,n,r,Dc(),i),Gf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Nc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(t);case 2:return n=e.sent,r=new qh(t),n.register("authEvent",(function(e){return xc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ad,{type:Ad},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ad];void 0!==i&&t(!!i),_c(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Yh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ol()||Sl()||Pl()}}]),e}(),wd=kd,bd=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return zc(e,"POST","/v2/accounts/mfaEnrollment:finalize",qc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return zc(e,"POST","/v2/accounts/mfaSignIn:finalize",qc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tc("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return bd._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var _d="@firebase/auth",Ed="0.21.3",Cd=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Sd,Id=Is("authIdTokenMaxAge")||300,xd=null,Td=function(e){return function(){var t=ss(as().mark((function t(n){var r,i,a;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Id)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,xd!==a){t.next=12;break}return t.abrupt("return");case 12:return xd=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu(),t=Hu(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=Hu(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ks(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;_c(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wd,persistence:[dh,Vf,zf]}),r=Is("authTokenSyncURL");if(r){var i=Td(r);!function(e,t,n){ru(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){ru(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=Es("auth");return a&&jl(n,"http://".concat(a)),n}Sd="Browser",Qu(new iu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){xc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),xc(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Sd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ll(Sd)},i=new Ul(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Qu(new iu("auth-internal",(function(e){return function(e){return new Cd(e)}(Fl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zu(_d,Ed,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Sd)),Zu(_d,Ed,"esm2017");var Rd="@firebase/database",Pd="0.14.3",Dd="";var Od=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vs(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:js(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Ld=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return zs(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Md=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Od(t)}}catch(n){}return new Ld},Ud=Md("localStorage"),Fd=Md("sessionStorage"),Bd=new vu("@firebase/database"),jd=function(){var e=1;return function(){return e++}}(),Vd=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ds(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Zs;n.update(t);var r=n.digest();return ys.encodeByteArray(r)},qd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Vs(r):r,t+=" "}return t},zd=null,Qd=!0,Hd=function(e,t){ds(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Bd.logLevel=uu.VERBOSE,zd=Bd.log.bind(Bd),t&&Fd.set("logging_enabled",!0)):"function"===typeof e?zd=e:(zd=null,Fd.remove("logging_enabled"))},Wd=function(){if(!0===Qd&&(Qd=!1,null===zd&&!0===Fd.get("logging_enabled")&&Hd(!0)),zd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=qd.apply(null,t);zd(r)}},Kd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Wd.apply(void 0,[e].concat(n))}},Gd=function(){var e="FIREBASE INTERNAL ERROR: "+qd.apply(void 0,arguments);Bd.error(e)},Yd=function(){var e="FIREBASE FATAL ERROR: ".concat(qd.apply(void 0,arguments));throw Bd.error(e),new Error(e)},Jd=function(){var e="FIREBASE WARNING: "+qd.apply(void 0,arguments);Bd.warn(e)},Xd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Zd="[MIN_NAME]",$d="[MAX_NAME]",ep=function(e,t){if(e===t)return 0;if(e===Zd||t===$d)return-1;if(t===Zd||e===$d)return 1;var n=up(e),r=up(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},tp=function(e,t){return e===t?0:e<t?-1:1},np=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Vs(t))},rp=function e(t){if("object"!==typeof t||null===t)return Vs(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Vs(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},ip=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ap(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var op=function(e){ds(!Xd(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var sp=new RegExp("^-?(0*)\\d{1,10}$"),up=function(e){if(sp.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},cp=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Jd("Exception was thrown by user callback.",e),t}),Math.floor(0))}},lp=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fp=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},hp=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Jd('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),dp=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Wd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jd(e)}}]),e}(),pp=function(){function e(t){d(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();pp.OWNER="owner";var vp="5",yp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gp="ac",mp="websocket",Ap="long_polling",kp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ud.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ud.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function wp(e,t,n){var r;if(ds("string"===typeof t,"typeof type must == string"),ds("object"===typeof n,"typeof params must == object"),t===mp)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ap)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ap(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var bp=function(){function e(){d(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ks(this.counters_)}}]),e}(),_p={},Ep={};function Cp(e){var t=e.toString();return _p[t]||(_p[t]=new bp),_p[t]}var Sp=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&cp((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Ip="start",xp="close",Tp="pLPCommand",Np="pRTLPCB",Rp=function(){function e(t,n,r,i,a,o,s){var u=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kd(t),this.stats_=Cp(n),this.urlFn=function(e){return u.appCheckToken&&(e[gp]=u.appCheckToken),wp(n,Ap,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Sp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Os()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Pp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Ip)n.id=a,n.password=o;else{if(i!==xp)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Ip]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=vp,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[gp]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&yp.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Vs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=gs(t),r=ip(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Os()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Vs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Os()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Pp=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Os())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=jd(),window[Tp+this.uniqueCallbackIdentifier]=t,window[Np+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Wd("frame writing exception"),s.stack&&Wd(s.stack),Wd(s)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Os()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Wd("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wd("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Dp=null;"undefined"!==typeof MozWebSocket?Dp=MozWebSocket:"undefined"!==typeof WebSocket&&(Dp=WebSocket);var Op=function(){function e(t,n,r,i,a,o,s){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kd(this.connId),this.stats_=Cp(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ud.set("previous_websocket_failure",!0);try{var r;if(Os()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(vp,"/").concat(Dd,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Dp(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Ud.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=js(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ds(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Vs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ip(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=vp,!Os()&&"undefined"!==typeof location&&location.hostname&&yp.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[gp]=r),i&&(a.p=i),wp(e,mp,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Dp&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Ud.isInMemoryStorage||!0===Ud.get("previous_websocket_failure")}}]),e}();Op.responsesRequiredToBeHealthy=2,Op.healthyTimeout=3e4;var Lp=function(){function e(t){d(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=Op&&Op.isAvailable(),r=n&&!Op.previouslyFailed();if(t.webSocketOnly&&(n||Jd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Op];else{var i,a=this.transports_=[],o=S(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Rp,Op]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Lp.globalTransportInitialized_=!1;var Mp=function(){function e(t,n,r,i,a,o,s,u,c,l){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kd("c:"+this.id+":"),this.transportManager_=new Lp(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fp((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=np("t",e),n=np("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=np("t",e),n=np("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=np("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Gd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gd("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),vp!==n&&Jd("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fp((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fp((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ud.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Up=function(){function e(){d(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Fp=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},ds(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ds(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Bp=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Rs()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return ds("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Fp),jp=32,Vp=768,qp=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function zp(){return new qp("")}function Qp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Hp(e){return e.pieces_.length-e.pieceNum_}function Wp(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new qp(e.pieces_,t)}function Kp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Gp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Yp(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new qp(t,0)}function Jp(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof qp)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new qp(n,0)}function Xp(e){return e.pieceNum_>=e.pieces_.length}function Zp(e,t){var n=Qp(e),r=Qp(t);if(null===n)return t;if(n===r)return Zp(Wp(e),Wp(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $p(e,t){for(var n=Gp(e,0),r=Gp(t,0),i=0;i<n.length&&i<r.length;i++){var a=ep(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function ev(e,t){if(Hp(e)!==Hp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function tv(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Hp(e)>Hp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var nv=g((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=Gp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=nu(this.parts_[r]);rv(this)}));function rv(e){if(e.byteLength_>Vp)throw new Error(e.errorPrefix_+"has a key path longer than "+Vp+" bytes ("+e.byteLength_+").");if(e.parts_.length>jp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jp+") or object contains a cycle "+iv(e))}function iv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var av=function(e){A(n,e);var t=_(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return ds("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Fp),ov=1e3,sv=3e5,uv=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var l;if(d(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Kd("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=ov,l.maxReconnectDelay_=sv,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Os())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return av.getInstance().on("visible",l.onVisible_,b(l)),-1===e.host.indexOf("fblocal")&&Bp.getInstance().on("online",l.onOnline_,b(l)),l}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Vs(i)),ds(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new xs,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ds(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ds(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=qs(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=qs(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ds(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Vs(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Gd("Unrecognized action received from server: "+Vs(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ds(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ov),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ss(as().mark((function e(){var t,r,i,a,o,s,c,l,f,h,d,p,v,y,g=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},f=function(e){ds(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=u(d,2),v=p[0],y=p[1],s?Wd("getToken() completed but was canceled"):(Wd("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new Mp(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Jd(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Jd(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Wd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Wd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hs(this.interruptReasons_)&&(this.reconnectDelay_=ov,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return rp(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new qp(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Wd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Wd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=S(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=S(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Os()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Dd.replace(/\./g,"-")]=1,Rs()?e["framework.cordova"]=1:Ds()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Bp.getInstance().currentlyOnline();return Hs(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&zs(e,"w")){var n=Qs(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Jd("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Up);uv.nextPersistentConnectionId_=0,uv.nextConnectionId_=0;var cv,lv=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),fv=function(){function e(){d(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new lv(Zd,e),r=new lv(Zd,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return lv.MIN}}]),e}(),hv=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return ep(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ps("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return lv.MIN}},{key:"maxPost",value:function(){return new lv($d,cv)}},{key:"makePost",value:function(e,t){return ds("string"===typeof e,"KeyIndex indexValue must always be a string."),new lv(e,cv)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return cv},set:function(e){cv=e}}]),n}(fv),dv=new hv,pv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),vv=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:mv.EMPTY_NODE,this.right=null!=a?a:mv.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return mv.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return mv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();vv.RED=!0,vv.BLACK=!1;var yv,gv=function(){function e(){d(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vv(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),mv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vv.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new pv(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new pv(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new pv(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new pv(this.root_,null,this.comparator_,!0,e)}}]),e}();function Av(e,t){return ep(e.name,t.name)}function kv(e,t){return ep(e,t)}mv.EMPTY_NODE=new gv;var wv,bv,_v,Ev=function(e){return"number"===typeof e?"number:"+op(e):"string:"+e},Cv=function(e){if(e.isLeafNode()){var t=e.val();ds("string"===typeof t||"number"===typeof t||"object"===typeof t&&zs(t,".sv"),"Priority must be a string or number.")}else ds(e===yv||e.isEmpty(),"priority of unexpected type.");ds(e===yv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Sv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ds(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Cv(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Xp(t)?this:".priority"===Qp(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Qp(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ds(".priority"!==r||1===Hp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wp(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ev(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?op(this.value_):this.value_,this.lazyHash_=Vd(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ds(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ds(i>=0,"Unknown leaf type: "+n),ds(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return wv},set:function(e){wv=e}}]),e}();Sv.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Iv,xv,Tv=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?ep(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return lv.MIN}},{key:"maxPost",value:function(){return new lv($d,new Sv("[PRIORITY-POST]",_v))}},{key:"makePost",value:function(e,t){var n=bv(e);return new lv(t,new Sv("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(fv),Nv=new Tv,Rv=Math.log(2),Pv=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Rv,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Dv=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new vv(o,a.node,vv.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new vv(o,a.node,vv.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new vv(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,vv.BLACK):(s(f,vv.BLACK),s(f,vv.RED))}return a}(new Pv(e.length));return new mv(r||t,a)},Ov={},Lv=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=Qs(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof mv?t:null}},{key:"hasIndex",value:function(e){return zs(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ds(t!==dv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(lv.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Dv(i,t.getCompare()):Ov;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Ws(this.indexes_,(function(e,i){var a=Qs(r.indexSet_,i);if(ds(a,"Missing index implementation for "+i),e===Ov){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(lv.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Dv(o,a.getCompare())}return Ov}var c=n.get(t.name),l=e;return c&&(l=l.remove(new lv(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ws(this.indexes_,(function(e){if(e===Ov)return e;var r=n.get(t.name);return r?e.remove(new lv(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ds(Ov&&Nv,"ChildrenNode.ts has not been loaded"),Iv=Iv||new e({".priority":Ov},{".priority":Nv})}}]),e}(),Mv=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cv(this.priorityNode_),this.children_.isEmpty()&&ds(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||xv}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?xv:t}},{key:"getChild",value:function(e){var t=Qp(e);return null===t?this:this.getImmediateChild(t).getChild(Wp(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ds(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new lv(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?xv:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Qp(e);if(null===n)return t;ds(".priority"!==Qp(e)||1===Hp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Wp(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Nv,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ev(this.getPriority().val())+":"),this.forEachChild(Nv,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Vd(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new lv(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new lv(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new lv(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,lv.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,lv.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uv?-1:0}},{key:"withIndex",value:function(t){if(t===dv||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===dv||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Nv),r=t.getIterator(Nv),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===dv?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return xv||(xv=new e(new mv(kv),null,Lv.Default))}}]),e}();Mv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Uv=new(function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,new mv(kv),Mv.EMPTY_NODE,Lv.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Mv.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Mv));Object.defineProperties(lv,{MIN:{value:new lv(Zd,Mv.EMPTY_NODE)},MAX:{value:new lv($d,Uv)}}),hv.__EMPTY_NODE=Mv.EMPTY_NODE,Sv.__childrenNodeConstructor=Mv,yv=Uv,function(e){_v=e}(Uv);var Fv=!0;function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Mv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ds(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Sv(e,Bv(t));if(e instanceof Array||!Fv){var n=Mv.EMPTY_NODE;return ap(e,(function(t,r){if(zs(e,t)&&"."!==t.substring(0,1)){var i=Bv(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Bv(t))}var r=[],i=!1;if(ap(e,(function(e,t){if("."!==e.substring(0,1)){var n=Bv(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new lv(e,n)))}})),0===r.length)return Mv.EMPTY_NODE;var a=Dv(r,Av,(function(e){return e.name}),kv);if(i){var o=Dv(r,Nv.getCompare());return new Mv(a,Bv(t),new Lv({".priority":o},{".priority":Nv}))}return new Mv(a,Bv(t),Lv.Default)}!function(e){bv=e}(Bv);var jv=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,ds(!Xp(e)&&".priority"!==Qp(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?ep(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Bv(e),r=Mv.EMPTY_NODE.updateChild(this.indexPath_,n);return new lv(t,r)}},{key:"maxPost",value:function(){var e=Mv.EMPTY_NODE.updateChild(this.indexPath_,Uv);return new lv($d,e)}},{key:"toString",value:function(){return Gp(this.indexPath_,0).join("/")}}]),n}(fv),Vv=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?ep(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return lv.MIN}},{key:"maxPost",value:function(){return lv.MAX}},{key:"makePost",value:function(e,t){var n=Bv(e);return new lv(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(fv),qv=new Vv;function zv(e){return{type:"value",snapshotNode:e}}function Qv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Kv=function(){function e(t){d(this,e),this.index_=t}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ds(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Hv(t,o)):ds(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Qv(t,n)):a.trackChildChange(Wv(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Nv,(function(e,r){t.hasChild(e)||n.trackChildChange(Hv(e,r))})),t.isLeafNode()||t.forEachChild(Nv,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Wv(t,r,i))}else n.trackChildChange(Qv(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Mv.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Gv=function(){function e(t){d(this,e),this.indexedFilter_=new Kv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new lv(t,n))||(n=Mv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Mv.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Mv.EMPTY_NODE);var i=this;return t.forEachChild(Nv,(function(e,t){i.matches(new lv(e,t))||(r=r.updateImmediateChild(e,Mv.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Yv=function(){function e(t){var n=this;d(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Gv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new lv(t,n))||(n=Mv.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Mv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Mv.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Mv.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Mv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ds(s.numChildren()===this.limit_,"");var u=new lv(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Wv(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Hv(t,f));var p=s.updateImmediateChild(t,Mv.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Qv(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Hv(c.name,c.node)),i.trackChildChange(Qv(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Mv.EMPTY_NODE)):e}}]),e}(),Jv=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nv}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ds(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ds(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zd}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ds(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ds(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$d}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ds(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Nv}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Xv(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Zv(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function $v(e,t){var n=e.copy();return n.index_=t,n}function ey(e){var t,n={};if(e.isDefault())return n;if(e.index_===Nv?t="$priority":e.index_===qv?t="$value":e.index_===dv?t="$key":(ds(e.index_ instanceof jv,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Vs(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Vs(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Vs(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Vs(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Vs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function ty(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Nv&&(t.i=e.index_.toString()),t}var ny=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Kd("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=ey(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Qs(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=ey(e._queryParams),r=e._path.toString(),i=new xs;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ys(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=js(l.responseText)}catch(n){Jd("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Jd("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ds(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Up),ry=function(){function e(){d(this,e),this.rootNode_=Mv.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function iy(){return{value:null,children:new Map}}function ay(e,t,n){if(Xp(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Qp(t);e.children.has(r)||e.children.set(r,iy()),ay(e.children.get(r),t=Wp(t),n)}}function oy(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){oy(r,new qp(t.toString()+"/"+e),n)}))}var sy,uy=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ap(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),cy=1e4,ly=3e4,fy=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new uy(t);var r=cy+(ly-cy)*Math.random();fp(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ap(t,(function(t,i){i>0&&zs(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),fp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function hy(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sy||(sy={}));var dy,py=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=sy.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(Xp(this.path)){if(null!=this.affectedTree.value)return ds(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qp(t));return new e(zp(),n,this.revert)}return ds(Qp(this.path)===t,"operationForChild called for unrelated child."),new e(Wp(this.path),this.affectedTree,this.revert)}}]),e}(),vy=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=sy.LISTEN_COMPLETE}return g(e,[{key:"operationForChild",value:function(t){return Xp(this.path)?new e(this.source,zp()):new e(this.source,Wp(this.path))}}]),e}(),yy=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=sy.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return Xp(this.path)?new e(this.source,zp(),this.snap.getImmediateChild(t)):new e(this.source,Wp(this.path),this.snap)}}]),e}(),gy=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=sy.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(Xp(this.path)){var n=this.children.subtree(new qp(t));return n.isEmpty()?null:n.value?new yy(this.source,zp(),n.value):new e(this.source,zp(),n)}return ds(Qp(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Wp(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),my=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Xp(e))return this.isFullyInitialized()&&!this.filtered_;var t=Qp(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Ay=g((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function ky(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ps("Should only compare child_ events.");var r=new lv(t.childName,t.snapshotNode),i=new lv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function wy(e,t){return{eventCache:e,serverCache:t}}function by(e,t,n,r){return wy(new my(t,n,r),e.serverCache)}function _y(e,t,n,r){return wy(e.eventCache,new my(t,n,r))}function Ey(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Sy=function(){return dy||(dy=new mv(tp)),dy},Iy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sy();d(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:zp(),value:this.value};if(Xp(e))return null;var n=Qp(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Wp(e),t);return null!=i?{path:Jp(new qp(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Xp(t))return this;var n=Qp(t),r=this.children.get(n);return null!==r?r.subtree(Wp(t)):new e(null)}},{key:"set",value:function(t,n){if(Xp(t))return new e(n,this.children);var r=Qp(t),i=(this.children.get(r)||new e(null)).set(Wp(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Xp(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Qp(t),r=this.children.get(n);if(r){var i,a=r.remove(Wp(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Xp(e))return this.value;var t=Qp(e),n=this.children.get(t);return n?n.get(Wp(e)):null}},{key:"setTree",value:function(t,n){if(Xp(t))return n;var r,i=Qp(t),a=(this.children.get(i)||new e(null)).setTree(Wp(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(zp(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Jp(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,zp(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Xp(e))return null;var i=Qp(e),a=this.children.get(i);return a?a.findOnPath_(Wp(e),Jp(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,zp(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Xp(t))return this;this.value&&r(n,this.value);var i=Qp(t),a=this.children.get(i);return a?a.foreachOnPath_(Wp(t),Jp(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(zp(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Jp(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return ap(t,(function(e,t){n=n.set(new qp(e),t)})),n}}]),e}(),xy=function(){function e(t){d(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new Iy(null))}}]),e}();function Ty(e,t,n){if(Xp(t))return new xy(new Iy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Zp(i,t);return a=a.updateChild(o,n),new xy(e.writeTree_.set(i,a))}var s=new Iy(n),u=e.writeTree_.setTree(t,s);return new xy(u)}function Ny(e,t,n){var r=e;return ap(n,(function(e,n){r=Ty(r,Jp(t,e),n)})),r}function Ry(e,t){if(Xp(t))return xy.empty();var n=e.writeTree_.setTree(t,new Iy(null));return new xy(n)}function Py(e,t){return null!=Dy(e,t)}function Dy(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Zp(n.path,t)):null}function Oy(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Nv,(function(e,n){t.push(new lv(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new lv(e,n.value))})),t}function Ly(e,t){if(Xp(t))return e;var n=Dy(e,t);return new xy(null!=n?new Iy(n):e.writeTree_.subtree(t))}function My(e){return e.writeTree_.isEmpty()}function Uy(e,t){return Fy(zp(),e.writeTree_,t)}function Fy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ds(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Fy(Jp(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jp(e,".priority"),r)),n}function By(e,t){return Zy(t,e)}function jy(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ds(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Vy(s,r.path)?i=!1:tv(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=zy(e.allWrites,qy,zp()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ry(e.visibleWrites,r.path):ap(r.children,(function(t){e.visibleWrites=Ry(e.visibleWrites,Jp(r.path,t))}));return!0}return!1}function Vy(e,t){if(e.snap)return tv(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&tv(Jp(e.path,n),t))return!0;return!1}function qy(e){return e.visible}function zy(e,t,n){for(var r=xy.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)tv(n,o)?r=Ty(r,s=Zp(n,o),a.snap):tv(o,n)&&(s=Zp(o,n),r=Ty(r,zp(),a.snap.getChild(s)));else{if(!a.children)throw ps("WriteRecord should have .snap or .children");if(tv(n,o))r=Ny(r,s=Zp(n,o),a.children);else if(tv(o,n))if(Xp(s=Zp(o,n)))r=Ny(r,zp(),a.children);else{var u=Qs(a.children,Qp(s));if(u){var c=u.getChild(Wp(s));r=Ty(r,zp(),c)}}}}}return r}function Qy(e,t,n,r,i){if(r||i){var a=Ly(e.visibleWrites,t);if(!i&&My(a))return n;if(i||null!=n||Py(a,zp())){return Uy(zy(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(tv(e.path,t)||tv(t,e.path))}),t),n||Mv.EMPTY_NODE)}return null}var o=Dy(e.visibleWrites,t);if(null!=o)return o;var s=Ly(e.visibleWrites,t);return My(s)?n:null!=n||Py(s,zp())?Uy(s,n||Mv.EMPTY_NODE):null}function Hy(e,t,n,r){return Qy(e.writeTree,e.treePath,t,n,r)}function Wy(e,t){return function(e,t,n){var r=Mv.EMPTY_NODE,i=Dy(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Nv,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Ly(e.visibleWrites,t);return n.forEachChild(Nv,(function(e,t){var n=Uy(Ly(a,new qp(e)),t);r=r.updateImmediateChild(e,n)})),Oy(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Oy(Ly(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ky(e,t,n,r){return function(e,t,n,r,i){ds(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Jp(t,n);if(Py(e.visibleWrites,a))return null;var o=Ly(e.visibleWrites,a);return My(o)?i.getChild(n):Uy(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Gy(e,t){return function(e,t){return Dy(e.visibleWrites,t)}(e.writeTree,Jp(e.treePath,t))}function Yy(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Ly(e.visibleWrites,t),c=Dy(u,zp());if(null!=c)s=c;else{if(null==n)return[];s=Uy(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Jy(e,t,n){return function(e,t,n,r){var i=Jp(t,n),a=Dy(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Uy(Ly(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Xy(e,t){return Zy(Jp(e.treePath,t),e.writeTree)}function Zy(e,t){return{treePath:e,writeTree:t}}var $y=function(){function e(){d(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ds("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ds(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Wv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Hv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Qv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ps("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Wv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),eg=new(function(){function e(){d(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),tg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new my(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jy(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cy(this.viewCache_),i=Yy(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ng(e,t,n,r,i){var a,o,s=new $y;if(n.type===sy.OVERWRITE){var u=n;u.source.fromUser?a=ag(e,t,u.path,u.snap,r,i,s):(ds(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Xp(u.path),a=ig(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===sy.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Jp(n,r);og(t,Qp(c))&&(s=ag(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Jp(n,r);og(t,Qp(c))||(s=ag(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(ds(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=ug(e,t,c.path,c.children,r,i,o,s))}else if(n.type===sy.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Gy(r,n))return t;var s,u=new tg(r,t,i),c=t.eventCache.getNode();if(Xp(n)||".priority"===Qp(n)){var l;if(t.serverCache.isFullyInitialized())l=Hy(r,Cy(t));else{var f=t.serverCache.getNode();ds(f instanceof Mv,"serverChildren would be complete if leaf node"),l=Wy(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Qp(n),d=Jy(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Wp(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Mv.EMPTY_NODE,Wp(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Hy(r,Cy(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Gy(r,zp()),by(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Gy(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Xp(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ig(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Xp(n)){var c=new Iy(null);return u.getNode().forEachChild(dv,(function(e,t){c=c.set(new qp(e),t)})),ug(e,t,n,c,i,a,s,o)}return t}var l=new Iy(null);return r.foreach((function(e,t){var r=Jp(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),ug(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==sy.LISTEN_COMPLETE)throw ps("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=_y(t,a.getNode(),a.isFullyInitialized()||Xp(n),a.isFiltered());return rg(e,o,n,r,eg,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ey(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(zv(Ey(t)))}}(t,a,f),{viewCache:a,changes:f}}function rg(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Gy(r,n))return t;if(Xp(n))if(ds(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Cy(t),l=Wy(r,c instanceof Mv?c:Mv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Hy(r,Cy(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Qp(n);if(".priority"===h){ds(1===Hp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ky(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Wp(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Ky(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(y,g):u.getNode().getImmediateChild(h)}else v=Jy(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return by(t,o,u.isFullyInitialized()||Xp(n),e.filter.filtersNodes())}function ig(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Xp(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Qp(n);if(!c.isCompleteForPath(n)&&Hp(n)>1)return t;var d=Wp(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,eg,null)}var v=_y(t,u,c.isFullyInitialized()||Xp(n),l.filtersNodes());return rg(e,v,n,i,new tg(i,v,a),s)}function ag(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new tg(i,t,a);if(Xp(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=by(t,u,!0,e.filter.filtersNodes());else{var f=Qp(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=by(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Wp(n),p=c.getNode().getImmediateChild(f);if(Xp(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Kp(d)&&v.getChild(Yp(d)).isEmpty()?v:v.updateChild(d,r):Mv.EMPTY_NODE}if(p.equals(h))s=t;else s=by(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function og(e,t){return e.eventCache.isCompleteForChild(t)}function sg(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function ug(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Xp(n)?r:new Iy(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=sg(0,t.serverCache.getNode().getImmediateChild(n),r);c=ig(e,c,new qp(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=sg(0,t.serverCache.getNode().getImmediateChild(n),r);c=ig(e,c,new qp(n),f,i,a,o,s)}})),c}var cg,lg=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Kv(i.getIndex()),o=(r=i).loadsAllData()?new Kv(r.getIndex()):r.hasLimit()?new Yv(r):new Gv(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Mv.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Mv.EMPTY_NODE,u.getNode(),null),f=new my(c,s.isFullyInitialized(),a.filtersNodes()),h=new my(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=wy(h,f),this.eventGenerator_=new Ay(this.query_)}return g(e,[{key:"query",get:function(){return this.query_}}]),e}();function fg(e,t){var n=Cy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xp(t)&&!n.getImmediateChild(Qp(t)).isEmpty())?n.getChild(t):null}function hg(e){return 0===e.eventRegistrations_.length}function dg(e,t,n){var r=[];if(n){ds(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function pg(e,t,n,r){t.type===sy.MERGE&&null!==t.source.queryId&&(ds(Cy(e.viewCache_),"We should always have a full cache before handling merges"),ds(Ey(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=ng(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ds(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ds(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ds(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,vg(e,s.changes,s.viewCache.eventCache.getNode(),null)}function vg(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ky(e,i,"child_removed",t,r,n),ky(e,i,"child_added",t,r,n),ky(e,i,"child_moved",a,r,n),ky(e,i,"child_changed",t,r,n),ky(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var yg,gg=g((function e(){d(this,e),this.views=new Map}));function mg(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ds(null!=a,"SyncTree gave us an op for an invalid query."),pg(a,t,n,r)}var o,s=[],u=S(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(pg(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Ag(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Hy(n,i?r:null),u=!1;s?u=!0:r instanceof Mv?(s=Wy(n,r),u=!1):(s=Mv.EMPTY_NODE,u=!1);var c=wy(new my(s,u,!1),new my(r,i,!1));return new lg(t,c)}return o}function kg(e,t,n,r,i,a){var o=Ag(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Nv,(function(e,t){r.push(Qv(e,t))})),n.isFullyInitialized()&&r.push(zv(n.getNode())),vg(e,r,n.getNode(),t)}(o,n)}function wg(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Sg(e);if("default"===i){var c,l=S(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];o=o.concat(dg(d,n,r)),hg(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(dg(p,n,r)),hg(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Sg(e)&&a.push(new(ds(cg,"Reference.ts has not been loaded"),cg)(t._repo,t._path)),{removed:a,events:o}}function bg(e){var t,n=[],r=S(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function _g(e,t){var n,r=null,i=S(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||fg(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Eg(e,t){if(t._queryParams.loadsAllData())return Ig(e);var n=t._queryIdentifier;return e.views.get(n)}function Cg(e,t){return null!=Eg(e,t)}function Sg(e){return null!=Ig(e)}function Ig(e){var t,n=S(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var xg=1,Tg=g((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new Iy(null),this.pendingWriteTree_={visibleWrites:xy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Ng(e,t,n,r,i){return function(e,t,n,r,i){ds(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ty(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Bg(e,new yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Rg(e,t,n,r){!function(e,t,n,r){ds(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ny(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Iy.fromObject(n);return Bg(e,new gy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Pg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(jy(e.pendingWriteTree_,t)){var i=new Iy(null);return null!=r.snap?i=i.set(zp(),!0):ap(r.children,(function(e){i=i.set(new qp(e),!0)})),Bg(e,new py(r.path,i,n))}return[]}function Dg(e,t,n){return Bg(e,new yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Og(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Cg(o,t))){var u=wg(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Sg(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Sg(t))return[Ig(t)];var r=[];return t&&(r=bg(t)),ap(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],y=v.query,g=qg(e,v);e.listenProvider_.startListening(Gg(y),zg(e,y),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(Gg(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(Qg(t));e.listenProvider_.stopListening(Gg(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Qg(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function Lg(e,t,n,r){var i=Hg(e,r);if(null!=i){var a=Wg(i),o=a.path,s=a.queryId,u=Zp(o,t);return Kg(e,o,new yy(hy(s),u,n))}return[]}function Mg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Zp(e,i);a=a||_g(t,n),o=o||Sg(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Sg(u),a=a||_g(u,zp())):(u=new gg,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Mv.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=_g(t,zp());n&&(a=a.updateImmediateChild(e,n))})));var c=Cg(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Qg(t);ds(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=xg++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=kg(u,t,n,By(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=Eg(u,t);h=h.concat(function(e,t,n){var r=t._path,i=zg(e,t),a=qg(e,n),o=e.listenProvider_.startListening(Gg(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)ds(!Sg(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Xp(e)&&t&&Sg(t))return[Ig(t).query];var r=[];return t&&(r=r.concat(bg(t).map((function(e){return e.query})))),ap(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Gg(l),zg(e,l))}return o}(e,t,d))}return h}function Ug(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=_g(n,Zp(e,t));if(r)return r}));return Qy(r,t,i,n,!0)}function Fg(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Zp(e,n);r=r||_g(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||_g(i,zp()):(i=new gg,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new my(r,!0,!1):null;return function(e){return Ey(e.viewCache_)}(Ag(i,t,By(e.pendingWriteTree_,t._path),a?o.getNode():Mv.EMPTY_NODE,a))}function Bg(e,t){return jg(t,e.syncPointTree_,null,By(e.pendingWriteTree_,zp()))}function jg(e,t,n,r){if(Xp(e.path))return Vg(e,t,n,r);var i=t.get(zp());null==n&&null!=i&&(n=_g(i,zp()));var a=[],o=Qp(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Xy(r,o);a=a.concat(jg(s,u,c,l))}return i&&(a=a.concat(mg(i,e,r,n))),a}function Vg(e,t,n,r){var i=t.get(zp());null==n&&null!=i&&(n=_g(i,zp()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Xy(r,t),u=e.operationForChild(t);u&&(a=a.concat(Vg(u,i,o,s)))})),i&&(a=a.concat(mg(i,e,r,n))),a}function qg(e,t){var n=t.query,r=zg(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Mv.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Hg(e,n);if(r){var i=Wg(r),a=i.path,o=i.queryId,s=Zp(a,t);return Kg(e,a,new vy(hy(o),s))}return[]}(e,n._path,r):function(e,t){return Bg(e,new vy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Og(e,n,null,i)}}}function zg(e,t){var n=Qg(t);return e.queryToTagMap.get(n)}function Qg(e){return e._path.toString()+"$"+e._queryIdentifier}function Hg(e,t){return e.tagToQueryMap.get(t)}function Wg(e){var t=e.indexOf("$");return ds(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qp(e.substr(0,t))}}function Kg(e,t,n){var r=e.syncPointTree_.get(t);return ds(r,"Missing sync point for query tag that we're tracking"),mg(r,n,By(e.pendingWriteTree_,t),null)}function Gg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ds(yg,"Reference.ts has not been loaded"),yg)(e._repo,e._path):e}var Yg=function(){function e(t){d(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Jg=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=Jp(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Ug(this.syncTree_,this.path_)}}]),e}(),Xg=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Zg=function(e,t,n){return e&&"object"===typeof e?(ds(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?$g(e[".sv"],t,n):"object"===typeof e[".sv"]?em(e[".sv"],t):void ds(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},$g=function(e,t,n){if("timestamp"===e)return n.timestamp;ds(!1,"Unexpected server value: "+e)},em=function(e,t,n){e.hasOwnProperty("increment")||ds(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ds(!1,"Unexpected increment value: "+r);var i=t.node();if(ds(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},tm=function(e,t,n,r){return rm(t,new Jg(n,e),r)},nm=function(e,t,n){return rm(e,new Yg(t),n)};function rm(e,t,n){var r,i=e.getPriority().val(),a=Zg(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Zg(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Sv(s,Bv(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Sv(a))),u.forEachChild(Nv,(function(e,i){var a=rm(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var im=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function am(e,t){for(var n=t instanceof qp?t:new qp(t),r=e,i=Qp(n);null!==i;){var a=Qs(r.node.children,i)||{children:{},childCount:0};r=new im(i,r,a),i=Qp(n=Wp(n))}return r}function om(e){return e.node.value}function sm(e,t){e.node.value=t,hm(e)}function um(e){return e.node.childCount>0}function cm(e,t){ap(e.node.children,(function(n,r){t(new im(n,e,r))}))}function lm(e,t,n,r){n&&!r&&t(e),cm(e,(function(e){lm(e,t,!0,r)})),n&&r&&t(e)}function fm(e){return new qp(null===e.parent?e.name:fm(e.parent)+"/"+e.name)}function hm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===om(e)&&!um(e)}(n),i=zs(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,hm(e))}(e.parent,e.name,e)}var dm=/[\[\].#$\/\u0000-\u001F\u007F]/,pm=/[\[\].#$\u0000-\u001F\u007F]/,vm=10485760,ym=function(e){return"string"===typeof e&&0!==e.length&&!dm.test(e)},gm=function(e){return"string"===typeof e&&0!==e.length&&!pm.test(e)},mm=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Xd(e)||e&&"object"===typeof e&&zs(e,".sv")},Am=function(e,t,n,r){r&&void 0===t||km(tu(e,"value"),t,n)},km=function e(t,n,r){var i=r instanceof qp?new nv(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+iv(i));if("function"===typeof n)throw new Error(t+"contains a function "+iv(i)+" with contents = "+n.toString());if(Xd(n))throw new Error(t+"contains "+n.toString()+" "+iv(i));if("string"===typeof n&&n.length>vm/3&&nu(n)>vm)throw new Error(t+"contains a string greater than "+vm+" utf8 bytes "+iv(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(ap(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ym(n)))throw new Error(t+" contains an invalid key ("+n+") "+iv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=nu(t),rv(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=nu(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+iv(i)+" in addition to actual children.")}},wm=function(e,t,n,r){if(!r||void 0!==t){var i=tu(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];ap(t,(function(e,t){var r=new qp(e);if(km(i,t,Jp(n,r)),".priority"===Kp(r)&&!mm(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Gp(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!ym(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort($p);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&tv(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},bm=function(e,t,n,r){if((!r||void 0!==n)&&!ym(n))throw new Error(tu(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_m=function(e,t,n,r){if((!r||void 0!==n)&&!gm(n))throw new Error(tu(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Em=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_m(e,t,n,r)},Cm=function(e,t){if(".info"===Qp(t))throw new Error(e+" failed = Can't modify data under /.info/")},Sm=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ym(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gm(e)}(n))throw new Error(tu(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Im=g((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function xm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||ev(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Tm(e,t,n){xm(e,n),Rm(e,(function(e){return ev(e,t)}))}function Nm(e,t,n){xm(e,n),Rm(e,(function(e){return tv(e,t)||tv(t,e)}))}function Rm(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Pm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pm(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();zd&&Wd("event: "+n.toString()),cp(r)}}}var Dm="repo_interrupt",Om=25,Lm=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Im,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=iy(),this.transactionQueueTree_=new im,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Mm(e,t,n){if(e.stats_=Cp(e.repoInfo_),e.forceRestClient_||lp())e.server_=new ny(e.repoInfo_,(function(t,n,r,i){Bm(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return jm(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vs(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new uv(e.repoInfo_,t,(function(t,n,r,i){Bm(e,t,n,r,i)}),(function(t){jm(e,t)}),(function(t){!function(e,t){ap(t,(function(t,n){Vm(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Ep[n]||(Ep[n]=t()),Ep[n]}(e.repoInfo_,(function(){return new fy(e.stats_,e.server_)})),e.infoData_=new ry,e.infoSyncTree_=new Tg({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Dg(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Vm(e,"connected",!1),e.serverSyncTree_=new Tg({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Nm(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Um(e){var t=e.infoData_.getNode(new qp(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Fm(e){return Xg({timestamp:Um(e)})}function Bm(e,t,n,r,i){e.dataUpdateCount++;var a=new qp(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ws(n,(function(e){return Bv(e)}));o=function(e,t,n,r){var i=Hg(e,r);if(i){var a=Wg(i),o=a.path,s=a.queryId,u=Zp(o,t),c=Iy.fromObject(n);return Kg(e,o,new gy(hy(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Bv(n);o=Lg(e.serverSyncTree_,a,u,i)}else if(r){var c=Ws(n,(function(e){return Bv(e)}));o=function(e,t,n){var r=Iy.fromObject(n);return Bg(e,new gy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Bv(n);o=Dg(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Jm(e,a)),Nm(e.eventQueue_,f,o)}function jm(e,t){Vm(e,"connected",t),!1===t&&function(e){Wm(e,"onDisconnectEvents");var t=Fm(e),n=iy();oy(e.onDisconnect_,zp(),(function(r,i){var a=tm(r,i,e.serverSyncTree_,t);ay(n,r,a)}));var r=[];oy(n,zp(),(function(t,n){r=r.concat(Dg(e.serverSyncTree_,t,n));var i=tA(e,t);Jm(e,i)})),e.onDisconnect_=iy(),Nm(e.eventQueue_,zp(),r)}(e)}function Vm(e,t,n){var r=new qp("/.info/"+t),i=Bv(n);e.infoData_.updateSnapshot(r,i);var a=Dg(e.infoSyncTree_,r,i);Nm(e.eventQueue_,r,a)}function qm(e){return e.nextWriteId_++}function zm(e,t,n,r,i){Wm(e,"set",{path:t.toString(),value:n,priority:r});var a=Fm(e),o=Bv(n,r),s=Ug(e.serverSyncTree_,t),u=nm(o,s,a),c=qm(e),l=Ng(e.serverSyncTree_,t,u,c,!0);xm(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Jd("set at "+t+" failed: "+n);var o=Pg(e.serverSyncTree_,c,!a);Nm(e.eventQueue_,t,o),Km(e,i,n,r)}));var f=tA(e,t);Jm(e,f),Nm(e.eventQueue_,f,[])}function Qm(e,t,n){var r;r=".info"===Qp(t._path)?Og(e.infoSyncTree_,t,n):Og(e.serverSyncTree_,t,n),Tm(e.eventQueue_,t._path,r)}function Hm(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Dm)}function Wm(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Wd.apply(void 0,[t].concat(r))}function Km(e,t,n,r){t&&cp((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Gm(e,t,n){return Ug(e.serverSyncTree_,t,n)||Mv.EMPTY_NODE}function Ym(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||eA(e,t),om(t)){var n=Zm(e,t);ds(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Gm(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ds(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Zp(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Wm(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Pg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);eA(e,am(e.transactionQueueTree_,t)),Ym(e,e.transactionQueueTree_),Nm(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)cp(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Jd("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Jm(e,t)}}),o)}(e,fm(t),n)}else um(t)&&cm(t,(function(t){Ym(e,t)}))}function Jm(e,t){var n=Xm(e,t),r=fm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=Zp(n,c.path),f=!1;if(ds(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Pg(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Om)f=!0,s="maxretry",i=i.concat(Pg(e.serverSyncTree_,c.currentWriteId,!0));else{var h=Gm(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){km("transaction failed: Data returned ",d,c.path);var p=Bv(d);"object"===typeof d&&null!=d&&zs(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,y=Fm(e),g=nm(p,h,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=qm(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Ng(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Pg(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Pg(e.serverSyncTree_,c.currentWriteId,!0))}Nm(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);eA(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)cp(r[c]);Ym(e,e.transactionQueueTree_)}(e,Zm(e,n),r),r}function Xm(e,t){var n,r=e.transactionQueueTree_;for(n=Qp(t);null!==n&&void 0===om(r);)r=am(r,n),n=Qp(t=Wp(t));return r}function Zm(e,t){var n=[];return $m(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function $m(e,t,n){var r=om(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);cm(t,(function(t){$m(e,t,n)}))}function eA(e,t){var n=om(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,sm(t,n.length>0?n:void 0)}cm(t,(function(t){eA(e,t)}))}function tA(e,t){var n=fm(Xm(e,t)),r=am(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){nA(e,t)})),nA(e,r),lm(r,(function(t){nA(e,t)})),n}function nA(e,t){var n=om(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ds(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ds(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Pg(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?sm(t,void 0):n.length=a+1,Nm(e.eventQueue_,fm(t),i);for(var s=0;s<r.length;s++)cp(r[s])}}var rA=function(e,t){var n=iA(e),r=n.namespace;"firebase.com"===n.domain&&Yd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Yd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new kp(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new qp(n.pathString)}},iA=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=S(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Jd("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},aA="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oA=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=aA.charAt(n%64),n=Math.floor(n/64);ds(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=aA.charAt(t[r]);return ds(20===o.length,"nextPushId: Length should be 20."),o}}(),sA=function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return g(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Vs(this.snapshot.exportVal())}}]),e}(),uA=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return g(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),cA=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return g(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ds(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),lA=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return Xp(this._path)?null:Kp(this._path)}},{key:"ref",get:function(){return new pA(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=ty(this._queryParams),t=rp(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return ty(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ru(t))instanceof e))return!1;var n=this._repo===t._repo,r=ev(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function fA(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function hA(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===dv){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Zd)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==$d)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Nv){if(null!=t&&!mm(t)||null!=n&&!mm(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ds(e.getIndex()instanceof jv||e.getIndex()===qv,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dA(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pA=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,r,new Jv,!1)}return g(n,[{key:"parent",get:function(){var e=Yp(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(lA),vA=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return g(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new qp(t),r=gA(this.ref,t);return new e(this._node.getChild(n),r,Nv)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,gA(n.ref,r),Nv))}))}},{key:"hasChild",value:function(e){var t=new qp(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function yA(e,t){return(e=ru(e))._checkNotDeleted("ref"),void 0!==t?gA(e._root,t):e._root}function gA(e,t){return null===Qp((e=ru(e))._path)?Em("child","path",t,!1):_m("child","path",t,!1),new pA(e._repo,Jp(e._path,t))}function mA(e,t){e=ru(e),Cm("push",e._path),Am("push",t,e._path,!0);var n,r=Um(e._repo),i=oA(r),a=gA(e,i),o=gA(e,i);return n=null!=t?AA(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function AA(e,t){e=ru(e),Cm("set",e._path),Am("set",t,e._path,!1);var n=new xs;return zm(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function kA(e,t){wm("update",t,e._path,!1);var n=new xs;return function(e,t,n,r){Wm(e,"update",{path:t.toString(),value:n});var i=!0,a=Fm(e),o={};if(ap(n,(function(n,r){i=!1,o[n]=tm(Jp(t,n),Bv(r),e.serverSyncTree_,a)})),i)Wd("update() called with empty data.  Don't do anything."),Km(0,r,"ok",void 0);else{var s=qm(e),u=Rg(e.serverSyncTree_,t,o,s);xm(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Jd("update at "+t+" failed: "+n);var o=Pg(e.serverSyncTree_,s,!a),u=o.length>0?Jm(e,t):t;Nm(e.eventQueue_,u,o),Km(0,r,n,i)})),ap(n,(function(n){var r=tA(e,Jp(t,n));Jm(e,r)})),Nm(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function wA(e){e=ru(e);var t=new cA((function(){})),n=new bA(t);return function(e,t,n){var r=Fg(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Bv(r).withIndex(t._queryParams.getIndex());if(Mg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Dg(e.serverSyncTree_,t._path,a);else{var o=zg(e.serverSyncTree_,t);i=Lg(e.serverSyncTree_,t._path,a,o)}return Nm(e.eventQueue_,t._path,i),Og(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Wm(e,"get for query "+Vs(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new vA(t,new pA(e._repo,e._path),e._queryParams.getIndex())}))}var bA=function(){function e(t){d(this,e),this.callbackContext=t}return g(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new sA("value",this,new vA(e.snapshotNode,new pA(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uA(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),_A=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return g(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uA(this,e,t):null}},{key:"createEvent",value:function(e,t){ds(null!=e.childName,"Child events should have a childName.");var n=gA(new pA(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new sA(e.type,this,new vA(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function EA(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Qm(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new cA(n,a||void 0),c="value"===t?new bA(u):new _A(t,u);return function(e,t,n){var r;r=".info"===Qp(t._path)?Mg(e.infoSyncTree_,t,n):Mg(e.serverSyncTree_,t,n),Tm(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Qm(e._repo,e,c)}}function CA(e,t,n,r){return EA(e,"value",t,n,r)}var SA=g((function e(){d(this,e)})),IA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){Am("endAt",this._value,e._path,!0);var t=Zv(e._queryParams,this._value,this._key);if(dA(t),hA(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lA(e._repo,e._path,t,e._orderByCalled)}}]),n}(SA);var xA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){Am("startAt",this._value,e._path,!0);var t=Xv(e._queryParams,this._value,this._key);if(dA(t),hA(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lA(e._repo,e._path,t,e._orderByCalled)}}]),n}(SA);var TA=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this))._path=e,r}return g(n,[{key:"_apply",value:function(e){fA(e,"orderByChild");var t=new qp(this._path);if(Xp(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new jv(t),r=$v(e._queryParams,n);return hA(r),new lA(e._repo,e._path,r,!0)}}]),n}(SA);function NA(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _m("orderByChild","path",e,!1),new TA(e)}var RA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){if(Am("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IA(this._value,this._key)._apply(new xA(this._value,this._key)._apply(e))}}]),n}(SA);function PA(e){for(var t=ru(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){ds(!cg,"__referenceConstructor has already been defined"),cg=e}(pA),function(e){ds(!yg,"__referenceConstructor has already been defined"),yg=e}(pA);var DA="FIREBASE_DATABASE_EMULATOR_HOST",OA={},LA=!1;function MA(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Yd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wd("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=rA(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[DA]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=rA(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new pp(pp.OWNER):new dp(e.name,e.options,t);Sm("Invalid Firebase Database URL",s),Xp(s.path)||Yd("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=OA[t.name];i||(i={},OA[t.name]=i);var a=i[e.toURLString()];a&&Yd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Lm(e,LA,n,r),i[e.toURLString()]=a,a}(u,e,l,new hp(e.name,n));return new UA(f,e)}var UA=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(Mm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new pA(this._repo,zp())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=OA[t];n&&n[e.key]===e||Yd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Hm(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Yd("Cannot call "+e+" on a deleted database.")}}]),e}();function FA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu(),t=arguments.length>1?arguments[1]:void 0,n=Hu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=Cs("database");r&&BA.apply(void 0,[n].concat(h(r)))}return n}function BA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ru(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Yd("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Yd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new pp(pp.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Ts(r.mockUserToken,e.app.options.projectId);a=new pp(o)}!function(e,t,n,r){e.repoInfo_=new kp("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}uv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Dd=e}(Yu),Qu(new iu("database",(function(e,t){var n=t.instanceIdentifier;return MA(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zu(Rd,Pd,e),Zu(Rd,Pd,"esm2017")}();Zu("firebase","9.17.1","app");var jA,VA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qA={},zA=zA||{},QA=VA||self;function HA(){}function WA(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function KA(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var GA="closure_uid_"+(1e9*Math.random()>>>0),YA=0;function JA(e,t,n){return e.call.apply(e.bind,arguments)}function XA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ZA(e,t,n){return(ZA=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JA:XA).apply(null,arguments)}function $A(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ek(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tk(){this.s=this.s,this.o=this.o}tk.prototype.s=!1,tk.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,GA)&&e[GA]||(e[GA]=++YA))},tk.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ik(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(WA(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ak(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ak.prototype.h=function(){this.defaultPrevented=!0};var ok=function(){if(!QA.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{QA.addEventListener("test",HA,t),QA.removeEventListener("test",HA,t)}catch(n){}return e}();function sk(e){return/^[\s\xa0]*$/.test(e)}var uk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ck(e,t){return e<t?-1:e>t?1:0}function lk(){var e=QA.navigator;return e&&(e=e.userAgent)?e:""}function fk(e){return-1!=lk().indexOf(e)}function hk(e){return hk[" "](e),e}hk[" "]=HA;var dk,pk=fk("Opera"),vk=fk("Trident")||fk("MSIE"),yk=fk("Edge"),gk=yk||vk,mk=fk("Gecko")&&!(-1!=lk().toLowerCase().indexOf("webkit")&&!fk("Edge"))&&!(fk("Trident")||fk("MSIE"))&&!fk("Edge"),Ak=-1!=lk().toLowerCase().indexOf("webkit")&&!fk("Edge");function kk(){var e=QA.document;return e?e.documentMode:void 0}e:{var wk="",bk=function(){var e=lk();return mk?/rv:([^\);]+)(\)|;)/.exec(e):yk?/Edge\/([\d\.]+)/.exec(e):vk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ak?/WebKit\/(\S+)/.exec(e):pk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(bk&&(wk=bk?bk[1]:""),vk){var _k=kk();if(null!=_k&&_k>parseFloat(wk)){dk=String(_k);break e}}dk=wk}var Ek,Ck={};function Sk(){return function(e){var t=Ck;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=uk(String(dk)).split("."),n=uk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ck(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ck(0==a[2].length,0==o[2].length)||ck(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(QA.document&&vk){var Ik=kk();Ek=Ik||(parseInt(dk,10)||void 0)}else Ek=void 0;var xk=Ek;function Tk(e,t){if(ak.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mk){e:{try{hk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Nk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tk.X.h.call(this)}}ek(Tk,ak);var Nk={2:"touch",3:"pen",4:"mouse"};Tk.prototype.h=function(){Tk.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rk="closure_listenable_"+(1e6*Math.random()|0),Pk=0;function Dk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Pk,this.ba=this.ea=!1}function Ok(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Lk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Mk(e){var t={};for(var n in e)t[n]=e[n];return t}var Uk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Uk.length;a++)n=Uk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bk(e){this.src=e,this.g={},this.h=0}function jk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=nk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ok(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Bk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Vk(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Dk(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var qk="closure_lm_"+(1e6*Math.random()|0),zk={};function Qk(e,t,n,r,i){if(r&&r.once)return Wk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qk(e,t[a],n,r,i);return null}return n=$k(n),e&&e[Rk]?e.N(t,n,KA(r)?!!r.capture:!!r,i):Hk(e,t,n,!1,r,i)}function Hk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=KA(i)?!!i.capture:!!i,s=Xk(e);if(s||(e[qk]=s=new Bk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Jk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ok||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wk(e,t[a],n,r,i);return null}return n=$k(n),e&&e[Rk]?e.O(t,n,KA(r)?!!r.capture:!!r,i):Hk(e,t,n,!0,r,i)}function Kk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Kk(e,t[a],n,r,i);else r=KA(r)?!!r.capture:!!r,n=$k(n),e&&e[Rk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vk(a=e.g[t],n,r,i))&&(Ok(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Xk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vk(t,n,r,i)),(n=-1<e?t[e]:null)&&Gk(n))}function Gk(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Rk])jk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xk(t))?(jk(n,e),0==n.h&&(n.src=null,t[qk]=null)):Ok(e)}}}function Yk(e){return e in zk?zk[e]:zk[e]="on"+e}function Jk(e,t){if(e.ba)e=!0;else{t=new Tk(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Gk(e),e=n.call(r,t)}return e}function Xk(e){return(e=e[qk])instanceof Bk?e:null}var Zk="__closure_events_fn_"+(1e9*Math.random()>>>0);function $k(e){return"function"===typeof e?e:(e[Zk]||(e[Zk]=function(t){return e.handleEvent(t)}),e[Zk])}function ew(){tk.call(this),this.i=new Bk(this),this.P=this,this.I=null}function tw(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ak(t,e);else if(t instanceof ak)t.target=t.target||e;else{var i=t;Fk(t=new ak(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=nw(o,r,!0,t)&&i}if(i=nw(o=t.g=e,r,!0,t)&&i,i=nw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=nw(o=t.g=n[a],r,!1,t)&&i}function nw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&jk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ek(ew,tk),ew.prototype[Rk]=!0,ew.prototype.removeEventListener=function(e,t,n,r){Kk(this,e,t,n,r)},ew.prototype.M=function(){if(ew.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ok(n[r]);delete t.g[e],t.h--}}this.I=null},ew.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ew.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var rw=QA.JSON.stringify;function iw(){var e=hw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var aw,ow=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=sw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sw=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new uw}),(function(e){return e.reset()})),uw=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function cw(e){QA.setTimeout((function(){throw e}),0)}function lw(e,t){aw||function(){var e=QA.Promise.resolve(void 0);aw=function(){e.then(dw)}}(),fw||(aw(),fw=!0),hw.add(e,t)}var fw=!1,hw=new ow;function dw(){for(var e;e=iw();){try{e.h.call(e.g)}catch(n){cw(n)}var t=sw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fw=!1}function pw(e,t){ew.call(this),this.h=e||1,this.g=t||QA,this.j=ZA(this.lb,this),this.l=Date.now()}function vw(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function yw(e,t,n){if("function"===typeof e)n&&(e=ZA(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ZA(e.handleEvent,e)}return 2147483647<Number(t)?-1:QA.setTimeout(e,t||0)}function gw(e){e.g=yw((function(){e.g=null,e.i&&(e.i=!1,gw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ek(pw,ew),(jA=pw.prototype).ca=!1,jA.R=null,jA.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tw(this,"tick"),this.ca&&(vw(this),this.start()))}},jA.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jA.M=function(){pw.X.M.call(this),vw(this),delete this.g};var mw=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gw(this)}},{key:"M",value:function(){fs(k(n.prototype),"M",this).call(this),this.g&&(QA.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tk);function Aw(e){tk.call(this),this.h=e,this.g={}}ek(Aw,tk);var kw=[];function ww(e,t,n,r){Array.isArray(n)||(n&&(kw[0]=n.toString()),n=kw);for(var i=0;i<n.length;i++){var a=Qk(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function bw(e){Lk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gk(e)}),e),e.g={}}function _w(){this.g=!0}function Ew(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return rw(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Aw.prototype.M=function(){Aw.X.M.call(this),bw(this)},Aw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_w.prototype.Aa=function(){this.g=!1},_w.prototype.info=function(){};var Cw={},Sw=null;function Iw(){return Sw=Sw||new ew}function xw(e){ak.call(this,Cw.Pa,e)}function Tw(e){var t=Iw();tw(t,new xw(t))}function Nw(e,t){ak.call(this,Cw.STAT_EVENT,e),this.stat=t}function Rw(e){var t=Iw();tw(t,new Nw(t,e))}function Pw(e,t){ak.call(this,Cw.Qa,e),this.size=t}function Dw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return QA.setTimeout((function(){e()}),t)}Cw.Pa="serverreachability",ek(xw,ak),Cw.STAT_EVENT="statevent",ek(Nw,ak),Cw.Qa="timingevent",ek(Pw,ak);var Ow={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Lw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Mw(){}function Uw(e){return e.h||(e.h=e.i())}function Fw(){}Mw.prototype.h=null;var Bw,jw={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vw(){ak.call(this,"d")}function qw(){ak.call(this,"c")}function zw(){}function Qw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Aw(this),this.O=Ww,e=gk?125:void 0,this.T=new pw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Hw}function Hw(){this.i=null,this.g="",this.h=!1}ek(Vw,ak),ek(qw,ak),ek(zw,Mw),zw.prototype.g=function(){return new XMLHttpRequest},zw.prototype.i=function(){return{}},Bw=new zw;var Ww=45e3,Kw={},Gw={};function Yw(e,t,n){e.K=1,e.v=pb(cb(t)),e.s=n,e.P=!0,Jw(e,null)}function Jw(e,t){e.F=Date.now(),eb(e),e.A=cb(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ib(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Hw,e.g=x_(e.l,n?t:null,!e.s),0<e.N&&(e.L=new mw(ZA(e.La,e,e.g),e.N)),ww(e.S,e.g,"readystatechange",e.ib),t=e.H?Mk(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Tw(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Xw(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Zw(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=$w(e,n))==Gw){4==t&&(e.o=4,Rw(14),i=!1),Ew(e.j,e.m,null,"[Incomplete Response]");break}if(r==Kw){e.o=4,Rw(15),Ew(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ew(e.j,e.m,r,null),ab(e,r)}Xw(e)&&r!=Gw&&r!=Kw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),k_(t),t.K=!0,Rw(11))):(Ew(e.j,e.m,n,"[Invalid Chunked Response]"),ib(e),rb(e))}function $w(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gw:(n=Number(t.substring(n,r)),isNaN(n)?Kw:(r+=1)+n>t.length?Gw:(t=t.substr(r,n),e.C=r+n,t))}function eb(e){e.V=Date.now()+e.O,tb(e,e.O)}function tb(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Dw(ZA(e.gb,e),t)}function nb(e){e.B&&(QA.clearTimeout(e.B),e.B=null)}function rb(e){0==e.l.G||e.I||__(e.l,e)}function ib(e){nb(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,vw(e.T),bw(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ab(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Lb(n.h,e)))if(!e.J&&Lb(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;b_(n),h_(n)}A_(n),Rw(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Dw(ZA(n.cb,n),6e3));if(1>=Ob(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else C_(n,11)}else if((e.J||n.g==e)&&b_(n),!sk(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Mb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,db(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=I_(r,r.H?r.ka:null,r.V),d.J){Ub(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(nb(p),eb(p)),r.g=d}else m_(r);0<n.i.length&&p_(n)}else"stop"!=a[0]&&"close"!=a[0]||C_(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?C_(n,7):f_(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Tw()}catch(a){}}function ob(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(WA(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(WA(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(WA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(jA=Qw.prototype).setTimeout=function(e){this.O=e},jA.ib=function(e){e=e.target;var t=this.L;t&&3==a_(e)?t.l():this.La(e)},jA.La=function(e){try{if(e==this.g)e:{var t=a_(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||gk||this.g&&(this.h.h||this.g.fa()||o_(this.g)))){this.I||4!=t||7==n||Tw(),nb(this);var r=this.g.aa();this.Y=r;t:if(Xw(this)){var i=o_(this.g);e="";var a=i.length,o=4==a_(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ib(this),rb(this);var s="";break t}this.h.i=new QA.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Rw(12),ib(this),rb(this);break e}Ew(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ab(this,r)}this.P?(Zw(this,t,s),gk&&this.i&&3==t&&(ww(this.S,this.T,"tick",this.hb),this.T.start())):(Ew(this.j,this.m,s,null),ab(this,s)),4==t&&ib(this),this.i&&!this.I&&(4==t?__(this.l,this):(this.i=!1,eb(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Rw(12)):(this.o=0,Rw(13)),ib(this),rb(this)}}}catch(t){}},jA.hb=function(){if(this.g){var e=a_(this.g),t=this.g.fa();this.C<t.length&&(nb(this),Zw(this,e,t),this.i&&4!=e&&eb(this))}},jA.cancel=function(){this.I=!0,ib(this)},jA.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Tw(),Rw(17)),ib(this),this.o=2,rb(this)):tb(this,this.V-e)};var sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ub(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ub){this.h=void 0!==t?t:e.h,lb(this,e.j),this.s=e.s,this.g=e.g,fb(this,e.m),this.l=e.l,t=e.i;var n=new _b;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hb(this,n),this.o=e.o}else e&&(n=String(e).match(sb))?(this.h=!!t,lb(this,n[1]||"",!0),this.s=vb(n[2]||""),this.g=vb(n[3]||"",!0),fb(this,n[4]),this.l=vb(n[5]||"",!0),hb(this,n[6]||"",!0),this.o=vb(n[7]||"")):(this.h=!!t,this.i=new _b(null,this.h))}function cb(e){return new ub(e)}function lb(e,t,n){e.j=n?vb(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function fb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hb(e,t,n){t instanceof _b?(e.i=t,function(e,t){t&&!e.j&&(Eb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cb(this,t),Ib(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=yb(t,wb)),e.i=new _b(t,e.h))}function db(e,t,n){e.i.set(t,n)}function pb(e){return db(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vb(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yb(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ub.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yb(t,mb,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yb(t,mb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(yb(n,"/"==n.charAt(0)?kb:Ab,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yb(n,bb)),e.join("")};var mb=/[#\/\?@]/g,Ab=/[#\?:]/g,kb=/[#\?]/g,wb=/[#\?@]/g,bb=/#/g;function _b(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Eb(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cb(e,t){Eb(e),t=xb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Sb(e,t){return Eb(e),t=xb(e,t),e.g.has(t)}function Ib(e,t,n){Cb(e,t),0<n.length&&(e.i=null,e.g.set(xb(e,t),rk(n)),e.h+=n.length)}function xb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(jA=_b.prototype).add=function(e,t){Eb(this),this.i=null,e=xb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},jA.forEach=function(e,t){Eb(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},jA.oa=function(){Eb(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},jA.W=function(e){Eb(this);var t=[];if("string"===typeof e)Sb(this,e)&&(t=t.concat(this.g.get(xb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},jA.set=function(e,t){return Eb(this),this.i=null,Sb(this,e=xb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},jA.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},jA.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Tb=g((function e(t,n){d(this,e),this.h=t,this.g=n}));function Nb(e){this.l=e||Pb,QA.PerformanceNavigationTiming?e=0<(e=QA.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(QA.g&&QA.g.Ga&&QA.g.Ga()&&QA.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rb,Pb=10;function Db(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ob(e){return e.h?1:e.g?e.g.size:0}function Lb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mb(e,t){e.g?e.g.add(t):e.h=t}function Ub(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Fb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rk(e.i)}function Bb(){}function jb(){this.g=new Bb}function Vb(e,t,n){var r=n||"";try{ob(e,(function(e,n){var i=e;KA(e)&&(i=rw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zb(e){this.l=e.ac||null,this.j=e.jb||!1}function Qb(e,t){ew.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Hb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nb.prototype.cancel=function(){if(this.i=Fb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Bb.prototype.stringify=function(e){return QA.JSON.stringify(e,void 0)},Bb.prototype.parse=function(e){return QA.JSON.parse(e,void 0)},ek(zb,Mw),zb.prototype.g=function(){return new Qb(this.l,this.j)},zb.prototype.i=(Rb={},function(){return Rb}),ek(Qb,ew);var Hb=0;function Wb(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Kb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gb(e)}function Gb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(jA=Qb.prototype).open=function(e,t){if(this.readyState!=Hb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gb(this)},jA.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||QA).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},jA.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kb(this)),this.readyState=Hb},jA.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gb(this)),this.g&&(this.readyState=3,Gb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof QA.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wb(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},jA.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kb(this):Gb(this),3==this.readyState&&Wb(this)}},jA.Va=function(e){this.g&&(this.response=this.responseText=e,Kb(this))},jA.Ua=function(e){this.g&&(this.response=e,Kb(this))},jA.ga=function(){this.g&&Kb(this)},jA.setRequestHeader=function(e,t){this.v.append(e,t)},jA.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},jA.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Yb=QA.JSON.parse;function Jb(e){ew.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xb,this.K=this.L=!1}ek(Jb,ew);var Xb="",Zb=/^https?$/i,$b=["POST","PUT"];function e_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,t_(e),r_(e)}function t_(e){e.D||(e.D=!0,tw(e,"complete"),tw(e,"error"))}function n_(e){if(e.h&&"undefined"!=typeof zA&&(!e.C[1]||4!=a_(e)||2!=e.aa()))if(e.v&&4==a_(e))yw(e.Ha,0,e);else if(tw(e,"readystatechange"),4==a_(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(sb)[1]||null;if(!a&&QA.self&&QA.self.location){var o=QA.self.location.protocol;a=o.substr(0,o.length-1)}i=!Zb.test(a?a.toLowerCase():"")}t=i}if(t)tw(e,"complete"),tw(e,"success");else{e.m=6;try{var s=2<a_(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",t_(e)}}finally{r_(e)}}}function r_(e,t){if(e.g){i_(e);var n=e.g,r=e.C[0]?HA:null;e.g=null,e.C=null,t||tw(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function i_(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(QA.clearTimeout(e.A),e.A=null)}function a_(e){return e.g?e.g.readyState:0}function o_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Xb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Q_){return null}}function s_(e){var t="";return Lk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function u_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=s_(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):db(e,t,n))}function c_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function l_(e){this.Ca=0,this.i=[],this.j=new _w,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=c_("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=c_("baseRetryDelayMs",5e3,e),this.bb=c_("retryDelaySeedMs",1e4,e),this.$a=c_("forwardChannelMaxRetries",2,e),this.ta=c_("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Nb(e&&e.concurrentRequestLimit),this.Fa=new jb,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function f_(e){if(d_(e),3==e.G){var t=e.U++,n=cb(e.F);db(n,"SID",e.I),db(n,"RID",t),db(n,"TYPE","terminate"),y_(e,n),(t=new Qw(e,e.j,t,void 0)).K=2,t.v=pb(cb(n)),n=!1,QA.navigator&&QA.navigator.sendBeacon&&(n=QA.navigator.sendBeacon(t.v.toString(),"")),!n&&QA.Image&&((new Image).src=t.v,n=!0),n||(t.g=x_(t.l,null),t.g.da(t.v)),t.F=Date.now(),eb(t)}S_(e)}function h_(e){e.g&&(k_(e),e.g.cancel(),e.g=null)}function d_(e){h_(e),e.u&&(QA.clearTimeout(e.u),e.u=null),b_(e),e.h.cancel(),e.m&&("number"===typeof e.m&&QA.clearTimeout(e.m),e.m=null)}function p_(e){Db(e.h)||e.m||(e.m=!0,lw(e.Ja,e),e.C=0)}function v_(e,t){var n;n=t?t.m:e.U++;var r=cb(e.F);db(r,"SID",e.I),db(r,"RID",n),db(r,"AID",e.T),y_(e,r),e.o&&e.s&&u_(r,e.o,e.s),n=new Qw(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=g_(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Mb(e.h,n),Yw(n,r,t)}function y_(e,t){e.ia&&Lk(e.ia,(function(e,n){db(t,n,e)})),e.l&&ob({},(function(e,n){db(t,n,e)}))}function g_(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ZA(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Vb(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function m_(e){e.g||e.u||(e.Z=1,lw(e.Ia,e),e.A=0)}function A_(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Dw(ZA(e.Ia,e),E_(e,e.A)),e.A++,!0)}function k_(e){null!=e.B&&(QA.clearTimeout(e.B),e.B=null)}function w_(e){e.g=new Qw(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=cb(e.sa);db(t,"RID","rpc"),db(t,"SID",e.I),db(t,"CI",e.L?"0":"1"),db(t,"AID",e.T),db(t,"TYPE","xmlhttp"),y_(e,t),e.o&&e.s&&u_(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=pb(cb(t)),n.s=null,n.P=!0,Jw(n,e)}function b_(e){null!=e.v&&(QA.clearTimeout(e.v),e.v=null)}function __(e,t){var n=null;if(e.g==t){b_(e),k_(e),e.g=null;var r=2}else{if(!Lb(e.h,t))return;n=t.D,Ub(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;tw(r=Iw(),new Pw(r,n)),p_(e)}else m_(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ob(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Dw(ZA(e.Ja,e,t),E_(e,e.C)),e.C++,!0))}(e,t)||2==r&&A_(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:C_(e,5);break;case 4:C_(e,10);break;case 3:C_(e,6);break;default:C_(e,2)}}function E_(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function C_(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ZA(e.kb,e);n||(n=new ub("//www.google.com/images/cleardot.gif"),QA.location&&"http"==QA.location.protocol||lb(n,"https"),pb(n)),function(e,t){var n=new _w;if(QA.Image){var r=new Image;r.onload=$A(qb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$A(qb,n,r,"TestLoadImage: error",!1,t),r.onabort=$A(qb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$A(qb,n,r,"TestLoadImage: timeout",!1,t),QA.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rw(2);e.G=0,e.l&&e.l.va(t),S_(e),d_(e)}function S_(e){if(e.G=0,e.la=[],e.l){var t=Fb(e.h);0==t.length&&0==e.i.length||(ik(e.la,t),ik(e.la,e.i),e.h.i.length=0,rk(e.i),e.i.length=0),e.l.ua()}}function I_(e,t,n){var r=n instanceof ub?cb(n):new ub(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),fb(r,r.m);else{var i=QA.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ub(null,void 0);r&&lb(a,r),t&&(a.g=t),i&&fb(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&db(r,n,t),db(r,"VER",e.ma),y_(e,r),r}function x_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Jb(new zb({jb:!0})):new Jb(e.ra)).Ka(e.H),t}function T_(){}function N_(){if(vk&&!(10<=Number(xk)))throw Error("Environmental error: no available transport.")}function R_(e,t){ew.call(this),this.g=new l_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!sk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sk(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new O_(this)}function P_(e){Vw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function D_(){qw.call(this),this.status=1}function O_(e){this.g=e}(jA=Jb.prototype).Ka=function(e){this.L=e},jA.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bw.g(),this.C=this.u?Uw(this.u):Uw(Bw),this.g.onreadystatechange=ZA(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void e_(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=QA.FormData&&e instanceof QA.FormData,!(0<=nk($b,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=S(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{i_(this),0<this.B&&((this.K=function(e){return vk&&Sk()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ZA(this.qa,this)):this.A=yw(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){e_(this,s)}},jA.qa=function(){"undefined"!=typeof zA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tw(this,"timeout"),this.abort(8))},jA.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tw(this,"complete"),tw(this,"abort"),r_(this))},jA.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),r_(this,!0)),Jb.X.M.call(this)},jA.Ha=function(){this.s||(this.F||this.v||this.l?n_(this):this.fb())},jA.fb=function(){n_(this)},jA.aa=function(){try{return 2<a_(this)?this.g.status:-1}catch(Rb){return-1}},jA.fa=function(){try{return this.g?this.g.responseText:""}catch(Rb){return""}},jA.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Yb(t)}},jA.Ea=function(){return this.m},jA.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(jA=l_.prototype).ma=8,jA.G=1,jA.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Qw(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Fk(n=Mk(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=g_(this,t,r),db(i=cb(this.F),"RID",e),db(i,"CVER",22),this.D&&db(i,"X-HTTP-Session-Id",this.D),y_(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(s_(n)))+"&"+r:this.o&&u_(i,this.o,n)),Mb(this.h,t),this.Ya&&db(i,"TYPE","init"),this.O?(db(i,"$req",r),db(i,"SID","null"),t.Z=!0,Yw(t,i,null)):Yw(t,i,r),this.G=2}}else 3==this.G&&(e?v_(this,e):0==this.i.length||Db(this.h)||v_(this))},jA.Ia=function(){if(this.u=null,w_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Dw(ZA(this.eb,this),e)}},jA.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Rw(10),h_(this),w_(this))},jA.cb=function(){null!=this.v&&(this.v=null,h_(this),A_(this),Rw(19))},jA.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Rw(2)):(this.j.info("Failed to ping google.com"),Rw(1))},(jA=T_.prototype).xa=function(){},jA.wa=function(){},jA.va=function(){},jA.ua=function(){},jA.Ra=function(){},N_.prototype.g=function(e,t){return new R_(e,t)},ek(R_,ew),R_.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Rw(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=I_(e,null,e.V),p_(e)},R_.prototype.close=function(){f_(this.g)},R_.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=rw(e),e=n);t.i.push(new Tb(t.ab++,e)),3==t.G&&p_(t)},R_.prototype.M=function(){this.g.l=null,delete this.j,f_(this.g),delete this.g,R_.X.M.call(this)},ek(P_,Vw),ek(D_,qw),ek(O_,T_),O_.prototype.xa=function(){tw(this.g,"a")},O_.prototype.wa=function(e){tw(this.g,new P_(e))},O_.prototype.va=function(e){tw(this.g,new D_)},O_.prototype.ua=function(){tw(this.g,"b")},N_.prototype.createWebChannel=N_.prototype.g,R_.prototype.send=R_.prototype.u,R_.prototype.open=R_.prototype.m,R_.prototype.close=R_.prototype.close,Ow.NO_ERROR=0,Ow.TIMEOUT=8,Ow.HTTP_ERROR=6,Lw.COMPLETE="complete",Fw.EventType=jw,jw.OPEN="a",jw.CLOSE="b",jw.ERROR="c",jw.MESSAGE="d",ew.prototype.listen=ew.prototype.N,Jb.prototype.listenOnce=Jb.prototype.O,Jb.prototype.getLastError=Jb.prototype.Oa,Jb.prototype.getLastErrorCode=Jb.prototype.Ea,Jb.prototype.getStatus=Jb.prototype.aa,Jb.prototype.getResponseJson=Jb.prototype.Sa,Jb.prototype.getResponseText=Jb.prototype.fa,Jb.prototype.send=Jb.prototype.da,Jb.prototype.setWithCredentials=Jb.prototype.Ka;var L_=qA.createWebChannelTransport=function(){return new N_},M_=qA.getStatEventTarget=function(){return Iw()},U_=qA.ErrorCode=Ow,F_=qA.EventType=Lw,B_=qA.Event=Cw,j_=qA.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},V_=qA.FetchXmlHttpFactory=zb,q_=qA.WebChannel=Fw,z_=qA.XhrIo=Jb,Q_="@firebase/firestore",H_=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();H_.UNAUTHENTICATED=new H_(null),H_.GOOGLE_CREDENTIALS=new H_("google-credentials-uid"),H_.FIRST_PARTY=new H_("first-party-uid"),H_.MOCK_USER=new H_("mock-user");var W_="9.17.1",K_=new vu("@firebase/firestore");function G_(){return K_.logLevel}function Y_(e){if(K_.logLevel<=uu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Z_);K_.debug.apply(K_,["Firestore (".concat(W_,"): ").concat(e)].concat(h(i)))}}function J_(e){if(K_.logLevel<=uu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Z_);K_.error.apply(K_,["Firestore (".concat(W_,"): ").concat(e)].concat(h(i)))}}function X_(e){if(K_.logLevel<=uu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Z_);K_.warn.apply(K_,["Firestore (".concat(W_,"): ").concat(e)].concat(h(i)))}}function Z_(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function $_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(W_,") INTERNAL ASSERTION FAILED: ")+e;throw J_(t),new Error(t)}function eE(e,t){e||$_()}function tE(e,t){return e}var nE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rE=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Us),iE=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),aE=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),oE=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(H_.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),sE=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),uE=function(){function e(t){d(this,e),this.t=t,this.currentUser=H_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new iE;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new iE,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Y_("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Y_("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new iE)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Y_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(eE("string"==typeof n.accessToken),new aE(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return eE(null===e||"string"==typeof e),new H_(e)}}]),e}(),cE=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=H_.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(eE(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),lE=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new cE(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(H_.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),fE=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hE=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Y_("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Y_("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Y_("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Y_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(eE("string"==typeof t.token),e.A=t.token,new fE(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function dE(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var pE=function(){function e(){d(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dE(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vE(e,t){return e<t?-1:e>t?1:0}function yE(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var gE=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new rE(nE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rE(nE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rE(nE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rE(nE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vE(this.nanoseconds,e.nanoseconds):vE(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),mE=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gE(0,0))}},{key:"max",value:function(){return new e(new gE(253402300799,999999999))}}]),e}(),AE=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&$_(),void 0===r?r=t.length-n:r>t.length-n&&$_(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),kE=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new rE(nE.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(AE),wE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bE=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return wE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new rE(nE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new rE(nE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rE(nE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new rE(nE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(AE),_E=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===kE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(kE.fromString(t))}},{key:"fromName",value:function(t){return new e(kE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(kE.emptyPath())}},{key:"comparator",value:function(e,t){return kE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new kE(t.slice()))}}]),e}(),EE=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));EE.UNKNOWN_ID=-1;function CE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mE.fromTimestamp(1e9===r?new gE(n+1,0):new gE(n,r));return new IE(i,_E.empty(),t)}function SE(e){return new IE(e.readTime,e.key,-1)}var IE=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(mE.min(),_E.empty(),-1)}},{key:"max",value:function(){return new e(mE.max(),_E.empty(),-1)}}]),e}();function xE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_E.comparator(e.documentKey,t.documentKey))?n:vE(e.largestBatchId,t.largestBatchId)}var TE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NE=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function RE(e){return PE.apply(this,arguments)}function PE(){return PE=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===nE.FAILED_PRECONDITION&&t.message===TE){e.next=2;break}throw t;case 2:Y_("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}var DE=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function OE(e){return"IndexedDbTransactionError"===e.name}var LE=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();LE.at=-1;var ME=g((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),UE=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function FE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function BE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function VE(e){return null==e}function qE(e){return 0===e&&1/e==-1/0}function zE(e){return"number"==typeof e&&Number.isInteger(e)&&!qE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var QE=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vE(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();QE.EMPTY_BYTE_STRING=new QE("");var HE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function WE(e){if(eE(!!e),"string"==typeof e){var t=0,n=HE.exec(e);if(eE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:KE(e.seconds),nanos:KE(e.nanos)}}function KE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function GE(e){return"string"==typeof e?QE.fromBase64String(e):QE.fromUint8Array(e)}function YE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function JE(e){var t=e.mapValue.fields.__previous_value__;return YE(t)?JE(t):t}function XE(e){var t=WE(e.mapValue.fields.__local_write_time__.timestampValue);return new gE(t.seconds,t.nanos)}var ZE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $E(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?YE(e)?4:dC(e)?9007199254740991:10:$_()}function eC(e,t){if(e===t)return!0;var n=$E(e);if(n!==$E(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return XE(e).isEqual(XE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=WE(e.timestampValue),r=WE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return GE(e.bytesValue).isEqual(GE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return KE(e.geoPointValue.latitude)===KE(t.geoPointValue.latitude)&&KE(e.geoPointValue.longitude)===KE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return KE(e.integerValue)===KE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=KE(e.doubleValue),r=KE(t.doubleValue);return n===r?qE(n)===qE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yE(e.arrayValue.values||[],t.arrayValue.values||[],eC);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(FE(n)!==FE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eC(n[i],r[i])))return!1;return!0}(e,t);default:return $_()}}function tC(e,t){return void 0!==(e.values||[]).find((function(e){return eC(e,t)}))}function nC(e,t){if(e===t)return 0;var n=$E(e),r=$E(t);if(n!==r)return vE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vE(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=KE(e.integerValue||e.doubleValue),r=KE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rC(e.timestampValue,t.timestampValue);case 4:return rC(XE(e),XE(t));case 5:return vE(e.stringValue,t.stringValue);case 6:return function(e,t){var n=GE(e),r=GE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vE(n[i],r[i]);if(0!==a)return a}return vE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vE(KE(e.latitude),KE(t.latitude));return 0!==n?n:vE(KE(e.longitude),KE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=nC(n[i],r[i]);if(a)return a}return vE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ZE.mapValue&&t===ZE.mapValue)return 0;if(e===ZE.mapValue)return 1;if(t===ZE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=vE(r[o],a[o]);if(0!==s)return s;var u=nC(n[r[o]],i[a[o]]);if(0!==u)return u}return vE(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $_()}}function rC(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vE(e,t);var n=WE(e),r=WE(t),i=vE(n.seconds,r.seconds);return 0!==i?i:vE(n.nanos,r.nanos)}function iC(e){return aC(e)}function aC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=WE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?GE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_E.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=aC(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(aC(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):$_();var t,n}function oC(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sC(e){return!!e&&"integerValue"in e}function uC(e){return!!e&&"arrayValue"in e}function cC(e){return!!e&&"nullValue"in e}function lC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fC(e){return!!e&&"mapValue"in e}function hC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return BE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=hC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function dC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var pC=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function vC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_E.comparator(_E.fromName(o.referenceValue),n.key):nC(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!eC(e.position[n],t.position[n]))return!1;return!0}var gC=g((function e(){d(this,e)})),mC=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nC(t,this.value)):null!==t&&$E(this.value)===$E(t)&&this.matchesComparison(nC(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $_()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new SC(e,t,r):"array-contains"===t?new NC(e,r):"in"===t?new RC(e,r):"not-in"===t?new PC(e,r):"array-contains-any"===t?new DC(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new IC(e,n):new xC(e,n)}}]),n}(gC),AC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return kC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(gC);function kC(e){return"and"===e.op}function wC(e){return bC(e)&&kC(e)}function bC(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof AC)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function _C(e){if(e instanceof mC)return e.field.canonicalString()+e.op.toString()+iC(e.value);if(wC(e))return e.filters.map((function(e){return _C(e)})).join(",");var t=e.filters.map((function(e){return _C(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function EC(e,t){return e instanceof mC?function(e,t){return t instanceof mC&&e.op===t.op&&e.field.isEqual(t.field)&&eC(e.value,t.value)}(e,t):e instanceof AC?function(e,t){return t instanceof AC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&EC(n,t.filters[r])}),!0)}(e,t):void $_()}function CC(e){return e instanceof mC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(iC(e.value))}(e):e instanceof AC?function(e){return e.op.toString()+" {"+e.getFilters().map(CC).join(" ,")+"}"}(e):"Filter"}var SC=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=_E.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=_E.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(mC),IC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=TC("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mC),xC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=TC("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mC);function TC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _E.fromName(e.referenceValue)}))}var NC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uC(t)&&tC(t.arrayValue,this.value)}}]),n}(mC),RC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&tC(this.value.arrayValue,t)}}]),n}(mC),PC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(tC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!tC(this.value.arrayValue,t)}}]),n}(mC),DC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return tC(t.value.arrayValue,e)}))}}]),n}(mC),OC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function LC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var MC=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||FC.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,FC.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,FC.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new UC(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new UC(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new UC(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new UC(this.root,e,this.comparator,!0)}}]),e}(),UC=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),FC=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $_();if(this.right.isRed())throw $_();var e=this.left.check();if(e!==this.right.check())throw $_();return e+(this.isRed()?0:1)}}]),e}();FC.EMPTY=null,FC.RED=!0,FC.BLACK=!1,FC.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw $_()}},{key:"value",get:function(){throw $_()}},{key:"color",get:function(){throw $_()}},{key:"left",get:function(){throw $_()}},{key:"right",get:function(){throw $_()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new FC(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var BC=function(){function e(t){d(this,e),this.comparator=t,this.data=new MC(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jC(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jC(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jC=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var VC=function(){function e(t){d(this,e),this.fields=t,t.sort(bE.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new BC(bE.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=S(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return yE(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),qC=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hC(t)}},{key:"setAll",value:function(e){var t=this,n=bE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=hC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());fC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return eC(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){BE(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(hC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zC(e){var t=[];return BE(e.fields,(function(e,n){var r=new bE([e]);if(fC(n)){var i=zC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new VC(t)}var QC=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(mE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=qC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=qC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=mE.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,mE.min(),mE.min(),mE.min(),qC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,mE.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,mE.min(),mE.min(),qC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,mE.min(),mE.min(),qC.empty(),2)}}]),e}(),HC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function WC(e){return new HC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function KC(e){var t=tE(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return _C(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),VE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return iC(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return iC(e)})).join(",")),t.ft=n}return t.ft}function GC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!LC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!EC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yC(e.startAt,t.startAt)&&yC(e.endAt,t.endAt)}function YC(e){return _E.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var JC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function XC(e,t,n,r,i,a,o,s){return new JC(e,t,n,r,i,a,o,s)}function ZC(e){return new JC(e)}function $C(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function eS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tS(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function nS(e){return null!==e.collectionGroup}function rS(e){var t=tE(e);if(null===t.dt){t.dt=[];var n=tS(t),r=eS(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new OC(n)),t.dt.push(new OC(bE.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new OC(bE.keyField(),u))}}}return t.dt}function iS(e){var t=tE(e);if(!t._t)if("F"===t.limitType)t._t=WC(t.path,t.collectionGroup,rS(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(rS(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new OC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new pC(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new pC(t.startAt.position,t.startAt.inclusive):null;t._t=WC(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function aS(e,t){t.getFirstInequalityField(),tS(e);var n=e.filters.concat([t]);return new JC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oS(e,t,n){return new JC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sS(e,t){return GC(iS(e),iS(t))&&e.limitType===t.limitType}function uS(e){return"".concat(KC(iS(e)),"|lt:").concat(e.limitType)}function cS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return CC(e)})).join(", "),"]")),VE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return iC(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return iC(e)})).join(",")),"Target(".concat(t,")")}(iS(e)),"; limitType=").concat(e.limitType,")")}function lS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_E.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(rS(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rS(e),t))&&!(e.endAt&&!function(e,t,n){var r=vC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rS(e),t))}(e,t)}function fS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hS(e){return function(t,n){var r,i=!1,a=S(rS(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=dS(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function dS(e,t,n){var r=e.field.isKeyField()?_E.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nC(r,i):$_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $_()}}function pS(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qE(t)?"-0":t}}function vS(e){return{integerValue:""+e}}function yS(e,t){return zE(t)?vS(t):pS(e,t)}var gS=g((function e(){d(this,e),this._=void 0}));function mS(e,t,n){return e instanceof wS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bS?_S(e,t):e instanceof ES?CS(e,t):function(e,t){var n=kS(e,t),r=IS(n)+IS(e.gt);return sC(n)&&sC(e.gt)?vS(r):pS(e.yt,r)}(e,t)}function AS(e,t,n){return e instanceof bS?_S(e,t):e instanceof ES?CS(e,t):n}function kS(e,t){return e instanceof SS?sC(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var wS=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(gS),bS=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(gS);function _S(e,t){var n,r=xS(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return eC(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ES=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(gS);function CS(e,t){var n,r=xS(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!eC(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var SS=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(gS);function IS(e){return KE(e.integerValue||e.doubleValue)}function xS(e){return uC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var TS=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var NS=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),RS=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function PS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var DS=g((function e(){d(this,e)}));function OS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new WS(e.key,RS.none()):new BS(e.key,e.data,RS.none());var n,r=e.data,i=qC.empty(),a=new BC(bE.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new jS(e.key,i,new VC(a.toArray()),RS.none())}function LS(e,t,n){e instanceof BS?function(e,t,n){var r=e.value.clone(),i=qS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jS?function(e,t,n){if(PS(e.precondition,t)){var r=qS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(VS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function MS(e,t,n,r){return e instanceof BS?function(e,t,n,r){if(!PS(e.precondition,t))return n;var i=e.value.clone(),a=zS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jS?function(e,t,n,r){if(!PS(e.precondition,t))return n;var i=zS(e.fieldTransforms,r,t),a=t.data;return a.setAll(VS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return PS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function US(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=kS(a.transform,o||null);null!=s&&(null===r&&(r=qC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function FS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yE(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bS&&t instanceof bS||e instanceof ES&&t instanceof ES?yE(e.elements,t.elements,eC):e instanceof SS&&t instanceof SS?eC(e.gt,t.gt):e instanceof wS&&t instanceof wS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var BS=function(e){A(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DS),jS=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(DS);function VS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qS(e,t,n){var r=new Map;eE(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,AS(o,s,n[i]))}return r}function zS(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,mS(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var QS,HS,WS=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DS),KS=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DS),GS=g((function e(t){d(this,e),this.count=t}));function YS(e){switch(e){default:return $_();case nE.CANCELLED:case nE.UNKNOWN:case nE.DEADLINE_EXCEEDED:case nE.RESOURCE_EXHAUSTED:case nE.INTERNAL:case nE.UNAVAILABLE:case nE.UNAUTHENTICATED:return!1;case nE.INVALID_ARGUMENT:case nE.NOT_FOUND:case nE.ALREADY_EXISTS:case nE.PERMISSION_DENIED:case nE.FAILED_PRECONDITION:case nE.ABORTED:case nE.OUT_OF_RANGE:case nE.UNIMPLEMENTED:case nE.DATA_LOSS:return!0}}function JS(e){if(void 0===e)return J_("GRPC error has no .code"),nE.UNKNOWN;switch(e){case QS.OK:return nE.OK;case QS.CANCELLED:return nE.CANCELLED;case QS.UNKNOWN:return nE.UNKNOWN;case QS.DEADLINE_EXCEEDED:return nE.DEADLINE_EXCEEDED;case QS.RESOURCE_EXHAUSTED:return nE.RESOURCE_EXHAUSTED;case QS.INTERNAL:return nE.INTERNAL;case QS.UNAVAILABLE:return nE.UNAVAILABLE;case QS.UNAUTHENTICATED:return nE.UNAUTHENTICATED;case QS.INVALID_ARGUMENT:return nE.INVALID_ARGUMENT;case QS.NOT_FOUND:return nE.NOT_FOUND;case QS.ALREADY_EXISTS:return nE.ALREADY_EXISTS;case QS.PERMISSION_DENIED:return nE.PERMISSION_DENIED;case QS.FAILED_PRECONDITION:return nE.FAILED_PRECONDITION;case QS.ABORTED:return nE.ABORTED;case QS.OUT_OF_RANGE:return nE.OUT_OF_RANGE;case QS.UNIMPLEMENTED:return nE.UNIMPLEMENTED;case QS.DATA_LOSS:return nE.DATA_LOSS;default:return $_()}}(HS=QS||(QS={}))[HS.OK=0]="OK",HS[HS.CANCELLED=1]="CANCELLED",HS[HS.UNKNOWN=2]="UNKNOWN",HS[HS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",HS[HS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",HS[HS.NOT_FOUND=5]="NOT_FOUND",HS[HS.ALREADY_EXISTS=6]="ALREADY_EXISTS",HS[HS.PERMISSION_DENIED=7]="PERMISSION_DENIED",HS[HS.UNAUTHENTICATED=16]="UNAUTHENTICATED",HS[HS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",HS[HS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",HS[HS.ABORTED=10]="ABORTED",HS[HS.OUT_OF_RANGE=11]="OUT_OF_RANGE",HS[HS.UNIMPLEMENTED=12]="UNIMPLEMENTED",HS[HS.INTERNAL=13]="INTERNAL",HS[HS.UNAVAILABLE=14]="UNAVAILABLE",HS[HS.DATA_LOSS=15]="DATA_LOSS";var XS=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){BE(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return jE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ZS=new MC(_E.comparator);function $S(){return ZS}var eI=new MC(_E.comparator);function tI(){for(var e=eI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function nI(e){var t=eI;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function rI(){return aI()}function iI(){return aI()}function aI(){return new XS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var oI=new MC(_E.comparator),sI=new BC(_E.comparator);function uI(){for(var e=sI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cI=new BC(vE);function lI(){return cI}var fI=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,hI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(mE.min(),i,lI(),$S(),uI())}}]),e}(),hI=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,uI(),uI(),uI())}}]),e}(),dI=g((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),pI=g((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),vI=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yI=function(){function e(){d(this,e),this.At=0,this.Rt=AI(),this.bt=QE.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=uI(),t=uI(),n=uI();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$_()}})),new hI(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=AI()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),gI=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=$S(),this.qt=mI(),this.Ut=new BC(vE)}return g(e,[{key:"Kt",value:function(e){var t,n=S(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:$_()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(YC(i))if(0===n){var a=new _E(i.path);this.Qt(t,a,QC.newNoDocument(a,mE.min()))}else eE(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&YC(a.target)){var o=new _E(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,QC.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=uI();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new fI(e,n,this.Ut,this.Lt,r);return this.Lt=$S(),this.qt=mI(),this.Ut=new BC(vE),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new yI,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new BC(vE),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Y_("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new yI),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function mI(){return new MC(_E.comparator)}function AI(){return new MC(_E.comparator)}var kI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"},_I=g((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function EI(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function CI(e,t){return e.wt?t.toBase64():t.toUint8Array()}function SI(e,t){return EI(e,t.toTimestamp())}function II(e){return eE(!!e),mE.fromTimestamp(function(e){var t=WE(e);return new gE(t.seconds,t.nanos)}(e))}function xI(e,t){return function(e){return new kE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function TI(e){var t=kE.fromString(e);return eE(YI(t)),t}function NI(e,t){return xI(e.databaseId,t.path)}function RI(e,t){var n=TI(t);if(n.get(1)!==e.databaseId.projectId)throw new rE(nE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rE(nE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _E(LI(n))}function PI(e,t){return xI(e.databaseId,t)}function DI(e){var t=TI(e);return 4===t.length?kE.emptyPath():LI(t)}function OI(e){return new kE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LI(e){return eE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function MI(e,t,n){return{name:NI(e,t),fields:n.value.mapValue.fields}}function UI(e,t){var n;if(t instanceof BS)n={update:MI(e,t.key,t.value)};else if(t instanceof WS)n={delete:NI(e,t.key)};else if(t instanceof jS)n={update:MI(e,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof KS))return $_();n={verify:NI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof wS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ES)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof SS)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw $_()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:SI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$_()}(e,t.precondition)),n}function FI(e,t){return{documents:[PI(e,t.path)]}}function BI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=PI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=PI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return KI(AC.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:HI(e.field),direction:qI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||VE(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function jI(e){var t=DI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){eE(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=VI(e);return t instanceof AC&&wC(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new OC(WI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return VE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pC(n,t)}(n.endAt)),XC(t,i,s,o,u,"F",c,l)}function VI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=WI(e.unaryFilter.field);return mC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=WI(e.unaryFilter.field);return mC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=WI(e.unaryFilter.field);return mC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=WI(e.unaryFilter.field);return mC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $_()}}(e):void 0!==e.fieldFilter?function(e){return mC.create(WI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return AC.create(e.compositeFilter.filters.map((function(e){return VI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return $_()}}(e.compositeFilter.op))}(e):$_()}function qI(e){return kI[e]}function zI(e){return wI[e]}function QI(e){return bI[e]}function HI(e){return{fieldPath:e.canonicalString()}}function WI(e){return bE.fromServerFormat(e.fieldPath)}function KI(e){return e instanceof mC?function(e){if("=="===e.op){if(lC(e.value))return{unaryFilter:{field:HI(e.field),op:"IS_NAN"}};if(cC(e.value))return{unaryFilter:{field:HI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lC(e.value))return{unaryFilter:{field:HI(e.field),op:"IS_NOT_NAN"}};if(cC(e.value))return{unaryFilter:{field:HI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:HI(e.field),op:zI(e.op),value:e.value}}}(e):e instanceof AC?function(e){var t=e.getFilters().map((function(e){return KI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:QI(e.op),filters:t}}}(e):$_()}function GI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function YI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var JI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),XI=([].concat(h(JI),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ZI=XI;[].concat(ZI,["indexConfiguration","indexState","indexEntries"]);var $I=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&LS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=MS(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=MS(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=iI();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=OS(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(mE.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),uI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&yE(this.mutations,e.mutations,(function(e,t){return FS(e,t)}))&&yE(this.baseMutations,e.baseMutations,(function(e,t){return FS(e,t)}))}}]),e}(),ex=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){eE(t.mutations.length===r.length);for(var i=oI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tx=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),nx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:QE.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),rx=g((function e(t){d(this,e),this.ie=t}));function ix(e){var t=jI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oS(t,t.limit,"L"):t}var ax=function(){function e(){d(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(KE(e.integerValue));else if("doubleValue"in e){var n=KE(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),qE(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(GE(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?dC(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$_()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),_E.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();ax.Ie=new ax;var ox=function(){function e(){d(this,e),this.Je=new sx}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),DE.resolve()}},{key:"getCollectionParents",value:function(e,t){return DE.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return DE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return DE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return DE.resolve(null)}},{key:"getIndexType",value:function(e,t){return DE.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return DE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return DE.resolve(null)}},{key:"getMinOffset",value:function(e,t){return DE.resolve(IE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return DE.resolve(IE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return DE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return DE.resolve()}}]),e}(),sx=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new BC(kE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new BC(kE.comparator)).toArray()}}]),e}();new Uint8Array(0);var ux=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ux.DEFAULT_COLLECTION_PERCENTILE=10,ux.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ux.DEFAULT=new ux(41943040,ux.DEFAULT_COLLECTION_PERCENTILE,ux.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ux.DISABLED=new ux(-1,0,0);var cx=function(){function e(t){d(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var lx=function(){function e(){d(this,e),this.changes=new XS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,QC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?DE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var fx=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),hx=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&MS(r.mutation,e,VC.empty(),gE.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,uI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uI(),i=rI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=tI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=rI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,uI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=$S(),a=aI(),o=aI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),MS(o.mutation,t,o.mutation.getFieldMask(),gE.now())):a.set(t.key,VC.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new fx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=aI(),i=new MC((function(e,t){return e-t})),a=uI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||VC.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||uI()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=iI();c.forEach((function(e){if(!a.has(e)){var n=OS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return DE.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _E.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):DE.resolve(rI()),s=-1,u=a;return o.next((function(t){return DE.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?DE.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,uI())})).next((function(e){return{batchId:s,changes:nI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new _E(t)).next((function(e){var t=tI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=tI();return this.indexManager.getCollectionParents(e,i).next((function(o){return DE.forEach(o,(function(o){var s=function(e,t){return new JC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,QC.newInvalidDocument(r)))}));var n=tI();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&MS(a.mutation,i,VC.empty(),gE.now()),lS(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),dx=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return DE.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:II(n.createTime)}),DE.resolve()}},{key:"getNamedQuery",value:function(e,t){return DE.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:ix(e.bundledQuery),readTime:II(e.readTime)}}(t)),DE.resolve()}}]),e}(),px=function(){function e(){d(this,e),this.overlays=new MC(_E.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return DE.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=rI();return DE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),DE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),DE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rI(),i=t.length+1,a=new _E(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return DE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new MC((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=rI(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=rI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return DE.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tx(t,n));var a=this.es.get(t);void 0===a&&(a=uI(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),vx=function(){function e(){d(this,e),this.ns=new BC(yx.ss),this.rs=new BC(yx.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new yx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new yx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new _E(new kE([])),r=new yx(n,e),i=new yx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new _E(new kE([])),n=new yx(t,e),r=new yx(t,e+1),i=uI();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new yx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),yx=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return _E.comparator(e.key,t.key)||vE(e._s,t._s)}},{key:"os",value:function(e,t){return vE(e._s,t._s)||_E.comparator(e.key,t.key)}}]),e}(),gx=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new BC(yx.ss)}return g(e,[{key:"checkEmpty",value:function(e){return DE.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $I(i,t,n,r);this.mutationQueue.push(a);var o,s=S(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new yx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return DE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return DE.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return DE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return DE.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return DE.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new yx(t,0),i=new yx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),DE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new BC(vE);return t.forEach((function(e){var t=new yx(e,0),i=new yx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),DE.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_E.isDocumentKey(i)||(i=i.child(""));var a=new yx(new _E(i),0),o=new BC(vE);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),DE.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;eE(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return DE.forEach(t.mutations,(function(i){var a=new yx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new yx(t,0),r=this.gs.firstAfterOrEqual(n);return DE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,DE.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),mx=function(){function e(t){d(this,e),this.Es=t,this.docs=new MC(_E.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return DE.resolve(n?n.document.mutableCopy():QC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=$S();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():QC.newInvalidDocument(e))})),DE.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=$S(),a=t.path,o=new _E(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||xE(SE(l),n)<=0||(r.has(l.key)||lS(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return DE.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){$_()}},{key:"As",value:function(e,t){return DE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ax(this)}},{key:"getSize",value:function(e){return DE.resolve(this.size)}}]),e}(),Ax=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),DE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(lx),kx=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new XS((function(e){return KC(e)}),GC),this.lastRemoteSnapshotVersion=mE.min(),this.highestTargetId=0,this.bs=0,this.Ps=new vx,this.targetCount=0,this.vs=cx.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),DE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return DE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return DE.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),DE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),DE.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new cx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,DE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),DE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,DE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),DE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return DE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return DE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),DE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),DE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),DE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return DE.resolve(n)}},{key:"containsKey",value:function(e,t){return DE.resolve(this.Ps.containsKey(t))}}]),e}(),wx=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new LE(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new kx(this),this.indexManager=new ox,this.remoteDocumentCache=new mx((function(e){return r.referenceDelegate.xs(e)})),this.yt=new rx(n),this.Ns=new dx(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new px,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new gx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Y_("MemoryPersistence","Starting transaction:",e);var i=new bx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return DE.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),bx=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(NE),_x=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new vx,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw $_()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),DE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),DE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),DE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return DE.forEach(this.Ls,(function(r){var i=_E.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,mE.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return DE.or([function(){return DE.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Ex=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=uI(),a=uI(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Cx=function(){function e(){d(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if($C(t))return DE.resolve(null);var r=iS(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=oS(t,null,"F"),r=iS(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=uI.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,oS(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return $C(t)||r.isEqual(mE.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(G_()<=uu.DEBUG&&Y_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cS(t)),i.Bi(e,o,t,CE(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new BC(hS(e));return t.forEach((function(t,r){lS(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return G_()<=uu.DEBUG&&Y_("QueryEngine","Using full collection scan to execute query:",cS(t)),this.Ni.getDocumentsMatchingQuery(e,t,IE.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Sx=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new MC(vE),this.Ui=new XS((function(e){return KC(e)}),GC),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function Ix(e,t,n,r){return new Sx(e,t,n,r)}function xx(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tE(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=uI(),u=S(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){u.e(A)}finally{u.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=S(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;s=s.add(m.key)}}catch(A){g.e(A)}finally{g.f()}}}catch(A){p.e(A)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Nx(e,t){var n=tE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=DE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);eE(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=uI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Rx(e){var t=tE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Px(e,t){var n=tE(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(QE.EMPTY_BYTE_STRING,mE.min()).withLastLimboFreeSnapshotVersion(mE.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=$S(),u=uI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Dx(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(mE.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return DE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function Dx(e,t,n){var r=uI(),i=uI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=$S();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(mE.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Y_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ox(e,t){var n=tE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Lx(e,t){var n=tE(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,DE.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new nx(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Mx(e,t,n){return Ux.apply(this,arguments)}function Ux(){return Ux=ss(as().mark((function e(t,n,r){var i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tE(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),OE(e.t1)){e.next=12;break}throw e.t1;case 12:Y_("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ux.apply(this,arguments)}function Fx(e,t,n){var r=tE(e),i=mE.min(),a=uI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=tE(e),i=r.Ui.get(n);return void 0!==i?DE.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,iS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:mE.min(),n?a:uI())})).next((function(e){return Bx(r,fS(t),e),{documents:e,Hi:a}}))}))}function Bx(e,t,n){var r=e.Ki.get(t)||mE.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var jx=function(){function e(){d(this,e),this.activeTargetIds=lI()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Vx=function(){function e(){d(this,e),this.Lr=new jx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new jx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qx=function(){function e(){d(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zx=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Y_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Y_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Hx=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Wx=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new z_;o.setWithCredentials(!0),o.listenOnce(F_.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case U_.NO_ERROR:var t=o.getResponseJson();Y_("Connection","XHR received:",JSON.stringify(t)),i(t);break;case U_.TIMEOUT:Y_("Connection",'RPC "'+e+'" timed out'),a(new rE(nE.DEADLINE_EXCEEDED,"Request time out"));break;case U_.HTTP_ERROR:var n=o.getStatus();if(Y_("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(nE).indexOf(t)>=0?t:nE.UNKNOWN}(s.status);a(new rE(u,s.message))}else a(new rE(nE.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rE(nE.UNAVAILABLE,"Connection failed."));break;default:$_()}}finally{Y_("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=L_(),a=M_(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new V_({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Y_("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Hx({Hr:function(e){l?Y_("Connection","Not sending because WebChannel is closed:",e):(c||(Y_("Connection","Opening WebChannel transport."),u.open(),c=!0),Y_("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,q_.EventType.OPEN,(function(){l||Y_("Connection","WebChannel transport opened.")})),h(u,q_.EventType.CLOSE,(function(){l||(l=!0,Y_("Connection","WebChannel transport closed"),f.io())})),h(u,q_.EventType.ERROR,(function(e){l||(l=!0,X_("Connection","WebChannel transport errored:",e),f.io(new rE(nE.UNAVAILABLE,"The operation could not be completed")))})),h(u,q_.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];eE(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Y_("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=QS[e];if(void 0!==t)return JS(t)}(a),s=i.message;void 0===o&&(o=nE.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new rE(o,s)),u.close()}else Y_("Connection","WebChannel received:",n),f.ro(n)}})),h(a,B_.STAT_EVENT,(function(e){e.stat===j_.PROXY?Y_("Connection","Detected buffering proxy"):e.stat===j_.NOPROXY&&Y_("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Y_("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Y_("RestConnection","Received: ",e),e}),(function(t){throw X_("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+W_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Qx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Kx(){return"undefined"!=typeof document?document:null}function Gx(e){return new _I(e,!0)}var Yx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Y_("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Jx=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Yx(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===nE.RESOURCE_EXHAUSTED?(J_(n.toString()),J_("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===nE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new rE(nE.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ss(as().mark((function t(){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Y_("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Y_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xx=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(eE(void 0===t||"string"==typeof t),QE.fromBase64String(t||"")):(eE(void 0===t||t instanceof Uint8Array),QE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?nE.UNKNOWN:JS(e.code);return new rE(t,e.message||"")}(o);n=new vI(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=RI(e,u.document.name),l=II(u.document.updateTime),f=u.document.createTime?II(u.document.createTime):mE.min(),h=new qC({mapValue:{fields:u.document.fields}}),d=QC.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new dI(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var g=RI(e,y.document),m=y.readTime?II(y.readTime):mE.min(),A=QC.newNoDocument(g,m),k=y.removedTargetIds||[];n=new dI([],k,A.key,A)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=RI(e,w.document),_=w.removedTargetIds||[];n=new dI([],_,b,null)}else{if(!("filter"in t))return $_();t.filter;var E=t.filter;E.targetId;var C=E.count||0,S=new GS(C),I=E.targetId;n=new pI(I,S)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return mE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?mE.min():t.readTime?II(t.readTime):mE.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=OI(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=YC(r)?{documents:FI(e,r)}:{query:BI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=CI(e,t.resumeToken):t.snapshotVersion.compareTo(mE.min())>0&&(n.readTime=EI(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $_()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=OI(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Jx),Zx=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,fs(k(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(eE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(eE(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?II(e.updateTime):II(t);return n.isEqual(mE.min())&&(n=II(t)),new NS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=II(e.commitTime);return this.listener.Zo(n,t)}return eE(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=OI(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return UI(t.yt,e)}))};this.Bo(n)}}]),n}(Jx),$x=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new rE(nE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new rE(nE.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===nE.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new rE(nE.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var eT=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(J_(t),this.ou=!1):Y_("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),tT=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hT(o),!e.t0){e.next=5;break}return Y_("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=tE(t))._u.add(4),e.next=4,iT(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,nT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new eT(r,i)}));function nT(e){return rT.apply(this,arguments)}function rT(){return rT=ss(as().mark((function e(t){var n,r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hT(t)){e.next=18;break}n=S(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),rT.apply(this,arguments)}function iT(e){return aT.apply(this,arguments)}function aT(){return aT=ss(as().mark((function e(t){var n,r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),aT.apply(this,arguments)}function oT(e,t){var n=tE(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),fT(n)?lT(n):VT(n).ko()&&uT(n,t))}function sT(e,t){var n=tE(e),r=VT(n);n.du.delete(t),r.ko()&&cT(n,t),0===n.du.size&&(r.ko()?r.Fo():hT(n)&&n.gu.set("Unknown"))}function uT(e,t){e.yu.Ot(t.targetId),VT(e).zo(t)}function cT(e,t){e.yu.Ot(t),VT(e).Ho(t)}function lT(e){e.yu=new gI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),VT(e).start(),e.gu.uu()}function fT(e){return hT(e)&&!VT(e).No()&&e.du.size>0}function hT(e){return 0===tE(e)._u.size}function dT(e){e.yu=void 0}function pT(e){return vT.apply(this,arguments)}function vT(){return vT=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){uT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dT(t),fT(t)?(t.gu.hu(n),lT(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function mT(e,t,n){return AT.apply(this,arguments)}function AT(){return AT=ss(as().mark((function e(t,n,r){var i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof vI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ss(as().mark((function e(t,n){var r,i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Y_("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof dI?t.yu.Kt(n):n instanceof pI?t.yu.Jt(n):t.yu.jt(n),r.isEqual(mE.min())){e.next=29;break}return e.prev=14,e.next=17,Rx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(QE.EMPTY_BYTE_STRING,n.snapshotVersion)),cT(e,t);var r=new nx(n.target,t,1,n.sequenceNumber);uT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Y_("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),AT.apply(this,arguments)}function kT(e,t,n){return wT.apply(this,arguments)}function wT(){return wT=ss(as().mark((function e(t,n,r){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,iT(t);case 5:t.gu.set("Offline"),r||(r=function(){return Rx(t.localStore)}),t.asyncQueue.enqueueRetryable(ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y_("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,nT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function bT(e,t){return t().catch((function(n){return kT(e,n,t)}))}function _T(e){return ET.apply(this,arguments)}function ET(){return ET=ss(as().mark((function e(t){var n,r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tE(t),r=qT(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!CT(n)){e.next=19;break}return e.prev=3,e.next=6,Ox(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ST(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kT(n,e.t0);case 17:e.next=2;break;case 19:IT(n)&&xT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ET.apply(this,arguments)}function CT(e){return hT(e)&&e.fu.length<10}function ST(e,t){e.fu.push(t);var n=qT(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function IT(e){return hT(e)&&!qT(e).No()&&e.fu.length>0}function xT(e){qT(e).start()}function TT(e){return NT.apply(this,arguments)}function NT(){return NT=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qT(t).eu();case 1:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function RT(e){return PT.apply(this,arguments)}function PT(){return PT=ss(as().mark((function e(t){var n,r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qT(t),r=S(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function DT(e,t,n){return OT.apply(this,arguments)}function OT(){return OT=ss(as().mark((function e(t,n,r){var i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=ex.from(i,n,r),e.next=3,bT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_T(t);case 5:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function LT(e,t){return MT.apply(this,arguments)}function MT(){return MT=ss(as().mark((function e(t,n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qT(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!YS(i=n.code)||i===nE.ABORTED){e.next=7;break}return r=t.fu.shift(),qT(t).Mo(),e.next=5,bT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_T(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:IT(t)&&xT(t);case 5:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function UT(e,t){return FT.apply(this,arguments)}function FT(){return FT=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=tE(t)).asyncQueue.verifyOperationInProgress(),Y_("RemoteStore","RemoteStore received new credentials"),i=hT(r),r._u.add(3),e.next=6,iT(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,nT(r);case 12:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}function BT(e,t){return jT.apply(this,arguments)}function jT(){return jT=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,nT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,iT(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function VT(e){return e.pu||(e.pu=function(e,t,n){var r=tE(e);return r.su(),new Xx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:pT.bind(null,e),Zr:yT.bind(null,e),Wo:mT.bind(null,e)}),e.wu.push(function(){var t=ss(as().mark((function t(n){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),fT(e)?lT(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:dT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function qT(e){return e.Iu||(e.Iu=function(e,t,n){var r=tE(e);return r.su(),new Zx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:TT.bind(null,e),Zr:LT.bind(null,e),tu:RT.bind(null,e),Zo:DT.bind(null,e)}),e.wu.push(function(){var t=ss(as().mark((function t(n){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,_T(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Y_("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var zT=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new iE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rE(nE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function QT(e,t){if(J_("AsyncQueue","".concat(t,": ").concat(e)),OE(e))return new rE(nE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var HT=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||_E.comparator(e.key,n.key)}:function(e,t){return _E.comparator(e.key,t.key)},this.keyedMap=tI(),this.sortedSet=new MC(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),WT=function(){function e(){d(this,e),this.Tu=new MC(_E.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$_():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),KT=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,HT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),GT=g((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),YT=g((function e(){d(this,e),this.queries=new XS((function(e){return uS(e)}),sS),this.onlineState="Unknown",this.Ru=new Set}));function JT(e,t){return XT.apply(this,arguments)}function XT(){return XT=ss(as().mark((function e(t,n){var r,i,a,o,s;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new GT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=QT(e.t0,"Initialization of query '".concat(cS(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&nN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),XT.apply(this,arguments)}function ZT(e,t){return $T.apply(this,arguments)}function $T(){return $T=ss(as().mark((function e(t,n){var r,i,a,o,s;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function eN(e,t){var n,r=tE(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=S(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&nN(r)}function tN(e,t,n){var r=tE(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function nN(e){e.Ru.forEach((function(e){e.next()}))}var rN=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new KT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=KT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var iN=g((function e(t){d(this,e),this.key=t})),aN=g((function e(t){d(this,e),this.key=t})),oN=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=uI(),this.mutatedKeys=uI(),this.Gu=hS(t),this.Qu=new HT(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new WT,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=lS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $_()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new KT(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new WT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=uI(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new aN(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new iN(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=uI();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return KT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),sN=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),uN=g((function e(t){d(this,e),this.key=t,this.nc=!1})),cN=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new XS((function(e){return uS(e)}),sS),this.rc=new Map,this.oc=new Set,this.uc=new MC(_E.comparator),this.cc=new Map,this.ac=new vx,this.hc={},this.lc=new Map,this.fc=cx.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function lN(e,t){return fN.apply(this,arguments)}function fN(){return fN=ss(as().mark((function e(t,n){var r,i,a,o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=BN(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Lx(r.localStore,iS(n));case 8:return s=e.sent,r.isPrimaryClient&&oT(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,hN(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fN.apply(this,arguments)}function hN(e,t,n,r,i){return dN.apply(this,arguments)}function dN(){return dN=ss(as().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ss(as().mark((function e(t,n,r,i){var a,o,s;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Fx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(RN(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Fx(t.localStore,n,!0);case 3:return o=e.sent,s=new oN(n,o.Hi),u=s.Wu(o.documents),c=hI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),RN(t,r,l.Xu),f=new sN(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=ss(as().mark((function e(t,n){var r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!sS(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Mx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sT(r.remoteStore,i.targetId),TN(r,i.targetId)})).catch(RE);case 9:e.next=14;break;case 11:return TN(r,i.targetId),e.next=14,Mx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function yN(e,t,n){return gN.apply(this,arguments)}function gN(){return gN=ss(as().mark((function e(t,n,r){var i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=tE(e),a=gE.now(),o=t.reduce((function(e,t){return e.add(t.key)}),uI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=$S(),u=uI();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=S(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=US(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new jS(c.key,l,zC(l.value.mapValue),RS.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:nI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new MC(vE)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ON(i,a.changes);case 9:return e.next=11,_T(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=QT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gN.apply(this,arguments)}function mN(e,t){return AN.apply(this,arguments)}function AN(){return AN=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tE(t),e.prev=1,e.next=4,Px(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(eE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?eE(n.nc):e.removedDocuments.size>0&&(eE(n.nc),n.nc=!1))})),e.next=8,ON(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,RE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),AN.apply(this,arguments)}function kN(e,t,n){var r=tE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=tE(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nN(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wN(e,t,n){return bN.apply(this,arguments)}function bN(){return bN=ss(as().mark((function e(t,n,r){var i,a,o,s,u,c;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=tE(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new MC(_E.comparator)).insert(o,QC.newNoDocument(o,mE.min())),u=uI().add(o),c=new fI(mE.min(),new Map,new BC(vE),s,u),e.next=9,mN(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),DN(i),e.next=16;break;case 14:return e.next=16,Mx(i.localStore,n,!1).then((function(){return TN(i,n,r)})).catch(RE);case 16:case"end":return e.stop()}}),e)}))),bN.apply(this,arguments)}function _N(e,t){return EN.apply(this,arguments)}function EN(){return EN=ss(as().mark((function e(t,n){var r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tE(t),i=n.batch.batchId,e.prev=1,e.next=4,Nx(r.localStore,n);case 4:return a=e.sent,xN(r,i,null),IN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ON(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,RE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),EN.apply(this,arguments)}function CN(e,t,n){return SN.apply(this,arguments)}function SN(){return SN=ss(as().mark((function e(t,n,r){var i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tE(t),e.prev=1,e.next=4,function(e,t){var n=tE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return eE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xN(i,n,r),IN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ON(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,RE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SN.apply(this,arguments)}function IN(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function xN(e,t,n){var r=tE(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function TN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||NN(e,t)}))}function NN(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(sT(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),DN(e))}function RN(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof iN?(e.ac.addReference(a.key,t),PN(e,a)):a instanceof aN?(Y_("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||NN(e,a.key)):$_()}}catch(o){i.e(o)}finally{i.f()}}function PN(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Y_("SyncEngine","New document in limbo: "+n),e.oc.add(r),DN(e))}function DN(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new _E(kE.fromString(t)),r=e.fc.next();e.cc.set(r,new uN(n)),e.uc=e.uc.insert(n,r),oT(e.remoteStore,new nx(iS(ZC(n.path)),r,2,LE.at))}}function ON(e,t,n){return LN.apply(this,arguments)}function LN(){return LN=ss(as().mark((function e(t,n,r){var i,a,o,s;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=tE(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ex.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ss(as().mark((function e(t,n){var r,i,a,o,s,u,c,l;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tE(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return DE.forEach(n,(function(t){return DE.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return DE.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),OE(e.t0)){e.next=10;break}throw e.t0;case 10:Y_("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),LN.apply(this,arguments)}function MN(e,t){return UN.apply(this,arguments)}function UN(){return UN=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=tE(t)).currentUser.isEqual(n)){e.next=11;break}return Y_("SyncEngine","User change. New user:",n.toKey()),e.next=5,xx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new rE(nE.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ON(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function FN(e,t){var n=tE(e),r=n.cc.get(t);if(r&&r.nc)return uI().add(r.key);var i=uI(),a=n.rc.get(t);if(!a)return i;var o,s=S(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function BN(e){var t=tE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wN.bind(null,t),t.sc.Wo=eN.bind(null,t.eventManager),t.sc.wc=tN.bind(null,t.eventManager),t}function jN(e){var t=tE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,t),t}var VN=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Gx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Ix(this.persistence,new Cx,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new wx(_x.Bs,this.yt)}},{key:"gc",value:function(e){return new Vx}},{key:"terminate",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qN=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=ss(as().mark((function e(t,n){var r=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MN.bind(null,this.syncEngine),e.next=12,BT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new YT}},{key:"createDatastore",value:function(e){var t,n=Gx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wx(t));return function(e,t,n,r){return new $x(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return kN(o.syncEngine,e,0)},a=zx.C()?new zx:new qx,new tT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new cN(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tE(t),Y_("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,iT(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function zN(e,t,n){if(!n)throw new rE(nE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function QN(e){if(!_E.isDocumentKey(e))throw new rE(nE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function HN(e){if(_E.isDocumentKey(e))throw new rE(nE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function WN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":$_()}function KN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rE(nE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WN(e);throw new rE(nE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var GN=new Map,YN=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new rE(nE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rE(nE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new rE(nE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),JN=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YN({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new rE(nE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new rE(nE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oE;switch(e.type){case"gapi":var t=e.client;return new lE(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rE(nE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GN.get(e);t&&(Y_("ComponentProvider","Removing Datastore"),GN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function XN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=KN(e,JN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&X_("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=H_.MOCK_USER;else{o=Ts(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new rE(nE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new H_(u)}e._authCredentials=new sE(new aE(o,s))}}var ZN=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new eR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$N=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),eR=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,ZC(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZN(this.firestore,null,new _E(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($N);function tR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ru(e),zN("collection","path",t),e instanceof JN){var a=kE.fromString.apply(kE,[t].concat(r));return HN(a),new eR(e,null,a)}if(!(e instanceof ZN||e instanceof eR))throw new rE(nE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kE.fromString.apply(kE,[t].concat(r)));return HN(o),new eR(e.firestore,null,o)}function nR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ru(e),1===arguments.length&&(t=pE.R()),zN("doc","path",t),e instanceof JN){var a=kE.fromString.apply(kE,[t].concat(r));return QN(a),new ZN(e,null,new _E(a))}if(!(e instanceof ZN||e instanceof eR))throw new rE(nE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kE.fromString.apply(kE,[t].concat(r)));return QN(o),new ZN(e.firestore,e instanceof eR?e.converter:null,new _E(o))}var rR=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):J_("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iR=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=H_.UNAUTHENTICATED,this.clientId=pE.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y_("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Y_("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new rE(nE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new iE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ss(as().mark((function n(){var r;return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=QT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function aR(e,t){return oR.apply(this,arguments)}function oR(){return oR=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Y_("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,xx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),oR.apply(this,arguments)}function sR(e,t){return uR.apply(this,arguments)}function uR(){return uR=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,cR(t);case 3:return r=e.sent,Y_("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return UT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return UT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),uR.apply(this,arguments)}function cR(e){return lR.apply(this,arguments)}function lR(){return lR=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Y_("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,aR(t,new VN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e){return hR.apply(this,arguments)}function hR(){return hR=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Y_("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,sR(t,new qN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(e){return fR(e).then((function(e){return e.syncEngine}))}function pR(e){return vR.apply(this,arguments)}function vR(){return vR=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=lN.bind(null,n.syncEngine),r.onUnlisten=pN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vR.apply(this,arguments)}function yR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new iE;return e.asyncQueue.enqueueAndForget(ss(as().mark((function i(){return as().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rR({next:function(a){t.enqueueAndForget((function(){return ZT(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new rE(nE.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new rE(nE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rN(ZC(n.path),a,{includeMetadataChanges:!0,Nu:!0});return JT(e,o)},i.next=3,pR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new iE;return e.asyncQueue.enqueueAndForget(ss(as().mark((function i(){return as().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rR({next:function(n){t.enqueueAndForget((function(){return ZT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new rE(nE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rN(n,a,{includeMetadataChanges:!0,Nu:!0});return JT(e,o)},i.next=3,pR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var mR=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Yx(this,"async_queue_retry"),this.Wc=function(){var e=Kx();e&&Y_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Kx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new iE;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ss(as().mark((function e(){var t=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),OE(e.t0)){e.next=12;break}throw e.t0;case 12:Y_("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw J_("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=zT.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&$_()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ss(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=S(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();var AR=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new mR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||wR(this),this._firestoreClient.terminate()}}]),n}(JN);function kR(e){return e._firestoreClient||wR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ME(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new iR(e._authCredentials,e._appCheckCredentials,e._queue,r)}var bR=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(QE.fromBase64String(t))}catch(t){throw new rE(nE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(QE.fromUint8Array(t))}}]),e}(),_R=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new rE(nE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bE(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ER=g((function e(t){d(this,e),this._methodName=t})),CR=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new rE(nE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rE(nE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vE(this._lat,e._lat)||vE(this._long,e._long)}}]),e}(),SR=/^__.*__$/,IR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new jS(e,this.data,this.fieldMask,t,this.fieldTransforms):new BS(e,this.data,t,this.fieldTransforms)}}]),e}(),xR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new jS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function TR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $_()}}var NR=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return GR(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(TR(this.sa)&&SR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),RR=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Gx(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new NR({sa:e,methodName:t,fa:n,path:bE.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function PR(e){var t=e._freezeSettings(),n=Gx(e._databaseId);return new RR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);QR("Data must be an object, but it was:",o,r);var s,u,c=qR(r,o);if(a.merge)s=new VC(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=HR(t,l.value,n);if(!o.contains(d))throw new rE(nE.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));YR(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new VC(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new IR(new qC(c),s,u)}var OR=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ER);function LR(e,t,n){return new NR({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var MR=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=LR(this,e,!0),n=this._a.map((function(e){return VR(e,t)})),r=new bS(n);return new TS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ER),UR=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=LR(this,e,!0),n=this._a.map((function(e){return VR(e,t)})),r=new ES(n);return new TS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ER);function FR(e,t,n,r){var i=e.da(1,t,n);QR("Data must be an object, but it was:",i,r);var a=[],o=qC.empty();BE(r,(function(e,r){var s=KR(t,e,n);r=ru(r);var u=i.ca(s);if(r instanceof OR)a.push(s);else{var c=VR(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new VC(a);return new xR(o,s,i.fieldTransforms)}function BR(e,t,n,r,i,a){var o=e.da(1,t,n),s=[HR(t,r,n)],u=[i];if(a.length%2!=0)throw new rE(nE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(HR(t,a[c])),u.push(a[c+1]);for(var l=[],f=qC.empty(),h=s.length-1;h>=0;--h)if(!YR(l,s[h])){var d=s[h],p=u[h];p=ru(p);var v=o.ca(d);if(p instanceof OR)l.push(d);else{var y=VR(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new VC(l);return new xR(f,g,o.fieldTransforms)}function jR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VR(n,e.da(r?4:3,t))}function VR(e,t){if(zR(e=ru(e)))return QR("Unsupported field value:",t,e),qR(e,t);if(e instanceof ER)return function(e,t){if(!TR(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=VR(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ru(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yS(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gE.fromDate(e);return{timestampValue:EI(t.yt,n)}}if(e instanceof gE){var r=new gE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:EI(t.yt,r)}}if(e instanceof CR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bR)return{bytesValue:CI(t.yt,e._byteString)};if(e instanceof ZN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(WN(e)))}(e,t)}function qR(e,t){var n={};return jE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):BE(e,(function(e,r){var i=VR(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gE||e instanceof CR||e instanceof bR||e instanceof ZN||e instanceof ER)}function QR(e,t,n){if(!zR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=WN(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function HR(e,t,n){if((t=ru(t))instanceof _R)return t._internalPath;if("string"==typeof t)return KR(e,t);throw GR("Field path arguments must be of type string or ",e,!1,void 0,n)}var WR=new RegExp("[~\\*/\\[\\]]");function KR(e,t,n){if(t.search(WR)>=0)throw GR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(_R,h(t.split(".")))._internalPath}catch(r){throw GR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new rE(nE.INVALID_ARGUMENT,s+e+u)}function YR(e,t){return e.some((function(e){return e.isEqual(t)}))}var JR=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ZR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XR=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return fs(k(n.prototype),"data",this).call(this)}}]),n}(JR);function ZR(e,t){return"string"==typeof t?KR(e,t):t instanceof _R?t._internalPath:t._delegate._internalPath}function $R(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rE(nE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eP=g((function e(){d(this,e)})),tP=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(eP);function nP(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof eP&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof aP})).length,n=e.filter((function(e){return e instanceof rP})).length;if(t>1||t>0&&n>0)throw new rE(nE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=S(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var rP=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return uP(e._query,t),new $N(e.firestore,e.converter,aS(e._query,t))}},{key:"_parse",value:function(e){var t=PR(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new rE(nE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sP(o,a);var u,c=[],l=S(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(oP(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=oP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sP(o,a),s=jR(n,"where",o,"in"===a||"not-in"===a);return mC.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tP);function iP(e,t,n){var r=t,i=ZR("where",e);return rP._create(i,r,n)}var aP=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:AC.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;uP(r,a),r=aS(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new $N(e.firestore,e.converter,aS(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(eP);function oP(e,t,n){if("string"==typeof(n=ru(n))){if(""===n)throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(t)&&-1!==n.indexOf("/"))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(kE.fromString(n));if(!_E.isDocumentKey(r))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return oC(e,new _E(r))}if(n instanceof ZN)return oC(e,n._key);throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(WN(n),"."))}function sP(e,t){if(!Array.isArray(e)||0===e.length)throw new rE(nE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new rE(nE.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function uP(e,t){if(t.isInequality()){var n=tS(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=eS(e);null!==i&&cP(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new rE(nE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rE(nE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function cP(e,t,n){if(!n.isEqual(t))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lP=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($E(e)){case 0:return null;case 1:return e.booleanValue;case 2:return KE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(GE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $_()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return BE(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new CR(KE(e.latitude),KE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=JE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(XE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=WE(e);return new gE(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=kE.fromString(e);eE(YI(n));var r=new UE(n.get(1),n.get(3)),i=new _E(n.popFirst(5));return r.isEqual(t)||J_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hP=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),dP=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return fs(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ZR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JR),pP=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fs(k(n.prototype),"data",this).call(this,e)}}]),n}(dP),vP=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hP(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pP(n._firestore,n._userDataWriter,r.key,r,new hP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rE(nE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new pP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function yP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $_()}}function gP(e){e=KN(e,ZN);var t=KN(e.firestore,AR);return yR(kR(t),e._key).then((function(n){return EP(t,e,n)}))}var mP=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new bR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZN(this.firestore,null,t)}}]),n}(lP);function AP(e){e=KN(e,$N);var t=KN(e.firestore,AR),n=kR(t),r=new mP(t);return $R(e._query),gR(n,e._query).then((function(n){return new vP(t,r,e,n)}))}function kP(e,t,n){e=KN(e,ZN);var r=KN(e.firestore,AR),i=fP(e.converter,t,n);return _P(r,[DR(PR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,RS.none())])}function wP(e,t,n){e=KN(e,ZN);for(var r=KN(e.firestore,AR),i=PR(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return _P(r,[("string"==typeof(t=ru(t))||t instanceof _R?BR(i,"updateDoc",e._key,t,n,o):FR(i,"updateDoc",e._key,t)).toMutation(e._key,RS.exists(!0))])}function bP(e){return _P(KN(e.firestore,AR),[new WS(e._key,RS.none())])}function _P(e,t){return function(e,t){var n=new iE;return e.asyncQueue.enqueueAndForget(ss(as().mark((function r(){return as().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=yN,r.next=3,dR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kR(e),t)}function EP(e,t,n){var r=n.docs.get(t._key),i=new mP(e);return new dP(e,i,t._key,r,new hP(n.hasPendingWrites,n.fromCache),t.converter)}function CP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MR("arrayUnion",t)}function SP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new UR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){W_=e}(Yu),Qu(new iu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new AR(new uE(e.getProvider("auth-internal")),new hE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rE(nE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new UE(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Zu(Q_,"3.8.3",e),Zu(Q_,"3.8.3","esm2017")}();var IP,xP=Ju({apiKey:"AIzaSyBat-YL7LctaH5CRu3TzdWWlXSvPB41bEs",authDomain:"insta-clone-30755.firebaseapp.com",databaseURL:"https://insta-clone-30755-default-rtdb.europe-west1.firebasedatabase.app",projectId:"insta-clone-30755",storageBucket:"gs://insta-clone-30755.appspot.com",messagingSenderId:"281434029671",appId:"1:281434029671:web:9c5edda7987815648bdec2"}),TP=Nd(),NP=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Hu("object"==typeof e?e:Xu(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Cs("firestore");i&&XN.apply(void 0,[r].concat(h(i)))}return r}(xP),RP=FA(xP),PP=(new vf,"firebasestorage.googleapis.com"),DP="storageBucket",OP=12e4,LP=6e5,MP=function(e){A(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,UP(e),"Firebase Storage: ".concat(r," (").concat(UP(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return UP(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Us);function UP(e){return"storage/"+e}function FP(){return new MP(IP.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function BP(){return new MP(IP.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jP(){return new MP(IP.CANCELED,"User canceled the upload/download.")}function VP(){return new MP(IP.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qP(e){return new MP(IP.INVALID_ARGUMENT,e)}function zP(){return new MP(IP.APP_DELETED,"The Firebase app was deleted.")}function QP(e,t){return new MP(IP.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function HP(e){throw new MP(IP.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(IP||(IP={}));var WP,KP=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new MP(IP.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===PP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new MP(IP.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),GP=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function YP(e){return"string"===typeof e||e instanceof String}function JP(e){return XP()&&e instanceof Blob}function XP(){return"undefined"!==typeof Blob&&!Ps()}function ZP(e,t,n,r){if(r<t)throw qP("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw qP("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function $P(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eD(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function tD(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(WP||(WP={}));var nD=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=FP();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?zP():jP());else i(BP())}};this.canceled_?t(0,new rD(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new rD(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===WP.NO_ERROR,a=r.getStatus();if(!n||tD(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===WP.ABORT;t(!1,new rD(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new rD(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),rD=g((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function iD(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function aD(){for(var e=iD(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(XP())return new Blob(n);throw new MP(IP.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function oD(e){if("undefined"===typeof atob)throw t="base-64",new MP(IP.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var sD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},uD=g((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function cD(e,t){switch(e){case sD.RAW:return new uD(lD(t));case sD.BASE64:case sD.BASE64URL:return new uD(fD(e,t));case sD.DATA_URL:return new uD(function(e){var t=new hD(e);return t.base64?fD(sD.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw QP(sD.DATA_URL,"Malformed data URL.")}return lD(t)}(t.rest)}(t),new hD(t).contentType)}throw FP()}function lD(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function fD(e,t){switch(e){case sD.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw QP(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sD.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw QP(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=oD(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw QP(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var hD=g((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw QP(sD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var dD=function(){function e(t,n){d(this,e);var r=0,i="";JP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return g(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(JP(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(XP()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(aD.apply(null,i))}var a=n.map((function(e){return YP(e)?cD(sD.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function pD(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function vD(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function yD(e,t){return t}var gD=g((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||yD})),mD=null;function AD(){if(mD)return mD;var e=[];e.push(new gD("bucket")),e.push(new gD("generation")),e.push(new gD("metageneration")),e.push(new gD("name","fullPath",!0));var t=new gD("name");t.xform=function(e,t){return function(e){return!YP(e)||e.length<2?e:vD(e)}(t)},e.push(t);var n=new gD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gD("timeCreated")),e.push(new gD("updated")),e.push(new gD("md5Hash",null,!0)),e.push(new gD("cacheControl",null,!0)),e.push(new gD("contentDisposition",null,!0)),e.push(new gD("contentEncoding",null,!0)),e.push(new gD("contentLanguage",null,!0)),e.push(new gD("contentType",null,!0)),e.push(new gD("metadata","customMetadata",!0)),mD=e}function kD(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new KP(n,r);return t._makeStorageReference(i)}})}(r,e),r}function wD(e,t,n){var r=pD(t);return null===r?null:kD(e,r,n)}function bD(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var _D=g((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function ED(e){if(!e)throw FP()}function CD(e,t){return function(n,r){var i=wD(e,r,t);return ED(null!==i),i}}function SD(e,t){return function(n,r){var i=wD(e,r,t);return ED(null!==i),function(e,t,n,r){var i=pD(t);if(null===i)return null;if(!YP(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return $P("/b/"+o(i)+"/o/"+o(a),n,r)+eD({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ID(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new MP(IP.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new MP(IP.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new MP(IP.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new MP(IP.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function xD(e){var t=ID(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new MP(IP.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function TD(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ND(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=TD(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bD(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=dD.getBlob(c,r,l);if(null===f)throw VP();var h={name:u.fullPath},d=$P(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _D(d,"POST",CD(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=ID(t),v}var RD=null,PD=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WP.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=WP.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=WP.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw HP("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw HP("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw HP("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw HP("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw HP("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),DD=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(PD);function OD(){return RD?RD():new DD}var LD=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof KP?n:KP.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new KP(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return vD(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new KP(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new MP(IP.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function MD(e,t,n){e._throwIfRoot("uploadBytes");var r=ND(e.storage,e._location,AD(),new dD(t,!0),n);return e.storage.makeRequestWithTokens(r,OD).then((function(t){return{metadata:t,ref:e}}))}function UD(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=$P(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _D(r,"GET",SD(e,n),i);return a.errorHandler=xD(t),a}(e.storage,e._location,AD());return e.storage.makeRequestWithTokens(t,OD).then((function(e){if(null===e)throw new MP(IP.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function FD(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new KP(e._location.bucket,n);return new LD(e.storage,r)}function BD(e,t){if(e instanceof qD){var n=e;if(null==n._bucket)throw new MP(IP.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DP+"' property when initializing the app?");var r=new LD(n,n._bucket);return null!=t?BD(r,t):r}return void 0!==t?FD(e,t):e}function jD(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof qD)return new LD(e,t);throw qP("To use ref(service, url), the first argument must be a Storage instance.")}return BD(e,t)}function VD(e,t){var n=null===t||void 0===t?void 0:t[DP];return null==n?null:KP.makeFromBucketSpec(n,e)}var qD=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=PP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OP,this._maxUploadRetryTime=LP,this._requests=new Set,this._bucket=null!=i?KP.makeFromBucketSpec(i,this._host):VD(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=KP.makeFromBucketSpec(this._url,e):this._bucket=VD(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ZP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ZP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ss(as().mark((function e(){var t,n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ss(as().mark((function e(){var t,n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new LD(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new GP(zP());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=eD(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new nD(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ss(as().mark((function e(t,n){var r,i,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),zD="@firebase/storage",QD="0.11.1",HD="storage";function WD(e,t,n){return MD(e=ru(e),t,n)}function KD(e){return UD(e=ru(e))}function GD(e,t){return jD(e=ru(e),t)}function YD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu(),t=arguments.length>1?arguments[1]:void 0,n=Hu(e=ru(e),HD).getImmediate({identifier:t}),r=Cs("storage");return r&&JD.apply(void 0,[n].concat(h(r))),n}function JD(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ts(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function XD(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new qD(r,i,a,n,Yu)}Qu(new iu(HD,XD,"PUBLIC").setMultipleInstances(!0)),Zu(zD,QD,""),Zu(zD,QD,"esm2017");var ZD=function(){function e(){d(this,e),this.RealtimeDataBase=RP,this.DatabaseRef=yA(RP),this.firebaseAPP=xP,this.firebaseStorage=YD(this.firebaseAPP),this.storageRefrence=GD(this.firebaseStorage),this.firebaseAuth=TP,this.googleAuthProvider=new vf,this.onValue=CA,this.ref=yA}return g(e,[{key:"getAuthProvider",value:function(){return this.googleAuthProvider}},{key:"getAuthInstatnce",value:function(){return this.firebaseAuth}},{key:"getApp",value:function(){return this.firebaseAPP}},{key:"getDatabase",value:function(){return this.RealtimeDataBase}}]),e}(),$D=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this)).checkAuthState=Lf,e}return g(n,[{key:"signInWithPopUp",value:function(){var e=ss(as().mark((function e(){var t,n=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Th(this.firebaseAuth,this.googleAuthProvider).then((function(e){var t;wA(yA(n.RealtimeDataBase,"Users/"+(null===(t=n.firebaseAuth.currentUser)||void 0===t?void 0:t.uid))).then((function(e){if(null===e.val()||void 0===e.val()){var t,r,i,a;console.log("ADDING NEW USER");var o={fullName:null===(t=n.firebaseAuth.currentUser)||void 0===t?void 0:t.displayName,posts:{},status:null,foloowers:{},subscribes:{},userID:null===(r=n.firebaseAuth.currentUser)||void 0===r?void 0:r.uid,avatar:null===(i=n.firebaseAuth.currentUser)||void 0===i?void 0:i.photoURL},s={};return s["Users/"+(null===(a=n.firebaseAuth.currentUser)||void 0===a?void 0:a.uid)]=o,kA(yA(n.RealtimeDataBase),s),e}}));return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signInByEmailAndPassword",value:function(){var e=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Of(this.firebaseAuth,t,n);case 3:return e.next=5,e.sent.user.uid;case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ss(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(this.firebaseAuth).signOut();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createUserWithEmailAndPassword",value:function(){var e=ss(as().mark((function e(t,n,r,i,a){var o,s,u,c;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pf(this.firebaseAuth,t,n);case 3:return o=e.sent.user,mA(gA(yA(this.RealtimeDataBase),"Users/")).key,s={fullName:r,userID:o.uid,avatar:null,posts:{},likesCount:null,status:null,followers:{},subscibes:{},chat:{},savedPosts:{}},(u={})["Users/"+o.uid]=s,kA(yA(this.RealtimeDataBase),u),c=wA(gA(this.ref(this.RealtimeDataBase),"Users/"+o.uid)),console.log(c),e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"getCurrentUserID",value:function(){var e=ss(as().mark((function e(){var t,n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.firebaseAuth.currentUser)||void 0===t?void 0:t.uid;case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=ss(as().mark((function e(t){var n,r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=yA(this.RealtimeDataBase,"Users/"+t),e.next=4,wA(PA(n));case 4:return e.next=6,e.sent.val();case 6:if(!(r=e.sent)){e.next=12;break}return i={fullName:r.fullName,avatar:r.avatar,userID:r.userID,status:r.status,chats:Object.hasOwn(r,"chats")?Object.values(r.chats):[]},e.abrupt("return",i);case 12:throw new Error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(ZD),eO=new $D,tO=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t},nO=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this)}return g(n,[{key:"getCurrentUserStatus",value:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wA(yA(this.RealtimeDataBase,"Users/"+t+"/status/"));case 2:return n=e.sent,e.abrupt("return",n.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatus",value:function(){var e=ss(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n.length>0)){e.next=8;break}return(r={})["Users/"+t+"/status/"]=n,e.abrupt("return",kA(yA(this.RealtimeDataBase),r));case 8:throw new Error("Error : Cannot update!Status is empty string!");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAvatar",value:function(){var e=ss(as().mark((function e(t,n){var r,i,a=this;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=tO(12),i=GD(this.storageRefrence,r),console.log(n),null!==n&&WD(i,n).then((function(){KD(i).then((function(e){var n=e,r={};r["Users/"+t+"/avatar/"]=n,kA(yA(a.RealtimeDataBase),r)}))}))}catch(o){console.log(o)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribes",value:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ZD),rO=new nO,iO="instaClone/profile_reducer/set_current_user+profile",aO="instaClone/profileReducer/updateAvatar",oO="instaClone/profileReducer/updateStatus",sO="instaClone/profileReducer/setNewStatus",uO="instaClone/profileReducer/setNewAvatar",cO={userID:null,fullName:null,avatar:null,status:null,chats:[],newStatus:null,newAvatar:null},lO=function(e){return{type:"instaClone/profile_reducer/set_current_user+profile",payload:e}},fO=function(e){return{type:"instaClone/profileReducer/updateAvatar",payload:e}},hO=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},dO=function(e,t){return function(){var n=ss(as().mark((function n(r){var i;return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Upadte avatar thunk"),r(wO.set_is_fetch_true()),n.next=5,rO.updateAvatar(t,e);case 5:i=n.sent,r(fO(i)),r(wO.set_is_fetch_fasle()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},pO=function(e,t){return function(){var n=ss(as().mark((function n(r){return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(wO.set_is_fetch_true()),n.next=3,rO.updateStatus(e,t);case 3:n.sent,r(hO(t)),r(wO.set_is_fetch_fasle());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},vO="SET_INITIALIZE",yO="messenger/app_reducer/set_is_fetch_true",gO="messenger/app_reducer/set_is_fetch_false",mO="messenger/app_reducer/set_current_user_id",AO="insta-clone/postReducer/set_on_load",kO={is_initialize:!1,is_fetch:!1,currentUserID:null,onLoad:!1},wO={init:function(e){return{type:"SET_INITIALIZE",payload:e}},set_is_fetch_true:function(){return{type:"messenger/app_reducer/set_is_fetch_true"}},set_is_fetch_fasle:function(){return{type:"messenger/app_reducer/set_is_fetch_false"}},setCurrentUserID:function(e){return{type:"messenger/app_reducer/set_current_user_id",payload:e}},setOnLoad:function(e){return{type:"insta-clone/postReducer/set_on_load",payload:e}}},bO="messenger/auth_reducer/set_true",_O="messenger/auth_reducer/set_false",EO="messenger/auth_reducer/set_token",CO="messenger/auth_reducer/create_user",SO="messenger/authReducer/setError",IO={is_auth:!1,auth_token:null,is_initialize:!1,user_id:null,onError:!1,regForm:{username:"",email:"",passTake1:"",passTake2:"",avatar:null,status:null}},xO={set_auth_true:function(){return{type:"messenger/auth_reducer/set_true",payload:!0}},set_auth_false:function(){return{type:"messenger/auth_reducer/set_false"}},set_auth_token:function(e){return{type:"messenger/auth_reducer/set_token",payload:e}},create_user:function(e){return{type:"messenger/auth_reducer/create_user",payload:e}},setError:function(e){return{type:"messenger/authReducer/setError",payload:e}}},TO={formDivContainer:"Login_formDivContainer__JRhtB",wrapper:"Login_wrapper__olPZx",loginForms:"Login_loginForms__KUoGI",loginFormsError:"Login_loginFormsError__GlHhU",spanError:"Login_spanError__qRHYe",loginButton:"Login_loginButton__HoRsd",loginButtonGoogle:"Login_loginButtonGoogle__ML1bz"},NO=n(184),RO=e.memo((function(e){var t=No((function(e){return e.auth.onError})),n=No((function(e){return e.app.is_fetch})),r=rs();return(0,NO.jsx)("div",{className:TO.formDivContainer,children:(0,NO.jsxs)("div",{className:TO.wrapper,children:[(0,NO.jsx)("h1",{children:"Login"}),t?(0,NO.jsx)("span",{className:TO.spanError,children:"Error : Invalid username or password"}):null,(0,NO.jsx)(ao,{enableReinitialize:!0,className:TO.loginForms,initialValues:{login:"",password:""},onSubmit:function(e){var t=r(function(e,t){return function(){var n=ss(as().mark((function n(r){return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(wO.set_is_fetch_true()),n.next=4,Of(eO.getAuthInstatnce(),e,t).catch((function(e){throw new Error(e)})).then((function(e){console.log(e),r(xO.create_user(e.user.uid)),r(xO.set_auth_true()),r(wO.set_is_fetch_fasle())}));case 4:return n.next=6,n.sent;case 6:n.sent,n.next=15;break;case 9:n.prev=9,n.t0=n.catch(0),r(xO.setError(!0)),r(xO.set_auth_false()),r(wO.set_is_fetch_fasle()),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e.login,e.password));console.log(t)},children:(0,NO.jsxs)(fo,{className:t?TO.loginFormsError:TO.loginForms,children:[(0,NO.jsx)(lo,{type:"text",name:"login"}),(0,NO.jsx)("br",{}),(0,NO.jsx)(lo,{type:"text",name:"password"}),(0,NO.jsx)("br",{}),(0,NO.jsx)("hr",{}),(0,NO.jsx)("button",{className:TO.loginButton,type:"submit",disabled:n,children:"Login"})]})}),(0,NO.jsx)("br",{}),(0,NO.jsxs)("div",{children:[(0,NO.jsx)("span",{children:"OR"}),(0,NO.jsx)("br",{}),(0,NO.jsx)(Je,{to:"/registration",children:"Create account"})]}),(0,NO.jsxs)("section",{className:TO.Sign_in_with_google,children:[(0,NO.jsx)("br",{}),(0,NO.jsx)("button",{className:TO.loginButtonGoogle,type:"button",onClick:function(){r(function(){var e=ss(as().mark((function e(t){var n,r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eO.signInWithPopUp();case 2:n=e.sent,r=vf.credentialFromResult(n),null!==(i=null===r||void 0===r?void 0:r.accessToken)&&void 0!==i&&i.length?(t(xO.set_auth_token(i)),t(xO.set_auth_true())):t(xO.set_auth_token(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Sign in with Google"}),(0,NO.jsx)("img",{src:is,alt:"#",className:TO.googleButtonImg})]})]})})})),PO=Xo((function(e){return{is_auth:e.auth.is_auth,auth_token:e.auth.auth_token}}),(function(e){return{}}))(RO),DO="messenger/registrationReducer/setNewUserEmail",OO="messenger/registrationReducer/setNewUserUsername",LO="messenger/registrationReducer/setNewUserPassword",MO="messenger/registrationReducer/setNewUserPassword2",UO="messenger/registrationReducer/setNewUserAvatar",FO="messenger/registrationReducer/setNewUserStatus",BO="messenger/registrationReducer/setUserID",jO={userName:"",passwordField1:"",passwordField2:"",avatar:null,email:"",status:"",newUserID:""},VO=function(e){return{type:"messenger/registrationReducer/setNewUserUsername",payload:e}},qO=function(e){return{type:"messenger/registrationReducer/setNewUserPassword",payload:e}},zO=function(e){return{type:"messenger/registrationReducer/setNewUserPassword2",payload:e}},QO=function(e){return{type:"messenger/registrationReducer/setNewUserAvatar",payload:e}},HO=function(e){return{type:"messenger/registrationReducer/setNewUserEmail",payload:e}},WO=function(e){return{type:"messenger/registrationReducer/setNewUserStatus",payload:e}},KO={regWrapper:"Registration_regWrapper__AJ3yq",container:"Registration_container__JIXH8",loginForms:"Registration_loginForms__hAuUx",loginFormsOnError:"Registration_loginFormsOnError__zwWLM",registrationButton:"Registration_registrationButton__Fw7xx",registrationStep2:"Registration_registrationStep2__qCK3K",step2:"Registration_step2__OLVZx",regUserStatus:"Registration_regUserStatus__pGkO8",avatarPicker:"Registration_avatarPicker__3riDB",registrationAvatar:"Registration_registrationAvatar__tvryO",regAvatarIcon:"Registration_regAvatarIcon__2gy4j"},GO=n.p+"static/media/imageGallery.6efc1d3040f2b00bf278.png",YO="NOT_FOUND";var JO=function(e,t){return e===t};function XO(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?JO:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:YO},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return YO}return{get:r,put:function(t,i){r(t)===YO&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function l(){var t=c.get(arguments);if(t===YO){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function ZO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?n:c,f=Array.isArray(l)?l:[l],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),d=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),p=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return a=d.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:d,dependencies:h,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var $O=ZO(XO),eL=($O((function(e){return e.userPage}),(function(e){return e||null})),$O((function(e){return e.registration}),(function(e){return e}))),tL=e.memo((function(t){var n=rs(),r=(Se(),No((function(e){return e.registration.avatar}))),i=No(eL),a=u((0,e.useState)(null),2),o=(a[0],a[1]),s=u((0,e.useState)({onError:!1,errorMessage:null}),2),c=s[0],l=s[1],f=u((0,e.useState)(1),2),h=f[0],d=f[1];return(0,NO.jsx)("section",{className:KO.regWrapper,children:(0,NO.jsxs)("section",{className:KO.container,children:[(0,NO.jsx)("h1",{children:"Registration"}),(0,NO.jsx)("hr",{}),c?(0,NO.jsx)("span",{children:c.errorMessage}):null,(0,NO.jsx)(ao,{enableReinitialize:!0,initialValues:{avatar:i.avatar,passwordField1:i.passwordField1,passwordField2:i.passwordField2,status:i.status,userName:i.userName,email:i.email},onSubmit:function(e){var t;e.email.length<6||e.userName.length<6||e.passwordField1.length<6?l({onError:!0,errorMessage:"Fields should contain minimum 6 charecters"}):e.passwordField1!==e.passwordField2?l({onError:!0,errorMessage:"Password dint match"}):n((t=e,function(){var e=ss(as().mark((function e(n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(wO.set_is_fetch_true()),n(wO.init(!1)),e.next=4,eO.createUserWithEmailAndPassword(t.email,t.passwordField1,t.userName);case 4:return r=e.sent,e.next=7,n(wO.setCurrentUserID(null===r||void 0===r?void 0:r.val().userID));case 7:return e.next=9,n(dO(null===r||void 0===r?void 0:r.val().userID,t.avatar));case 9:if(n(lO(null===r||void 0===r?void 0:r.val())),!(null!==t.status&&t.status.length>0)){e.next=13;break}return e.next=13,n(pO(null===r||void 0===r?void 0:r.val().userID,t.status));case 13:n(lO(null===r||void 0===r?void 0:r.val())),n(xO.set_auth_true()),n(wO.set_is_fetch_fasle()),n(wO.init(!0));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:(0,NO.jsx)(fo,{className:KO.loginForms,children:1===h?(0,NO.jsxs)("div",{className:c?KO.loginFormsDIV:KO.loginFormsOnError,children:[(0,NO.jsx)(lo,{type:"text",name:"username",placeholder:"Username",autocomplete:"off",onChange:function(e){n(VO(e.currentTarget.value))}}),(0,NO.jsx)("br",{}),(0,NO.jsx)(lo,{type:"text",name:"email",placeholder:"Email",autocomplete:"off",onChange:function(e){n(HO(e.currentTarget.value))}}),(0,NO.jsx)("br",{}),(0,NO.jsx)(lo,{type:"text",name:"passTake1",placeholder:"Password",autocomplete:"off",onChange:function(e){n(qO(e.currentTarget.value))}}),(0,NO.jsx)("br",{}),(0,NO.jsx)(lo,{type:"text",name:"passTake2",placeholder:"Repeat the password",autocomplete:"off",onChange:function(e){e.currentTarget.value!==i.passwordField1&&console.log("Pass dint match"),n(zO(e.currentTarget.value))}}),(0,NO.jsx)("br",{}),(0,NO.jsx)("button",{className:KO.registrationButton,onClick:function(){d(2)},type:"button",children:"Next Step"})]}):(0,NO.jsxs)("section",{className:KO.registrationStep2,children:[(0,NO.jsx)("label",{htmlFor:"AvatarSelector",children:(0,NO.jsx)("div",{className:KO.avatarPicker,children:(0,NO.jsx)("label",{htmlFor:"file_input",children:i.avatar?(0,NO.jsx)("img",{className:KO.registrationAvatar,src:r,alt:"#"}):(0,NO.jsx)("img",{className:KO.regAvatarIcon,src:GO,alt:"#"})})})}),(0,NO.jsx)("input",{className:KO.login_forms,type:"file",id:"file_input",style:{display:"none"},placeholder:"avatar",accept:"image/*",onChange:function(e){var t=e.target,r=new FileReader;o(e.target.files[0]),t.files.length?(r.readAsDataURL(t.files[0]),r.onload=function(e){n(QO(r.result))}):console.log("ERROR")}}),(0,NO.jsx)(lo,{type:"text",name:"status",placeholder:"Set your status",onInput:function(e){n(WO(e.currentTarget.value))},autocomplete:"off",className:KO.regUserStatus}),(0,NO.jsx)("button",{type:"submit",className:KO.registrationButton,children:"Create Acount"})]})})})]})})})),nL=(yA(FA()),{getAllPosts:function(){var e=ss(as().mark((function e(){var t,n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=tR(NP,"Posts"),n=[],e.next=5,AP(t);case 5:if((r=e.sent).empty){e.next=11;break}return e.next=9,r.forEach((function(e){n.push(e.data())}));case 9:e.next=12;break;case 11:throw new Error("Cant load posts");case 12:return e.abrupt("return",n);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),getPostSinglePostByPostID:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=nR(NP,"Posts/"+t),e.next=4,gP(n);case 4:return r=e.sent,e.abrupt("return",r.data());case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getPostsByUserID:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=nP(tR(NP,"Posts"),iP("creatorID","==",t)),r=[],e.next=5,AP(n);case 5:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),addPost:function(){var e=ss(as().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=tO(12),e.next=4,tR(NP,"Posts");case 4:return s=e.sent,e.next=7,nR(s);case 7:return u=e.sent,c=YD(xP),l=GD(c,o),e.next=12,WD(l,i);case 12:return e.next=14,KD(l);case 14:return f=e.sent,h={postIMG:f,likesCount:[],creator:t,creatorID:n,postText:r,id:u.id,createdAt:gE.fromDate(new Date).toDate().toString(),coments:[],creatorAvatar:a},e.next=18,kP(u,h);case 18:return e.abrupt("return",u.id);case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),toggleLikesAtPost:function(){var e=ss(as().mark((function e(t,n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=nR(NP,"Posts/"+t),e.next=4,gP(r);case 4:if(!(i=e.sent).exists()){e.next=13;break}return console.log(i.data()),e.next=9,i.data();case 9:e.sent,i.data().likesCount.includes(n)?wP(r,{likesCount:SP(n)}):wP(r,{likesCount:CP(n)}),e.next=14;break;case 13:console.log("Post does not exist");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),deletePostByID:function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{bP(nR(NP,"Posts/"+t))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addComentToPost:function(){var e=ss(as().mark((function e(t,n,r,i,a){var o,s,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o=tR(NP,"Coments/"),s=nR(o),u={comentatorName:r,comentatorID:i,coment_text:a,avatar:t,createdAt:gE.fromDate(new Date).toDate().toString(),comentID:s.id,postID:n},kP(s,u)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),deleteComentByID:function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=nR(NP,"Coments/"+t),e.next=4,bP(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getComents:function(){var e=ss(as().mark((function e(t){var n,r,i,a;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=tR(NP,"Coments"),e.next=4,nP(n,iP("postID","==",t));case 4:return r=e.sent,i=[],e.next=8,AP(r);case 8:if((a=e.sent).empty){e.next=14;break}return e.next=12,a.forEach((function(e){i.push(e.data())}));case 12:e.next=15;break;case 14:console.log("Empty");case 15:return e.abrupt("return",i);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()}),rL="messenger/posts_reducer/get_post",iL="messenger/posts_reducer/set_showed_post",aL="messenger/posts_reducer/like",oL="messenger/posts_reducer/dislike",sL="insta-clone/postReducer/setIsOnNewPost",uL="insta-clone/postReducer/setNewPostPhoto",cL="insta-clone/postReducer/setNewPostText",lL="insta-clone/postReducer/createPost",fL={posts:[],newPost:null,currentPost:null,isOnNewPost:!1,newPostPhoto:null,newPostText:""},hL=function(e){return{type:"messenger/posts_reducer/get_post",payload:e}},dL=function(e){return{type:"messenger/posts_reducer/set_showed_post",payload:e}},pL=function(e){return{type:"messenger/posts_reducer/like",payload:e}},vL=function(e){return{type:"messenger/posts_reducer/dislike",payload:e}},yL=function(e){return{type:"insta-clone/postReducer/setIsOnNewPost",payload:e}},gL=function(e){return{type:"insta-clone/postReducer/setNewPostPhoto",payload:e}},mL=function(e){return{type:"insta-clone/postReducer/setNewPostText",payload:e}},AL={newPostContainer:"NewPostModal_newPostContainer__BTGIJ",newPostModal:"NewPostModal_newPostModal__8UqHC",imgContainer:"NewPostModal_imgContainer__Me9m9",step2:"NewPostModal_step2__F8vXX",showNext:"NewPostModal_showNext__g6HY-",next:"NewPostModal_next__-cK41",disableNext:"NewPostModal_disableNext__ZYSJi",imgIcon:"NewPostModal_imgIcon__JS6ok",newPostIMG:"NewPostModal_newPostIMG__JUQjo",stepBack:"NewPostModal_stepBack__6F+hb",publish:"NewPostModal_publish__izdir",cancelNewPost:"NewPostModal_cancelNewPost__wM2-d",Next:"NewPostModal_Next__-zLWU",transform:"NewPostModal_transform__vakR4"},kL=e.memo((function(t){No((function(e){return e.app.is_fetch}));var n=rs(),r=Se(),i=(Se(),u((0,e.useState)(1),2)),a=i[0],o=i[1],s=No((function(e){return e.app.onLoad})),c=No((function(e){return e.userPosts.newPostPhoto})),l=No((function(e){return e.userPosts.newPostText})),f=No((function(e){return e.account})),h=u((0,e.useState)(null),2),d=h[0],p=h[1];return(0,NO.jsx)("section",{className:AL.newPostContainer,children:(0,NO.jsxs)("div",{className:AL.newPostModal,children:[(0,NO.jsx)(ao,{enableReinitialize:!0,onSubmit:function(e){var t,i,a,o,s;n((t=f.avatar,i=f.userID,a=e.file,o=e.post_text,e.post_tag,s=f.fullName,f.userID,function(){var e=ss(as().mark((function e(n){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n(wO.set_is_fetch_true()),null===a||void 0===a){e.next=10;break}return n(wO.setOnLoad(!0)),e.next=6,nL.addPost(s,i,o,a,t);case 6:e.sent&&(n(wO.set_is_fetch_fasle()),n(gL(null)),n(wO.setOnLoad(!1))),e.next=11;break;case 10:throw new Error("Post image is null.Cant upload the post");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),r("/profile/id=".concat(f.userID))},initialValues:{post_text:"",post_img:c,post_tag:"",file:d},children:(0,NO.jsx)(fo,{children:1===a?(0,NO.jsxs)("div",{children:[(0,NO.jsxs)("label",{htmlFor:"file_input",children:[(0,NO.jsx)("div",{className:AL.imgContainer}),c?(0,NO.jsx)("img",{className:AL.newPostIMG,src:c,alt:"#"}):(0,NO.jsxs)("div",{className:AL.selectPhoto,children:[(0,NO.jsx)("h1",{children:"Select photo from galery"}),(0,NO.jsx)("img",{className:AL.imgIcon,src:GO,alt:"#"})]})]}),(0,NO.jsx)("br",{}),(0,NO.jsx)("input",{type:"file",id:"file_input",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target,r=new FileReader;p(e.target.files[0]),t.files.length?(r.readAsDataURL(t.files[0]),r.onload=function(e){n(wO.setOnLoad(!0)),n(gL(r.result)),n(wO.setOnLoad(!1))}):console.log("ERROR")}}),(0,NO.jsx)("button",{onClick:function(){o(2)},disabled:!c,className:AL.Next,children:"Next\t>>"})]}):(0,NO.jsxs)("div",{className:AL.step2,children:[(0,NO.jsx)("h1",{children:"Come up with a signature"}),(0,NO.jsx)(lo,{type:"text",name:"post_text",className:AL.textInput,autocomplete:"off",onKeyUp:function(e){console.log(e.key),n(mL(e.key))}}),(0,NO.jsx)("h1",{children:"Add tags to your post"}),(0,NO.jsx)(lo,{type:"text",name:"post_tag",autocomplete:"off",className:AL.textInput}),(0,NO.jsx)("br",{}),(0,NO.jsx)("button",{type:"submit",className:AL.publish,disabled:s||null===c||l.length<1,children:"Publish"}),(0,NO.jsx)("br",{}),(0,NO.jsx)("h2",{onClick:function(){o(1)},className:AL.stepBack,children:"<<\tBack"})]})})}),(0,NO.jsx)("button",{className:AL.cancelNewPost,onClick:function(){n(yL(!1)),n(gL(null)),r("/profile/id=".concat(f.userID))},children:"Cancel"})]})})})),wL="OpenPost_postWrapper__t21WA",bL="OpenPost_coments__2IuDT",_L="OpenPost_postIMGContainer__tX1KW",EL="OpenPost_controls__noEqu",CL="OpenPost_likesCount__xYn6E",SL="OpenPost_likeIcon__6A8eD",IL="OpenPost_deletePost__pjGfF",xL="OpenPost_postIMG__TMb8P",TL="OpenPost_postInfo__wwp6+",NL="OpenPost_name__KQSZr",RL="OpenPost_creatorInfo__wLJWI",PL="OpenPost_autorName__IB+58",DL="OpenPost_saveToTheGaleryButton__4fHe6",OL="OpenPost_comentIcon__Y0K3Y",LL="Avatar_defaultAvatarLarge__sbFno",ML="Avatar_defaultAvatarSmall__+YQOn",UL="Avatar_avatarLarge__mRPJz",FL="Avatar_avatarSmall__iho6Y",BL=e.memo((function(e){var t=rs(),n=function(n){var r=new FileReader;n.target.files.length?(r.readAsDataURL(n.target.files[0]),r.onload=function(){var i;t(dO(n.target.files[0],e.userID)),t(fO(null===(i=r.result)||void 0===i?void 0:i.toString()))}):console.log("ERROR")};if(null===e.avatarIMG||void 0===e.avatarIMG){var r,i=null===(r=e.fullName)||void 0===r?void 0:r.charAt(0).toUpperCase();return(0,NO.jsxs)("div",{className:"large"===e.size?LL:ML,children:[(0,NO.jsx)("label",{htmlFor:"avatarInput",children:(0,NO.jsx)("span",{children:i})}),(0,NO.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:n,id:"avatarInput",style:{display:"none"}})]})}return(0,NO.jsxs)("div",{className:"large"===e.size?UL:FL,children:[(0,NO.jsx)("label",{htmlFor:"avatarInputImg",children:(0,NO.jsx)("img",{src:e.avatarIMG,alt:"#"})}),(0,NO.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:n,id:"avatarInputImg",style:{display:"none"}})]})})),jL=n.p+"static/media/6.865b752f64bfb5e2345f.gif",VL="Preloader_loader__KmDZK",qL="Preloader_lineLoader__4oFJo",zL=function(){return(0,NO.jsx)(NO.Fragment,{children:(0,NO.jsx)("img",{src:jL,alt:"#",className:VL})})},QL="insta-clone/comentReducer/getComents",HL="insta-clone/comentReducer/addComent",WL="insta-clone/comentReducer/deleteComent",KL="insta-clone/comentReducer/setNewComent",GL={coments:[],newComentText:""},YL=function(e){return{type:"insta-clone/comentReducer/getComents",payload:e}},JL=function(e){return{type:"insta-clone/comentReducer/deleteComent",payload:e}},XL=function(e){return{type:"insta-clone/comentReducer/addComent",payload:e}},ZL=function(e){return{type:"insta-clone/comentReducer/setNewComent",payload:e}},$L={singleComentWrapper:"SingleComent_singleComentWrapper__2ghPh",coment:"SingleComent_coment__rdxKz",singleComentDelete:"SingleComent_singleComentDelete__T3F6m",delete:"SingleComent_delete__86i0n",avatar:"SingleComent_avatar__fhA0Z",deleteComent:"SingleComent_deleteComent__YkiTL"},eM=e.memo((function(t){var n,r,i,a,o=rs(),s=u((0,e.useState)(!1),2),c=s[0];s[1];return(0,NO.jsxs)("div",{className:c?$L.singleComentDelete:$L.singleComentWrapper,children:[(0,NO.jsx)("img",{className:$L.avatar,src:t.coment.avatar}),(0,NO.jsx)("span",{children:(null===(r=t.coment)||void 0===r?void 0:r.comentatorName)+"\t:\t"}),(0,NO.jsx)("br",{}),(0,NO.jsx)("span",{className:$L.comentText,children:null===(i=t.coment)||void 0===i?void 0:i.coment_text}),(0,NO.jsx)("br",{}),(null===(a=t.coment)||void 0===a?void 0:a.comentatorID)===t.currentUserID?(0,NO.jsx)("span",{className:$L.deleteComent,onClick:function(){var e,n;o((n=null===(e=t.coment)||void 0===e?void 0:e.comentID,function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(wO.set_is_fetch_true()),nL.deleteComentByID(n),t(JL(n)),t(wO.set_is_fetch_fasle());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"Delete coment"}):null]},null===(n=t.coment)||void 0===n?void 0:n.comentID)})),tM=e.memo((function(t){var n=Se(),r=rs(),i=No((function(e){return e.account.userID})),a=Ce().pathname.split("=")[1];(0,e.useEffect)((function(){var e;r((e=a,function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wO.set_is_fetch_true()),t.next=3,nL.getPostSinglePostByPostID(e);case 3:r=t.sent,n(dL(r)),n(wO.set_is_fetch_fasle());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),r(function(e){return function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wO.set_is_fetch_true()),t.next=3,nL.getComents(e);case 3:(r=t.sent)?(n(YL(r)),n(wO.set_is_fetch_fasle())):n(wO.set_is_fetch_fasle());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}),[]);var o,s=No((function(e){return e.userPage})),u=No((function(e){return e.userPosts.currentPost})),c=No((function(e){return e.coments.coments})),l=function(){n("coments")};return u?(0,NO.jsxs)("section",{className:wL,children:[(0,NO.jsx)("div",{className:RL,children:(0,NO.jsxs)(Je,{to:"/profile/id:=".concat(u.creatorID),children:[(0,NO.jsx)(BL,{avatarIMG:s.avatar,fullName:s.fullName,size:"small"}),(0,NO.jsx)("h1",{className:PL,children:null===u||void 0===u?void 0:u.creator})]})}),(0,NO.jsxs)("div",{className:TL,children:[(0,NO.jsx)("span",{className:NL,children:u.creator+"\t:\t"}),(0,NO.jsx)("span",{children:null===u||void 0===u?void 0:u.postText})]}),(0,NO.jsx)("div",{className:_L,children:(0,NO.jsx)("img",{className:xL,src:u.postIMG,alt:""})}),(0,NO.jsxs)("section",{className:EL,children:[(0,NO.jsx)("img",{src:u.likesCount.includes(i)?"data:image/png;base64,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":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAESwAABEsBbzH2CgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA0hSURBVHic7Z17sF3TGcB/3yEuSUSQILkRlXiEpPEIFRENg1A0YerVF2NaOqjWtKM6KtUOSsOUNqraomhRj2ojD4qqkohGhdJkNIiEJCQRhMpD3Pv1j2/fOLnZe+29z9n77HPPWb+ZPbk5e+21vu9b315r7fUUVcXTvJSKFsBTLN4BmhzvAE2Od4AmxztAk+MdoMnxDtDkeAdocrwDNDneAZqczWudoIi0AvsD/cqu/mV/9wSWAUuBN4Or/O+5qrq81nInQUS2AfbG9GkN/i3/ux/wP8L1ehOYo6pLaipzLcYCRGQoMB44ATgAkCqiaweeBO4B7lfVt6qXsHJEpBem2ynAWGCLKqJT4F/AX4DJqjq3egnd5OYAIjIKOBHL9N1ySaQgZxCRnsA4LNOPAVpySuoVzBn+rKpP5ZKCqmZ6AaOAGZg31/JqAx4GhmetU5luuwJ3AmsK0G8GMCpznTI0zp7A/QUYpvP1MXAtsHWGum0J/BBYXQf63Q/sWTcOAOwE3AisrwPjlF9LgdMy0O84rCguWp/ya31g852q1a+qNoCInA7cAPSoMIp1bNwKXgp8iLWadw6uAVTXsPobcJ6q/jfNQyKyK3AdVtdXwnpgCfAG8Hrw77vA9kDfsqsPsAuVfZF9CJyrqrdXKGNlJQDWfzCR9J77HlaHngL0SZiWYKXMgcDJwN2Y46RJdx3w7RT6fYP0xf16zNm+BQwGSinS2wY4CbgFexHS2nVimvSqqgKAXsC0FMItw0qJsUC3aousQIbtgQuA/6Q01IQEcV+UIr6PsC+QLwPbZqSbYP0klwIrUsgyDeiVqwMEnj03oUDvAxOAHlkYxiHTSOAm4IOEcl3liOuyhHG0A3cBg3PWrSdwCVZ1JJFrblqZ0ggzGliZ8K2YBPTN0zgh8u1A8pJpEkEfSNlbd13CZx8G9q+xbr2BKxI6+UpgdKYOgHXkJMn8aXm/FQlk/SbJvtNvxtoypaAEiQu/CDiyYN36AlMSOsFumTgAVufPS5Do5eVvVcGGGgr8O4HMdwVXXLiZwA5F6xXoVsL6OeJknkeCNkGSxKbHJLSaDL63czBUS2Co9gTGcl23Ay1F6xOi3zlYp5dL9unEfB3EJXJNTAKLgRFFGyNGh9MqdII24PtFyx+j29HAqhg9rqnIAYAzYiJ+A2gt2ggJDXVxBQ5wRtFyJ9RtKLCwUl2iIm3F3RGyut7f/BCdfp8i868uWt6Uuu0MvBOTX6Eva1SEca3iU4tWugIjtWCNubjMfwjYrGh5K9Dv5Bi9bkrkANiMFlfj4rKila3CSH2B1xy6zQd6Fy1nFfr9zqHbx8DeSRzgAUckU6iTT70qjDSM8IbTKmCvouWrUreeuEcuH3A6AHCo4+F1wK5FK5mRoUYCy8t0W0yK3rN6voCDcA/NH+pygFmOB68tWrmMDdUCHAkcBmxRtDwZ63aJIx9nlYfdMB9ARMYAjxPOKqyLd2XEfU8dISKbYV3XrRFBDlPVf8DG6wJOcMT5U5/5XQdVbQNudQTZkNflJcCrwKCQwG8Bg1R1TYYyenJGRAZhDcKwKfgLVHUwBCWAiAwjPPMB7vWZ3/VQ1QXA3yNuDwryfEMVMN4R1+QsBfPUlJsd98ZDUAWIyD+Bz4QEWoVN7Fifh3SefBGRLbGJttuG3J6tqgeVRKQ/NuEyjOk+87suqroWuCPi9oEi0r8EjCB6rZ4v/rs+T0T8LsCIErZqNYrHspfHU2MWOu71dznAWlVdkb08nhrzmuOe0wGW5iCMp8ao6tvYngRh9C8R3V1Y040KPLmyMOL3Vl8CNAdR1YCzCvAlQOOwMOL3/iVs3n8Y7+cji6cA3on4vVcJW40aRr+chPHUnp0ifn+zhM2GCWNATsJ4ak9kQ79EdF0f9ZCn6+F0AF8CND5ReeksAfqIyNY5CeSpESLSHduGJowlJWyJVxRHZC+Sp8YcTvRg3+ISNlrUHhHg2FxE8tQSVx7OLKntuzu7goc9XYOoPHxeVRd3TAmbGhGoVUT2zUEoTw0Qkb2AT0XcngqfzAmc4ojn+Axl8tSW4xz3psLG08IXAQNDAi7C9pv5OHPxPLkhIoJtEzMk5PZybJdRLV8YElUN7ILtsuHpWowjPPMBpmnw5pc7wG2OyC7MSipPzfie495dHX9scABVnY1tdRrGcBH5XEaCeXJGRA7Btu0PY46qPtLxn85nBl3piPeiagXz1AzX239V+X822S3csUgE4POqGtVW8NQBInIwthVOWO/fy8AQVd3Q8Rd2apirFLheRCrdGt6TMyKyOfBrort+J5ZnPoQ7wGTs8yGMXYAfVSqgJ3cuAD4dcW8ptunlRmziAMHnwaWuRERkeEXieXJDRAbifjknqupHmzzXuQ1QFuE0ovuRn8YOMAp/2FNzRGQy0aebPA8cGNaZ5zo59FzsSJIwRuL7BuoGEfki0ZnfDpwd1ZMb6QCqugg7KSuKK0RkdGIpPbkgIrtjDb8oJqnqM5HPu0rxYLOh2dgRJmEsAfbzawiLIVj//zSwT0SQN7DNIaOWhrkPjw42GzoL2zk7jFbgDyLiD6Euhp8Tnflgp6VFZj4kOD1cVedg28ZHMRb4QVw8nmwJ6v2zHUHuUVXXML/Fk6QhH3QwPAqMiQjSDpyoqg/ERuapGhHZBztKtmdEkFeAA1R1VWxcSb/kRGRH4DmiVwytBg4PBpU8OSEiA7B6P2qu/xpgpKq+kCS+xHW3qi7DDnyMmhjSHZgS7E/nyQER2QZ4EPeinXOSZj6kcAAAVZ2B+/t/B+BBEdk+TbyeeESkG3Zw9DBHsN+oqmtex6bxVtKZJyJ3Y6VBFE8BRwS7VHkyQERuB77qCPIscIiqrksTb6Wfb1/D2gNRjMKqAz9yWCViTMKd+cuBk9JmPlRYAgSC7YiNOw92BJsJHKuqfq+BCgj6V24CznQE+wBrfD9bSRoVd+AEjcKjscOhozgEeMy3CdITfHrfiTvzP8I+vyvKfKjCAQBU9VVsxPADR7ARwOMiErVJgacTItIC/Ak41RGsHfiKqkbN40xE1V24QU/hiZg3RjEMeEJEdq42vUYnWM07lejRvQ7OV9V7q04ww2NKTsHGDFxHly2k4MOl6/nC9mt6MsaGCvw4szQzVuBLWEngEn4pIceXNfsFbAc8kyDzr8w03RwUORabSOJSYgU2jFy44evhAnYEXoyxWTvw3azTrvgz0EWwMGEq0NsR7D3sE3FW5gJ0IYJ20aPAHo5gbcDXVfXWrNPPZRxfVWdiI4dvOYL1Bh4VEVePYkMTLL2fgTvz1wJfyCPzgeyrgE5F22BgAfH12k+IOee+0S5swW1cVbkKGJOrHDVQtB/wQgInmAr0KjpjamCPErY8K84ey4D985YnlzZAZ0RkW2AacHBM0JeA8ao6P3ehCkBEemMrc4+JCboIOEpVX85bpprM5VPVd7FjWh+KCToEmN2IK5GD7VpmE5/587BRvdwzH8i/CuhU/HUD/kh88dcGXFR0cZ2h3uOwzbfj9H4a2K6mshVgjBJwQwJjKFZcblV0Blahq2BrK9oT6PpXoEfNZSzQOBcT33WswBxgYNGZWYF+PbEBnSSOfhsFnWBetJGOwnoF4wy0AhhXdKam0Gs4MDeBXuuwOXzFyVoHxhqINY6SvCk31HOVEBT5F2CdN3G6vA4cVLjMRQsQGK4FuDGhE8wD9i1a5hAd+gX1eBIdHgb6FC1z3ThAmRHPwNYXJCk6v0Mwpa3oC2vlJ6nK2oHLqaNez8IFCDHmvsCrKd6kfgXK2j1FyfUucHzR9q17BwgM2xvrGk5i2EIaiNiK6ZcSyvgcMKhou3YZBwgMLMAEkn0qdjQQu9dArhK2DVvcxJeO6xZgy6Lt2eUcoMzgY4G3Exp7AXB0jrIMx3rrksiyFjiraPt1eQcIDD8AeCSh4RW4A+ibYfo9gKuB9QnTf5EuMuOpcAFSZIIA5xE/ht5xrQTOzCDd47HJrEnSbMOGeluKtlfDOUBZhuwOzEpRGjwG7F5BOv2B+1KkMx84uGj7NLwDBJmzGTaWsC5h5qzBdjHpliDuEnA+yUbvFPu2/wU1aIB6B9g0s/Yh2Wyj8ro58i0F9iPZ1OyOayG2Lq9wWzSlAwSZtkVQ7yb9XGwDfknZ9DNs5O5n2OYXSTP/t8DWRetf7VWTKWG1QERGYXvhulYrl7MEK+rbgUlA0mVrS7HPu+mphaxDGsYBAERkK6yuvxArGbKkDfgVMEFV38s47sJoKAfoQET2AK7H5htkwVPYnnvPZxRf3dCQGzyq6nxVHYstWI06GzkJy7H1+aMbMfOhQR2gA7Xl00OwjS7THHvXhpUge6rqrdqIxWRAQ1YBYYjIUGzA6LMxQRu2uA+joUuAclR1rqqOAU4nfFubhi/uw2iaEqCcYMPFC4GTgp/uA65ppNZ9UprSATyf0DRVgCcc7wBNjneAJsc7QJPjHaDJ8Q7Q5HgHaHK8AzQ53gGaHO8ATc7/Afi/juqqX3DoAAAAAElFTkSuQmCC",alt:"#",className:SL,onClick:function(){var e;r(function(e,t){return function(){var n=ss(as().mark((function n(r){return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(wO.set_is_fetch_true()),n.prev=1,n.next=4,nL.toggleLikesAtPost(e,t);case 4:r(wO.set_is_fetch_fasle()),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}(u.id,i)),null!==(e=u.likesCount)&&void 0!==e&&e.includes(i)?(console.log("CONTAINS"),r(vL(i))):(console.log("NOT CONTAINS"),r(pL(i)))}}),(0,NO.jsx)("img",{src:"data:image/png;base64,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",alt:"#",className:OL,onClick:l}),(0,NO.jsx)("span",{className:CL,onClick:l,children:(null===(o=u.likesCount)||void 0===o?void 0:o.length)+"\t likes"}),i===u.creatorID?(0,NO.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA9TSURBVHic7Z17cFzVfcc/v3NXr135AQ5gCAHbhDLY4JrIksAPEJL8ShNwphFuDGnSkEna0KEhTGAGMqkIM4U8SFNoOykkmZQQGiChpZD4JcsbwA9JFm0wLtNix04hGKjll7Sr1+799Q9JRra00r7uPVfe/cx4xnt37/l9V+e755x7nsIZhoL0N1bPTarMd4W5oswRuEiVc4BZCLMQylFKgcjwbTGEAZQ+lC6gSwzvqfKmCgcN/NZBXy9r6TggoPa+Xf4R2wJyJV5/zQeTJrFU1CxVtFrgCmCaR+G6FfYI2qEq241Tsj2yZfvbHsXyhSlnAK2rK485sTowa0BXA39gWdJ/I7oBZGOk5EhUNuzrt6wnI6aEAbRpQWn8SGSlCjeh3AhMt60pBceB50R4Onw0uVk6OwdtC5qMQBvg+IraSx3VW1E+C5xnW0+GvAvylLruo9O2dey1LSYVgTTAicbaZUb1buCPCKjGTBCV7eB+M9za8ULQGpGB+eMqSG99zVpX+DqwyLYeb9BXRMw3wi1t/x4UIwTCALH6xWvUmPtRqmxr8YndCF+rbGnfZFuIVQOcuH7xZcaYhxgq6gsQaVEnece0zbtfs6bARlD9eFU4FnfuB24HQjY0BIhB4G8jcadZdu7s9Tu47wboaaxuVJV/Epjnd+wgI8I+1+WL01rbW32N61cgrasrj4XizShfBYxfcacYquhjlWH3Dnm+M+5HQF8M0NNQuxD0SWCBH/GmPrpHXT7lR/+B57/EnvqaT4HuoJj5GSBXipGOnoaaz3geyauEtanJiR09+B1UvuxVjMJAHoosb7tLmnE9Sd2LRLVpQWmsK/IThJu8SL/QUPjXymR4vUSjfflOO+8GeK+urjIciv8CZWW+0y5wtvWXytpZG9pO5DPRvBqgp6H2PHB/BfKRfKZbZBihU03oo9M273gvf0nmid66q+e4IXeLKh/OV5pFxuUNJ2lWVkR3HcxHYnkxQPeaq86RgZKXgMvykV6RiRHYr0ldVhnteCfXtHJ+DOxaUztdBkIbKWa+byhcgiObjtYtmplrWjkZQJsWlJYNuD8v1vlWWFjilD6raz5clksiWRtAmzHxo5EnQFbkIqBITlzfM3D2z7Spyck2gaxH4mIvVz+E0pTt/blg5l5CqK4RmXm2jfBj0GNHSGxrwT243/fYAmtjR373N8DdWd6fOT2NNetRfprNvblSsu7TlH7+SyABG09Sl4HH/p7Bp638WVREPhFpaXsu0xszNsDwwM5OIJzpvbniLK6l/IG/AwnERKaxqNJ39+0kX2m3Eb3LOHpVeHPHm5nclNHPSOvqysF9AguZD1BywyeDm/kAIpTc8Me2os9yXXlGq6pKMrkpIwPEQ/Fvg1yZma78IRdcaCt02siFH7IXXKmNneXcn8ktaRtgaCYPt2WuKn/o0S6b4dNCuyxrVO7qXlF9XbofT8sA+vGqsKh8H8uTSBNbrU+inZREq3WNIq78Y7pVQVoGiMWd+xUuyU1X7iQ2/ZJEdIttGSlJbNtCYvOvbMsAmB87y0lrHsakv+juxqsvF3V/A2TUuPAMMYRWrCFUvxI5bzYSsitLE4PoO4dItG4i0bIRNBDrPQDijobmV7Tu+N1EH5rUAD0NNRuA1XmTVcQ3BH4e2do+YWfdhAaI1S9eo2ICUaYVyRKjjZVbOramfDvVGwqiYu7zRlURv1BXvjHR+ykN0FtfsxaozruiIr4isOREQ83yVO+nNMDwKt0iZwBG+FrK98a72NNY3cgZu0S7AFFWxhqqxy3Nxx8OVrnTU0GjKSuj7Pa7CF3XAOUVvoW1ifb2kvz1Vvof+Rb0+7OlkIvcA3zi9OtjSoDjK2ovBVb5IQqg5KZbCK36WMFkPoBUVBBa/TFKPrnev5hw47H6qjGdeWMM4Lj6eXzs8nUum+9XqMDhXH6Fn+HEEedzp188xQDD/cd/6pskhnrSChUd9Pe7C3zu9DGCUwwQn2FWA7N9VdXd7Wu4QNGd10U+6TA7NtM0jL5wagkgxve1fFrABtAeG9/drDvl1ch/hmb76A1+y9FY0QA+R12rTQtKR16dNMDQ9qsWduC08kcICD09NqLOjB0NXzvyYlQVYNbYUFPYVYDvbYDhwObk6O4oA6gdAxR0FWClBGB0XodgaMt1l+SlVqRkUwIkkyR2voi+cwhn/pWY+ZnPU9WuwyR3vAgiOEuWI2d/IHMZe1/Fff01zOwLcJZcCyaztQp22gAAzI+tqjo/sqnzUAggKYllYmu6X6YGSCbp++pfknz1lZOXSj/7BUpuuTXtJNz9b9B3xxfQ+NBGXPLoI5R/71HMvPRXtg8+/gMGHn/s5GtnURXl33wEnAxWaVms/txkaAnwCwMgmCW2hGRaBSR37zol8wEGfvLDjPrUB5/88cnMB9B4jMEnf5y+iP4+Bn76o1N1/Wcnyd1t6aeB3epPXF0Kw20ARa2N+2daDLpvjjPFLZnEffut9NN463/TSzfV/W//HpLJcdI4mHYaYLUKQJAaAKPNGAPWFnswMJDZiJibYrMsd2yGpE5jnM/mej+k1jYe/X1D390SKnqFgpgT0WvmKVRaU0JhPgnYewI4yYy++iUXmZBJXG5bSSH2Baj/4wBjcBmYb1xhrm0hQfhj+I3N+n8E18gcI8jFtoUQs14c+k8ADCAqc43ARbaFFGQJEIRqT7nYKJxrXYf9BpHvBKLhK5xjgFm2dWBrUMQmQSgBYJYBrO+0VJAlQADaAAwbwMp2L6OxNixqkUAYQAgboHTSD3pMsQSwJYKyQBjAwuRI+wSjDVAWiM32CrIECMJTAEOjgfZGJIYpyDZAMEqA/kAYwNLkSLsEoQ0g9BvQmG0dGo9lNpQ61XFdtNeXYwEnRokZVI7Y1oEqWkDjAdrTHZTNpLoMoodtq4DCGg8ISP0PymEjSCAMUFDtgIA8AQBdRmHsBDkLFNKTQGBKAOGgUeGgbR1QWH0BgegFBFT0oDHKAdtCgMIaEQyIAUQ5YBzR/7ItBAJULPpAUBq8xmGvKWvpOABYVxSUYtEPAlLdHa/Y3PGWkaEn0tdsqymkp4AgjAMI7BHQ4aVh2mFbUCE9BQRhJFCRNhhZGqay3a6cwBSLvhCE6s6obodhAxinJAAGKJwSIAgGcF3dCcMGiGzZ/jbwP1YVBaBY9A37TwF7Rw6eHr1DyAZbaiAYvwq/sF7dyft5/b4BRCwboIDaALZHPoWNI/89aYBIyZEocNyGHgASg9DXay28X2hv79B3tcexyMz4SyMvThpANuzrBzI+ezafFEQpYL+qe1ae2XtyFtgpk0JFeNp/Pe9TCE8C1ts6Kk+NfnmKAcKJ8CbgkK+CRlEIJYBlA7wTOZ7YNvrCqSVANJpAeNxfTaOw/3jkPRYfd1X4oXR2ntIAGbMuIJlwfgBYmbBmvXj0AYvVnJagPzr94hgDzIju3Idg5ZGwMAxgrZp7obyl47enXxx3ZZC6POS9nnEohN5ASyZ34dvjXR/XANNa21tBXxnvPS9JZ5hUKlIsZk51fTzCkfSupSJFLEkjDStDwULb9K3tL433Vsq1gSJmwhMnvSCdWUHmykVj9uSV2edjzv9g2nGchVeNvbaoKu37zfkXIOeedrCK4wxpmwQbM58kmfr00JQGiLS0PQfS7o2k8UmnDWDmzKPsK/ci02cMv76E8q8/CJL+Xselt9xKqH7l0L6+jkOoYTWl6/8sfaFiKG9+EDNn3tDLGTMpu/NezMWTb7hmoZ3TEd7WlrJNN+FfraexZhX6fr+x1zgLr6L8u99P+/MajyPhHPa3GBzuECvJfoV8phr6vvLnJF/9j6zjZYoqDUNV+vhMuDy8sqV9E4Jvp4dn+uvIKfNhKONzyPxsNPg7IVSemijzYRIDACQTzl/h0wriQpgZ7GMV0G3UTHoC7KQGmBHduQ/4Xl4kTUYAJkt6jn8GaA637vz9ZB9Ka4eQSNxpFmFf7pomRuNxSCS8DmOPRALt6/Mj0t7IseQj6XwwLQPIzp29rssX8aGL2PpkCQ/RmC/Lwl0X/uL0Pv9UpL1H0HDn0MPZ60qPM7k72I82jsKDqTp9xiOjTaIipUfvBn6TsapMOIMN4PV3U9hVeSzZnMk9GRlANuzrV1dvBjzbVkb/7z2vkraOe9jT73bYSUpTukX/CBlvEzdtW8deo3waj9oDgxueC8r2KflFlcQvPZtxp+KaW8PRtvQPThom67PiehpqvwM66XNmNjgLP4KzrA4pK/Mied/R/n6SL2/zsAdQH6jc2nFPNndmbQBtxsReqn0SdN3kny7iHfqzyPKOm6WZrLZZy+m0SK2qKonNdJ4HVuWSTpGsaY2UHvno8IzurMhpq1jp7Bzs7StpQujMJZ0iWbE7ngzfmEvmQ44lwAgn6qo+YBznZeCyfKRXZGIE9iuytHJr27u5ppWXzaKnRzsPO0mzGngjH+kVmZA3jIYa8pH5kCcDAFREdx104RqFXflKs8gYdqsTWlbRuiP9c24nIa/bxU/f2t7VmwyvADblM90iALT2l0rDtM078tqb5MmZ8dq0oDR2JPzPIH/iRfqFhqg8G3YrbpZoNO9DiZ4cGCHP7B2ILO+4GfgWlhaZnCEo6APha9uavMh88KgEGE1PY3UjKk8A53kd6wzjsLjymci2Nk+n5HluAIB4Xe2F6ui/KCzzI97UR9qdpKyriO466HUkX84MCkfb3gonw9ercB9k12VZICjIw5FjiWV+ZD74VAKMpntF9XXiyj8AC/yOHWx0j4vclslkjnzg+6lh07Z0/DqSDC8C+TJwBs/+SJu4CvdFzo4v9jvzwUIJMJrYiqUXqA4+yND8gkLkBUeSt1W0dFo7s8GqAUboWVHdgCt/DSy3rcUPFHah3DvZog0/CIQBRuiur75WRO7hjB1elnZxuc/rR7tMCJQBRui5vuYPcbgTZT3g2NaTIwqyVdR9ONLa8bxtMacTSAOMEF9Z/SE3IesRvgRcZFtPhhxCeDzhJh+b2dq537aYVATaACNoXV0o5sQawawDXQvMtK1pXISjoP8G8lQkEd4q0WjglzlNCQOMZmigqfI60NXAamC+ZUl7QTYi7sbIWfEXR2/COBWYcgY4nZ666tkaMkvF1aWC1KjoFcAMj8IdF9ijSocafVnUbM/XxAxbTHkDjEdv3dVzXJO43BWZK8gckItAzwVmAbMQwighYNrwLd0ICZQ40DX0T98FeVNFD4hywNGS1/M5ESMo/D/CHqo1UCdSGwAAAABJRU5ErkJggg==",alt:"#",className:IL,onClick:function(){var e;r((e=u.id,function(){var t=ss(as().mark((function t(n){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wO.set_is_fetch_true()),t.next=3,nL.deletePostByID(e);case 3:n(wO.set_is_fetch_fasle());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),n("/profile/id=".concat(i))}}):null,(0,NO.jsx)("figure",{className:DL,children:(0,NO.jsx)("img",{src:"data:image/png;base64,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"})})]}),(0,NO.jsx)("section",{className:bL,children:c.length>0?c.map((function(e){return(0,NO.jsx)(eM,{coment:e,currentUserID:i},e.comentID)})):(0,NO.jsx)("h1",{children:"There are no Coments"})})]}):(0,NO.jsx)(NO.Fragment,{children:(0,NO.jsx)(zL,{})})})),nM=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this)}return g(n,[{key:"getAllUsers",value:function(){var e=ss(as().mark((function e(){var t,n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wA(gA(this.DatabaseRef,"Users/"));case 2:return e.next=4,e.sent.val();case 4:return t=e.sent,n=yA(this.RealtimeDataBase,"Users/"),e.next=8,wA(PA(n));case 8:return e.sent,e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserPageById",value:function(){var e=ss(as().mark((function e(t){var n,r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yA(this.RealtimeDataBase,"Users/"+t),e.next=3,wA(PA(n));case 3:return e.next=5,e.sent.val();case 5:if(!(r=e.sent)){e.next=9;break}return i={userID:r.userID,fullName:r.fullName,avatar:Object.hasOwn(r,"avatar")?r.avatar:null,followers:Object.hasOwn(r,"followers")?Object.values(r.followers):[],subscribes:Object.hasOwn(r,"subscribers")?Object.values(r.subscribers):[],status:r.status},e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPageByName",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yA(this.RealtimeDataBase,"Users/"),e.next=3,wA(PA(n,NA("fullName/"),(i=t,bm("equalTo","key",a=void 0,!0),new RA(i,a))));case 3:if(!(r=e.sent).exists()){e.next=8;break}return e.abrupt("return",Object.values(r.val()));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}var i,a}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ss(as().mark((function e(t,n,r){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"followUser",value:function(){var e=ss(as().mark((function e(t,n){var r,i,a,o,s,u,c;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wA(gA(this.DatabaseRef,"Users/"+n));case 2:return e.next=4,e.sent;case 4:if(r=e.sent,!Object.hasOwn(r.val(),"followers")||!Object.values(r.val().followers).includes(t)){e.next=13;break}return i={},a=Object.keys(r.val().followers).find((function(e){return r.val().followers[e]===t})),i["Users/"+n+"/followers/"+a]=null,i["Users/"+t+"/subscribers/"+n]=null,e.abrupt("return",kA(yA(this.RealtimeDataBase),i));case 13:return o=yA(this.RealtimeDataBase,"Users/"+n),e.next=16,wA(PA(o));case 16:return s=e.sent,u=mA(gA(yA(this.RealtimeDataBase),"Users"+n+"/followers/")).key,(c={})["Users/"+t+"/subscribers/"+n]=s.val(),c["Users/"+n+"/followers/"+u]=t,e.abrupt("return",kA(yA(this.RealtimeDataBase),c));case 22:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yA(this.RealtimeDataBase,"Users/"+t+"/avatar/"),e.next=3,wA(PA(n));case 3:return e.next=5,e.sent.val();case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yA(this.RealtimeDataBase,"Users/"+t+"/followers");case 3:return n=e.sent,e.next=6,wA(PA(n));case 6:return e.next=8,e.sent.val();case 8:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",null);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowedUsers",value:function(){var e=ss(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=yA(this.RealtimeDataBase,"Users/"+t+"subscribes"),e.next=4,wA(PA(n));case 4:if(!(r=e.sent.val())){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(ZD),rM=new nM,iM="messenger/Users_reducer/get_users",aM="instaClone/UsersReducer/setNewStatus",oM="instaClone/UsersReducer/follow",sM="instaClone/UsersReducer/unfollow",uM="instaClone/profileReducer/updateStatus",cM={fullName:null,avatar:null,status:null,userID:null,subscribes:[],followers:[],followed:!1},lM=function(e){return{type:"messenger/Users_reducer/get_users",payload:e}},fM=function(e){return{type:"instaClone/UsersReducer/setNewStatus",payload:e}},hM=function(e){return{type:"instaClone/UsersReducer/follow",payload:e}},dM=function(e){return{type:"instaClone/UsersReducer/unfollow",payload:e}},pM=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},vM=function(e,t){return function(){var n=ss(as().mark((function n(r){return as().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(wO.set_is_fetch_true()),n.next=3,rM.followUser(e,t);case 3:n.sent,r(wO.set_is_fetch_fasle());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},yM="Posts_postsWrapper__vdSix",gM="Posts_postPreview__-tSaB",mM=e.memo((function(t){var n=Se(),r=rs(),i=Ce().pathname.split("=")[1];No((function(e){}));(0,e.useEffect)((function(){var e;r((e=i,function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wO.set_is_fetch_true()),t.next=3,nL.getPostsByUserID(e);case 3:r=t.sent,n(hL(Object.values(r))),n(wO.set_is_fetch_fasle());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[i]);var a=No((function(e){return e.userPosts.posts}));return(0,NO.jsx)("section",{className:yM,children:a.length>0?a.map((function(e){return(0,NO.jsx)("div",{children:(0,NO.jsx)("img",{src:e.postIMG,className:gM,alt:"",onClick:function(){var t;n("/p/id="+(t=e).id),r(dL(t))}})},e.id)})):null})})),AM={userPageContainer:"UserPage_userPageContainer__Sn2hl",userPageWrapper:"UserPage_userPageWrapper__XOXZL",SELECTOR:"UserPage_SELECTOR__II23W",hr:"UserPage_hr__tVG2m",info:"UserPage_info__34i4v",status:"UserPage_status__OOcKH",fullName:"UserPage_fullName__78ElR",defaultAvatarSmall:"UserPage_defaultAvatarSmall__-Cikl",avatarSmall:"UserPage_avatarSmall__W2y6Z",avatarLarge:"UserPage_avatarLarge__w1bJG",defaultAvatarLarge:"UserPage_defaultAvatarLarge__ZIeIo",input:"UserPage_input__7iQ5d",publications:"UserPage_publications__8+3iO",Follower:"UserPage_Follower__tw5Rr",Followed:"UserPage_Followed__Fzt-P",contrtolButtons:"UserPage_contrtolButtons__MiQbI",btn:"UserPage_btn__UyLV9",transform:"UserPage_transform__1c40W"},kM=function(t){var n=rs(),r=No((function(e){return e.userPage.status})),i=No((function(e){return e.account.userID})),a=u((0,e.useState)(!1),2),o=a[0],s=a[1];return(0,NO.jsx)(NO.Fragment,{children:o?(0,NO.jsx)("div",{className:AM.status,children:(0,NO.jsx)("input",{type:"text",title:"Edit",value:r,onChange:function(e){n(pM(e.currentTarget.value))},onBlur:function(){s(!1),n(pO(i,r))},autoFocus:!0})}):(0,NO.jsx)("span",{className:AM.status,onClick:function(){s(!0)},children:t.status?t.status:"Set status"})})},wM=e.memo((function(){Se();var t,n,r=Ce().pathname.split("=")[1],i=No((function(e){return e.userPosts.posts.length})),a=rs();(0,e.useEffect)((function(){var e;a((e=r,function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wO.set_is_fetch_true()),t.next=3,rM.getUserPageById(e);case 3:(r=t.sent)?(n(lM(r)),n(wO.set_is_fetch_fasle())):n(wO.set_is_fetch_fasle());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),nL.getPostsByUserID(r)}),[r]);var o=No((function(e){return e.app.currentUserID})),s=No((function(e){return e.userPage}));return(0,NO.jsxs)("div",{className:AM.userPageContainr,children:[(0,NO.jsxs)("section",{className:AM.userPageWrapper,children:[(0,NO.jsx)(BL,{avatarIMG:s.avatar,userID:s.userID,fullName:s.fullName,size:"large"}),(0,NO.jsx)("br",{}),(0,NO.jsx)("h1",{className:AM.fullName,children:s.fullName}),(0,NO.jsxs)("div",{className:AM.info,children:[r===o?(0,NO.jsx)(kM,{status:s.status,userID:r,setNewStatus:function(e,t){a(fM(t))}}):(0,NO.jsx)("p",{className:AM.status,children:s.status}),(0,NO.jsxs)("div",{className:AM.publications,children:[(0,NO.jsx)("span",{children:i}),(0,NO.jsx)("br",{}),(0,NO.jsx)("span",{children:"Posts"})]}),(0,NO.jsx)(Je,{to:"./followers",children:(0,NO.jsxs)("div",{className:AM.Follower,children:[(0,NO.jsx)("span",{children:null===(t=s.followers)||void 0===t?void 0:t.length}),(0,NO.jsx)("br",{}),(0,NO.jsx)("span",{children:"Follower"})]})}),(0,NO.jsx)(Je,{to:"./Followed",children:(0,NO.jsxs)("div",{className:AM.Followed,children:[(0,NO.jsx)("span",{children:null===(n=s.subscribes)||void 0===n?void 0:n.length}),(0,NO.jsx)("br",{}),(0,NO.jsx)("span",{children:"Followed"})]})})]}),r!==o?(0,NO.jsx)("button",{className:AM.btn,onClick:function(){var e;null!==(e=s.followers)&&void 0!==e&&e.includes(o)?(a(vM(o,s.userID)),a(dM(o))):(a(vM(o,s.userID)),a(hM(o)))},children:Object.values(s.followers).includes(o)?"Unfollow":"Follow"}):null]}),(0,NO.jsx)("section",{className:AM.SELECTOR,children:(0,NO.jsxs)("ul",{children:[(0,NO.jsx)("li",{children:(0,NO.jsx)("img",{src:GO,alt:""})}),(0,NO.jsx)("li",{children:(0,NO.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAT7SURBVHic7ZxNaB1VGIafeL21RXAhSbGxJkFQ3NqliNidSyGFUnDRhbgQd7qRloIbxVUtiFhcSCn412p156ZUpbUgWGurdCFoFLSmaLOzIdjExdyhoWbmzmR+zsx53wcOgWTmu9857zN/l9w7QbM8DDwNPAXMAjuAbQ2/Zt+5AVwFFoDPgU+Bn0I2tBnmgKPATWDNo9JYBT4CHioTQEj2Af8QfuFiG8vA/uIxhOEQ4Rcq9nGwcBots5fkdBV6gWIfq8AzBTMZy0RNdeaAK8DWmuqZfG4AjwC/VS00qN4LAG8Bj9ZUy4xnCEwCp6oWquMM8ADw65haa8Bp4CLJk4HJZgDsAnaTv6arwAzwextN5fEC+desReCxYN31l8eBa+Sv7fPBulvHZ+TfsDwRrrXes5t8ASpfAurgAtkNngvYVyycJ3t9v61a/I6qBUje3s3iUg311bmY87fpqsXrECDv0W+5hvrq5K1h5cfuOgQwPcYCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLkzdAMB2AE8Ofo5PfrdH8BV4AzwZ5i2wqAiwBbgOWA/sAuYyNhuDbgAvAu8A6y00VzfWSJZuI3G4YB9pewDFsjuMWv8Auxpv93/cZjsHpeqFo/5HmBAchS/B8xuYv854ATwKhGvU6wTGwIfAM/WUOtlEomivFzGKMAAOEa9p++9JEINa6zZCWITYAAcJ7nu18088D6RSRCTAEPgQ8qFv0S5G6l5kstBNBLEIsCQ5OicL7DtX8CLJO8D3Dsa08BLwN8F9t9DZBJUJfRj4BA4mdPD+vEjMJNTa3a0TZFaJ2hHgkYfA+sgpAADkiO/SGBXSI76cUwBlwrWPEnzEliADJoIP6VLEliADWgy/JQyEnxMcxJYgNtoI/yULkhgAdbRZvgpoSWwACOGwCc5r9VE+CkhJbAAhA0/JZQE8gKUDf++Gl4zixASSAvQpfBT2pZAVoAuhp/SpgSSAnQ5/JS2JJAToA/hp7QhgZQAfQo/pWkJZAToY/gpTUogIUCfw09pSoLoBYgh/JQmJIhagJjCT6lbgmgFiDH8lDoliFKAIXAqZ78+h59SlwTRCaAQfkodEnRegOtkN3jktm3LhH8Z2N58+42znWQuRea80b+XHcnZ/nrz7Y9ngewGv+LWJ3HvQi/8lLISbBntNwC+ydn259ZmkMMX5E/oDHAU+GHMdrGGn1JGgu+A14Gvx2x3utUZZPAKxSalHH5KGQmKjEPttr8xDwI3cfhFqUuCf9ncx94b4W2qTabvd/tlKfN0kDXebL3rHO6h+DV+oyN/qv2WgzPF5s8El0nWvFPspLzV54DJEM12hEngPOXW7HtufblV57ib5Ll1hfxJrACvAVvDtNkptpHc8RdZszdI1rjzzAAHgC+BRWCZ5OvXzgIHgfvDtdZZdpLc1Z8FrpEEvkiyhgfI/1TzpvkPuF8CqplV4bMAAAAASUVORK5CYII=",alt:""})})]})}),(0,NO.jsx)(mM,{})]})})),bM="messenger/usersSearchReducer/getAllUsers",_M="messenger/usersSearchReducer/getUserPage",EM="messenger/userSearchReducer/setSearchName",CM="messenger/userSearchReducer/setOnSearch",SM="instaClone/userSearchReducer/getFollowers",IM="instaClone/userSearchReducer/getFollowed",xM={userToSearch:"",users:null,onSearch:!1},TM=function(e){return{type:"messenger/usersSearchReducer/getAllUsers",payload:e}},NM=function(e){return{type:"messenger/userSearchReducer/setOnSearch",payload:e}},RM=function(e){return{type:"instaClone/userSearchReducer/getFollowers",payload:e}},PM=function(e){return{type:"instaClone/userSearchReducer/getFollowed",payload:e}},DM=function(){return function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(wO.set_is_fetch_true()),t(NM(!0)),e.next=4,rM.getAllUsers();case 4:(n=e.sent)?(t(TM(Object.values(n))),t(wO.set_is_fetch_fasle()),t(NM(!1))):(t(NM(!1)),t(wO.set_is_fetch_fasle()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},OM="Search_searchWrapper__HqHo9",LM="Search_searchResults__e3y-W",MM="Search_userMiniPage__qCWVL",UM="Search_userName__giRNN",FM="Search_input__d97lD",BM=function(){return(0,NO.jsx)("div",{className:qL})},jM=e.memo((function(t){var n=Se(),r=rs(),i=u((0,e.useState)(!1),2),a=i[0],o=i[1],s=No((function(e){return e.search.users}));(0,e.useEffect)((function(){r(DM())}),[]);return(0,NO.jsxs)("section",{className:OM,children:[(0,NO.jsx)("div",{className:FM,children:(0,NO.jsx)("input",{type:"text",placeholder:"find users",onChange:function(e){var t;e.currentTarget.value.length>0?(o(!0),r((t=e.currentTarget.value,function(){var e=ss(as().mark((function e(n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(wO.set_is_fetch_true()),n(NM(!0)),e.next=4,rM.getUserPageByName(t);case 4:null!==(r=e.sent)&&(n(TM(r)),n(wO.set_is_fetch_fasle()),n(NM(!1)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))):r(DM())},onBlur:function(){o(!1)}})}),(0,NO.jsx)("section",{className:LM,children:a?(0,NO.jsx)(BM,{}):null===s||void 0===s?void 0:s.map((function(e){return(0,NO.jsxs)("div",{className:MM,onClick:function(){var t;t=e.userID,r(lM(null)),n("/profile/id="+t)},children:[(0,NO.jsx)(BL,{avatarIMG:e.avatar,userID:e.userID,fullName:e.fullName,size:"small"}),(0,NO.jsx)("span",{className:UM,children:e.fullName})]},e.userID)}))})]})})),VM="Router_router__1FSFN",qM="Coments_ComentInput__PwDo-",zM="Coments_comentWrapper__y4LWo",QM="Coments_noComents__PZtuX",HM="Coments_cancelButton__HPTc-",WM="Coments_publish__7rSAJ",KM="Coments_comentsList__P9uV+",GM=e.memo((function(t){var n=u((0,e.useState)(!1),2),r=(n[0],n[1],Se()),i=Ce(),a=rs(),o=No((function(e){return e.account})),s=No((function(e){return e.coments.coments})),c=No((function(e){return e.coments.newComentText})),l={coment:c},f=function(e){console.log("DISPATCHED : "+c),a(ZL(e.currentTarget.value))};return(0,NO.jsxs)("section",{className:zM,children:[(0,NO.jsx)("div",{className:KM,children:s.length>0?s.map((function(e){return(0,NO.jsx)("div",{children:(0,NO.jsx)(eM,{coment:e,currentUserID:o.userID},e.comentID)},e.comentID)})):(0,NO.jsx)("div",{children:(0,NO.jsx)("h1",{className:QM,children:"No coments yet"})})}),(0,NO.jsx)("section",{className:qM,children:(0,NO.jsx)(ao,{onChanhe:f,enableReinitialize:!0,initialValues:l,onSubmit:function(e){var t,n,r={avatar:o.avatar,comentatorID:o.userID,comentatorName:o.fullName,coment_text:e.coment};a((t=r,n=i.pathname.split("/")[2].split("=")[1],function(){var e=ss(as().mark((function e(r){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(wO.set_is_fetch_true()),nL.addComentToPost(t.avatar,n,t.comentatorName,t.comentatorID,t.coment_text),r(XL(t)),r(wO.set_is_fetch_fasle());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a(ZL(""))},children:(0,NO.jsxs)(fo,{children:[(0,NO.jsx)(lo,{onKeyUp:f,name:"coment",type:"text",autocomplete:"off"}),(0,NO.jsx)("br",{}),(0,NO.jsx)("button",{className:HM,onClick:function(){var e=i.pathname.split("/coments")[0];r(e)},children:"Back"}),(0,NO.jsx)("button",{className:WM,type:"submit",children:"Publish"})]})})})]})})),YM="News_news__nyFA-",JM="News_postIMGContainer__E8kk1",XM=e.memo((function(t){var n=rs(),r=No((function(e){return e.app.is_fetch}));(0,e.useEffect)((function(){console.log(r)}),[r]),(0,e.useEffect)((function(){n(function(){var e=ss(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(wO.set_is_fetch_true()),e.next=3,nL.getAllPosts();case 3:(n=e.sent)&&(t(hL(n)),t(wO.set_is_fetch_fasle()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var i=No((function(e){return e.userPosts.posts}));return r?(0,NO.jsx)(NO.Fragment,{children:(0,NO.jsx)(zL,{})}):(0,NO.jsx)("div",{className:YM,children:i.length?i.map((function(e){return(0,NO.jsx)("div",{className:JM,children:(0,NO.jsx)(Je,{to:"/p/id="+e.id,children:(0,NO.jsx)("img",{src:e.postIMG,alt:""})})},e.id)})):null})})),ZM={},$M=e.memo((function(t){var n=rs(),r=Ce(),i=r.pathname.split("/")[3],a=r.pathname.split("/")[2].split("=")[1];(0,e.useEffect)((function(){var e;n("followers"===i?(e=a,function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rM.getFollowers(e);case 2:(r=t.sent)&&n(RM(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):function(e){return function(){var t=ss(as().mark((function t(n){var r;return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rM.getFollowedUsers(e);case 2:(r=t.sent)&&n(PM(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}),[]);var o=No((function(e){return e.search.users}));return console.log(o),(0,NO.jsx)("section",{className:ZM.UsersList,children:(0,NO.jsx)("input",{placeholder:"Search users",onClick:function(){},onBlur:function(){}})})})),eU=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={hasError:!1},r}return g(n,[{key:"render",value:function(){return this.state.hasError?(0,NO.jsx)("section",{children:(0,NO.jsx)("h1",{children:"Something went wrong"})}):this.props.children}}],[{key:"componentDidCatch",value:function(e,t){return console.log("Error"),(0,NO.jsx)("div",{children:(0,NO.jsx)("h1",{children:"Something went wrong"})})}}]),n}(e.Component),tU="/login",nU="/profile/:id",rU=function(e){new eU(e);return e.isAuth?(0,NO.jsx)("div",{className:VM,children:(0,NO.jsxs)(je,{children:[(0,NO.jsx)(Fe,{path:tU,element:(0,NO.jsx)(Ue,{to:nU+"="+e.actualUser})}),(0,NO.jsx)(Fe,{path:"/",element:null}),(0,NO.jsx)(Fe,{path:nU,element:(0,NO.jsx)(wM,{})}),(0,NO.jsx)(Fe,{path:"/p/:id",element:(0,NO.jsx)(eU,{children:(0,NO.jsx)(tM,{})})}),(0,NO.jsx)(Fe,{path:"/search",element:(0,NO.jsx)(jM,{})}),(0,NO.jsx)(Fe,{path:"/newPost",element:(0,NO.jsx)(kL,{})}),(0,NO.jsx)(Fe,{path:"/p/:id/coments",element:(0,NO.jsx)(GM,{})}),(0,NO.jsx)(Fe,{path:"/news",element:(0,NO.jsx)(XM,{})}),(0,NO.jsx)(Fe,{path:"/profile/:id/Followers",element:(0,NO.jsx)($M,{})}),(0,NO.jsx)(Fe,{path:"/profile/:id/Followed",element:(0,NO.jsx)($M,{})})]})}):(0,NO.jsx)("div",{children:(0,NO.jsxs)(je,{children:[(0,NO.jsx)(Fe,{path:tU,element:(0,NO.jsx)(PO,{})}),(0,NO.jsx)(Fe,{path:"*",element:(0,NO.jsx)(Ue,{to:tU,replace:!0})}),(0,NO.jsx)(Fe,{path:"/registration",element:(0,NO.jsx)(tL,{})})]})})},iU={navbarContainer:"Navbar_navbarContainer__IC5gz",navigation_list:"Navbar_navigation_list__6JIvd"},aU=n.p+"static/media/search.bbf2dec15d518049563b.png",oU=e.memo((function(e){var t=rs(),n=No((function(e){return e.auth.is_auth})),r=No((function(e){return e.account.userID}));return(0,NO.jsx)("footer",{className:iU.navbarContainer,children:(0,NO.jsx)("section",{className:iU.navigation,children:(0,NO.jsxs)("ul",{className:iU.navigation_list,children:[(0,NO.jsx)("li",{children:(0,NO.jsx)(Je,{to:"/search",children:(0,NO.jsx)("img",{src:aU,alt:"#"})})}),(0,NO.jsx)("li",{children:(0,NO.jsx)(Je,{to:"/profile/id=".concat(r),children:(0,NO.jsx)("img",{src:"data:image/png;base64,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",alt:"#"})})}),(0,NO.jsx)("li",{children:(0,NO.jsx)(Je,{to:"/news",children:(0,NO.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}),(0,NO.jsx)("li",{children:(0,NO.jsx)(Je,{to:"newPost",children:(0,NO.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATHSURBVHic7Z3NbxVVGIefTltIhHqbGFqoC1mybMJKSm9N3Rr/AXVtIELqVt1CG8LCP0WDWwQWfiRCwgqqC6QWNDQ1KVE++gF1cXpNc3vnzNyPmTs3v9+TvJuec2bOyfvMzDn3nukdon2GgRlgHjgNnALeAsaBoQ6OZ9pnF9gA1oFfgdvA98CPwKuiTjoFLAF/7nXAUb14DCwCJ1Jy2BFjwFXgZQUG6MgXL4ArwNEW+WyLOvBHBQbk6CxWgLMHspqTC8B2BQbh6C62gfO0yVcV6Lijt/ElOfmsAp11FBPnaKJ52VYHrgMjzRVT2CIsPVaAJ3snMcUzBEwC7wBngEM52+0A7wE/tCocA1bJZ9I94CPgzQ4HYHpHDfgYuE++3D0EjrQ60NUcjTcJk8O8dwhTHiPARUKOsvK42Nx4irB2jDVaB2YLHoTpnllCrmK5fA4c399oKaPBJk7+IFEn+05wuVF5mOyPdy+U13fTIxaI5/QRIffUMyrew8/8QWQEWCae25mE8K1ejEuE5YMZLHYIuYsxD/Ad6Ya8xEu9QaZGfC7wLcBvkQo3Su+y6TW3SM/vcgJMRBr/Xnj3TNHEcjiREP/O+EmPO2PK569I2VjC3lIghc0ed8aUTyyHI0lp3TCVxAKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEEdxv/804R9atWIDuFtiX/qOogBfA3MpZbcIr0/L4EeAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiFPVXcHThN27RR07VnazoPMuUMEt51UVYJz0rdtFUivwvGnvIvQVPwLEsQDiWABxLIA4FkCcqq4CNggvahbBNGG234qnFLdU2yjouF1RVQHuUtxbujdJX+oVed5K4keAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiFPVXcFFskD8R6OkUBSgcq9o9xM/AsSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHESYBXkfLDZXXEFEYshzsJ8G+kwvEed8aUz1Sk7J8EWItUONnbvpg+cDJStgZwDdhNiS0q+lMnJhc1YJP0/H6TALcjBxgFPii4k6Y4PgQORcrvAMySbsgucB/N7eODziiwTDy3ZwCGgccZFS+W23fTAz4nntNV9n0MsJhReROol9d30yVzhPlbLKeX9jc4AbzIaLCOJRgE5oC/iefyGTDZ3PBKRqPGnWABzwmqyCjhtp915R+4+hscBVZyNN4lTC4+If23d0x5jBNykTXha8QD4I1G46Gmg50FbpD/Ct8CfgYeEiaSTzsbg2mTGvA24UOedwlXfx62CY+In2KVzpPPJMfgxac0Mdz8B+AXYAeYb1FmBpcvaPMX2c8Rbhn9ttbRXWzR4srPywzh+d7vQTg6iweEOUJXHAGWgOcVGJAjXzwjLPX+n+33gkngMvCoAgN0tI5VQuInUnJ4gOZlYB4Swm3lfeA0cAo4RliaeItZObwmLLnXCOv/O8B1wpL8dTsH+g8rTSMiLBAhyQAAAABJRU5ErkJggg==",alt:"#"})})}),(0,NO.jsx)("li",{children:n?(0,NO.jsx)("img",{src:"data:image/png;base64,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",alt:"",onClick:function(){t(function(){var e=ss(as().mark((function e(t){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eO.signOut(),t(xO.set_auth_false());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}):null})]})})})})),sU=n(413),uU=e.memo((function(t){(0,e.useEffect)((function(){t.init()}),[]);var n=u((0,e.useState)(!1),2),r=n[0],i=n[1];return function(e,t,n,r){EA(e,"child_changed",t,n,r)}(yA(FA(),"Chat/"),(function(e){i(!0),console.log("Message recieved")})),t.isInit||!t.isFetch?(0,NO.jsx)("div",{className:l.app,children:(0,NO.jsxs)(Ke,{children:[r?(0,NO.jsx)("audio",{src:sU,autoPlay:!0}):null,(0,NO.jsx)(oU,{}),(0,NO.jsx)(rU,{actualUser:t.currentUserID,isAuth:t.isAuth})]})}):(0,NO.jsx)("div",{children:(0,NO.jsxs)(Ke,{children:[(0,NO.jsx)(zL,{}),(0,NO.jsx)(oU,{})]})})})),cU=Xo((function(e){return{isInit:e.app.is_initialize,isFetch:e.app.is_fetch,currentUserID:e.app.currentUserID,userPage:e.userPage,isNewPost:e.userPosts.isOnNewPost,isAuth:e.auth.is_auth}}),(function(e){return{init:function(){e(function(){var e=Nd();return function(){var t=ss(as().mark((function t(n){return as().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(xO.set_auth_true()),n(wO.set_is_fetch_true()),Lf(e,(function(e){var t;n(wO.init(!1)),null!==e?(n(wO.setCurrentUserID(null===e||void 0===e?void 0:e.uid)),n((t=e.uid,function(){var e=ss(as().mark((function e(n){var r,i;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(wO.init(!1)),e.next=4,eO.getAccount(t);case 4:if(!(r=e.sent)){e.next=11;break}i={fullName:null===r||void 0===r?void 0:r.fullName,avatar:null===r||void 0===r?void 0:r.avatar,userID:null===r||void 0===r?void 0:r.userID,status:null===r||void 0===r?void 0:r.status,chats:r.chats},n(lO(i)),n(wO.init(!0)),e.next=12;break;case 11:throw new Error;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())),n(xO.set_auth_true()),n(wO.set_is_fetch_fasle()),n(wO.init(!0))):(console.log("NOT_AUTHORIZED"),n(xO.set_auth_false()),n(wO.set_is_fetch_fasle()),n(wO.init(!0)))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}())},setIsOnNewPost:function(t){e(yL(t))}}}))(uU),lU=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function fU(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var hU="function"===typeof Symbol&&Symbol.observable||"@@observable",dU=function(){return Math.random().toString(36).substring(7).split("").join(".")},pU={INIT:"@@redux/INIT"+dU(),REPLACE:"@@redux/REPLACE"+dU(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+dU()}};function vU(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var yU=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(fU(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(fU(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(fU(2));var a=t,o=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error(fU(3));return o}function h(e){if("function"!==typeof e)throw new Error(fU(4));if(c)throw new Error(fU(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(fU(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function d(e){if(!vU(e))throw new Error(fU(7));if("undefined"===typeof e.type)throw new Error(fU(8));if(c)throw new Error(fU(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:pU.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:function(e){if("function"!==typeof e)throw new Error(fU(10));a=e,d({type:pU.REPLACE})}})[hU]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(fU(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[hU]=function(){return this},e},i};function gU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function mU(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var AU=mU();AU.withExtraArgument=mU;var kU=AU,wU=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:pU.INIT}))throw new Error(fU(12));if("undefined"===typeof n(void 0,{type:pU.PROBE_UNKNOWN_ACTION()}))throw new Error(fU(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(fU(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vO:return ls(ls({},e),{},{is_initialize:t.payload});case yO:return ls(ls({},e),{},{is_fetch:!0});case gO:return ls(ls({},e),{},{is_fetch:!1});case mO:return ls(ls({},e),{},{currentUserID:t.payload});case AO:return ls(ls({},e),{},{onLoad:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case CO:return ls(ls({},e),{},{user_id:t.payload});case SO:return ls(ls({},e),{},{onError:t.payload});case bO:return ls(ls({},e),{},{is_auth:!0});case _O:return ls(ls({},e),{},{is_auth:!1});case EO:return ls(ls({},e),{},{auth_token:t.payload});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iO:return ls(ls({},e),t.payload);case aO:return ls(ls({},e),{},{avatar:t.payload});case oO:return ls(ls({},e),{},{status:t.payload});case sO:return ls(ls({},e),{},{newStatus:t.payload});case uO:return ls(ls({},e),{},{newAvatar:t.payload});default:return e}},userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iM:return ls(ls({},e),t.payload);case aM:return ls(ls({},e),{},{status:t.payload});case oM:var n;return ls(ls({},e),{},{followers:null===(n=e.followers)||void 0===n?void 0:n.concat(t.payload)});case sM:var r;return ls(ls({},e),{},{followers:null===(r=e.followers)||void 0===r?void 0:r.filter((function(e){return e!==t.payload}))});case uM:return ls(ls({},e),{},{status:t.payload});default:return e}},userPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rL:return ls(ls({},e),{},{posts:t.payload});case lL:return ls(ls({},e),{},{posts:ls({},e.posts.concat(t.payload))});case iL:return ls(ls({},e),{},{currentPost:t.payload});case aL:return ls(ls({},e),{},{currentPost:ls(ls({},e.currentPost),{},{likesCount:e.currentPost.likesCount.concat(t.payload)})});case oL:return ls(ls({},e),{},{currentPost:ls(ls({},e.currentPost),{},{likesCount:e.currentPost.likesCount.filter((function(e){return e!==t.payload}))})});case sL:return ls(ls({},e),{},{isOnNewPost:t.payload});case uL:return ls(ls({},e),{},{newPostPhoto:t.payload});case cL:return ls(ls({},e),{},{newPostText:e.newPostText.concat(t.payload)});default:return e}},coments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case QL:return ls(ls({},e),{},{coments:t.payload});case HL:return ls(ls({},e),{},{coments:e.coments.concat(t.payload)});case WL:return ls(ls({},e),{},{coments:e.coments.filter((function(e){return e.comentID!==t.payload}))});case KL:return ls(ls({},e),{},{newComentText:t.payload});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bM:return ls(ls({},e),{},{users:t.payload});case EM:return ls(ls({},e),{},{userToSearch:t.payload});case _M:return ls(ls({},e),{},{users:t.payload});case CM:return ls(ls({},e),{},{onSearch:t.payload});case SM:case IM:return ls(ls({},e),{},{users:t.payload});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OO:return ls(ls({},e),{},{userName:t.payload});case LO:return ls(ls({},e),{},{passwordField1:t.payload});case MO:return ls(ls({},e),{},{passwordField2:t.payload});case DO:return ls(ls({},e),{},{email:t.payload});case UO:return ls(ls({},e),{},{avatar:t.payload});case BO:return ls(ls({},e),{},{newUserID:t.payload});case FO:return ls(ls({},e),{},{status:t.payload});default:return e}}}),bU=yU(wU,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(fU(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=gU.apply(void 0,a)(n.dispatch),ls(ls({},n),{},{dispatch:r})}}}(kU));window.store=bU,r.createRoot(document.getElementById("root")).render((0,NO.jsx)(e.StrictMode,{children:(0,NO.jsx)(Zo,{store:bU,children:(0,NO.jsx)(cU,{})})})),lU()}()}();
//# sourceMappingURL=main.4f1983c9.js.map